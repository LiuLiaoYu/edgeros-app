var Lh=Object.defineProperty;var Rh=(e,t,n)=>t in e?Lh(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var mt=(e,t,n)=>(Rh(e,typeof t!="symbol"?t+"":t,n),n);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();/**
* @vue/shared v3.4.21
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function Fo(e,t){const n=new Set(e.split(","));return t?r=>n.has(r.toLowerCase()):r=>n.has(r)}const He={},Wn=[],wt=()=>{},Th=()=>!1,$i=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&(e.charCodeAt(2)>122||e.charCodeAt(2)<97),Bo=e=>e.startsWith("onUpdate:"),Ze=Object.assign,Do=(e,t)=>{const n=e.indexOf(t);n>-1&&e.splice(n,1)},Oh=Object.prototype.hasOwnProperty,Pe=(e,t)=>Oh.call(e,t),pe=Array.isArray,Gn=e=>qr(e)==="[object Map]",Uc=e=>qr(e)==="[object Set]",Ph=e=>qr(e)==="[object RegExp]",xe=e=>typeof e=="function",Ge=e=>typeof e=="string",ir=e=>typeof e=="symbol",Ve=e=>e!==null&&typeof e=="object",Vc=e=>(Ve(e)||xe(e))&&xe(e.then)&&xe(e.catch),Hc=Object.prototype.toString,qr=e=>Hc.call(e),Ih=e=>qr(e).slice(8,-1),Kc=e=>qr(e)==="[object Object]",Mo=e=>Ge(e)&&e!=="NaN"&&e[0]!=="-"&&""+parseInt(e,10)===e,wr=Fo(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),qi=e=>{const t=Object.create(null);return n=>t[n]||(t[n]=e(n))},Fh=/-(\w)/g,Vt=qi(e=>e.replace(Fh,(t,n)=>n?n.toUpperCase():"")),Bh=/\B([A-Z])/g,sr=qi(e=>e.replace(Bh,"-$1").toLowerCase()),Xi=qi(e=>e.charAt(0).toUpperCase()+e.slice(1)),ws=qi(e=>e?`on${Xi(e)}`:""),En=(e,t)=>!Object.is(e,t),zn=(e,t)=>{for(let n=0;n<e.length;n++)e[n](t)},Oi=(e,t,n)=>{Object.defineProperty(e,t,{configurable:!0,enumerable:!1,value:n})},Ys=e=>{const t=parseFloat(e);return isNaN(t)?e:t},Dh=e=>{const t=Ge(e)?Number(e):NaN;return isNaN(t)?e:t};let Ta;const Wc=()=>Ta||(Ta=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function Yi(e){if(pe(e)){const t={};for(let n=0;n<e.length;n++){const r=e[n],i=Ge(r)?jh(r):Yi(r);if(i)for(const s in i)t[s]=i[s]}return t}else if(Ge(e)||Ve(e))return e}const Mh=/;(?![^(]*\))/g,kh=/:([^]+)/,Nh=/\/\*[^]*?\*\//g;function jh(e){const t={};return e.replace(Nh,"").split(Mh).forEach(n=>{if(n){const r=n.split(kh);r.length>1&&(t[r[0].trim()]=r[1].trim())}}),t}function Jn(e){let t="";if(Ge(e))t=e;else if(pe(e))for(let n=0;n<e.length;n++){const r=Jn(e[n]);r&&(t+=r+" ")}else if(Ve(e))for(const n in e)e[n]&&(t+=n+" ");return t.trim()}const Uh="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",Vh=Fo(Uh);function Gc(e){return!!e||e===""}const ft=e=>Ge(e)?e:e==null?"":pe(e)||Ve(e)&&(e.toString===Hc||!xe(e.toString))?JSON.stringify(e,zc,2):String(e),zc=(e,t)=>t&&t.__v_isRef?zc(e,t.value):Gn(t)?{[`Map(${t.size})`]:[...t.entries()].reduce((n,[r,i],s)=>(n[As(r,s)+" =>"]=i,n),{})}:Uc(t)?{[`Set(${t.size})`]:[...t.values()].map(n=>As(n))}:ir(t)?As(t):Ve(t)&&!pe(t)&&!Kc(t)?String(t):t,As=(e,t="")=>{var n;return ir(e)?`Symbol(${(n=e.description)!=null?n:t})`:e};/**
* @vue/reactivity v3.4.21
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let gt;class $c{constructor(t=!1){this.detached=t,this._active=!0,this.effects=[],this.cleanups=[],this.parent=gt,!t&&gt&&(this.index=(gt.scopes||(gt.scopes=[])).push(this)-1)}get active(){return this._active}run(t){if(this._active){const n=gt;try{return gt=this,t()}finally{gt=n}}}on(){gt=this}off(){gt=this.parent}stop(t){if(this._active){let n,r;for(n=0,r=this.effects.length;n<r;n++)this.effects[n].stop();for(n=0,r=this.cleanups.length;n<r;n++)this.cleanups[n]();if(this.scopes)for(n=0,r=this.scopes.length;n<r;n++)this.scopes[n].stop(!0);if(!this.detached&&this.parent&&!t){const i=this.parent.scopes.pop();i&&i!==this&&(this.parent.scopes[this.index]=i,i.index=this.index)}this.parent=void 0,this._active=!1}}}function Hh(e){return new $c(e)}function Kh(e,t=gt){t&&t.active&&t.effects.push(e)}function qc(){return gt}function Wh(e){gt&&gt.cleanups.push(e)}let Tn;class ko{constructor(t,n,r,i){this.fn=t,this.trigger=n,this.scheduler=r,this.active=!0,this.deps=[],this._dirtyLevel=4,this._trackId=0,this._runnings=0,this._shouldSchedule=!1,this._depsLength=0,Kh(this,i)}get dirty(){if(this._dirtyLevel===2||this._dirtyLevel===3){this._dirtyLevel=1,In();for(let t=0;t<this._depsLength;t++){const n=this.deps[t];if(n.computed&&(Gh(n.computed),this._dirtyLevel>=4))break}this._dirtyLevel===1&&(this._dirtyLevel=0),Fn()}return this._dirtyLevel>=4}set dirty(t){this._dirtyLevel=t?4:0}run(){if(this._dirtyLevel=0,!this.active)return this.fn();let t=gn,n=Tn;try{return gn=!0,Tn=this,this._runnings++,Oa(this),this.fn()}finally{Pa(this),this._runnings--,Tn=n,gn=t}}stop(){var t;this.active&&(Oa(this),Pa(this),(t=this.onStop)==null||t.call(this),this.active=!1)}}function Gh(e){return e.value}function Oa(e){e._trackId++,e._depsLength=0}function Pa(e){if(e.deps.length>e._depsLength){for(let t=e._depsLength;t<e.deps.length;t++)Xc(e.deps[t],e);e.deps.length=e._depsLength}}function Xc(e,t){const n=e.get(t);n!==void 0&&t._trackId!==n&&(e.delete(t),e.size===0&&e.cleanup())}let gn=!0,Js=0;const Yc=[];function In(){Yc.push(gn),gn=!1}function Fn(){const e=Yc.pop();gn=e===void 0?!0:e}function No(){Js++}function jo(){for(Js--;!Js&&Zs.length;)Zs.shift()()}function Jc(e,t,n){if(t.get(e)!==e._trackId){t.set(e,e._trackId);const r=e.deps[e._depsLength];r!==t?(r&&Xc(r,e),e.deps[e._depsLength++]=t):e._depsLength++}}const Zs=[];function Zc(e,t,n){No();for(const r of e.keys()){let i;r._dirtyLevel<t&&(i??(i=e.get(r)===r._trackId))&&(r._shouldSchedule||(r._shouldSchedule=r._dirtyLevel===0),r._dirtyLevel=t),r._shouldSchedule&&(i??(i=e.get(r)===r._trackId))&&(r.trigger(),(!r._runnings||r.allowRecurse)&&r._dirtyLevel!==2&&(r._shouldSchedule=!1,r.scheduler&&Zs.push(r.scheduler)))}jo()}const Qc=(e,t)=>{const n=new Map;return n.cleanup=e,n.computed=t,n},Pi=new WeakMap,On=Symbol(""),Qs=Symbol("");function ht(e,t,n){if(gn&&Tn){let r=Pi.get(e);r||Pi.set(e,r=new Map);let i=r.get(n);i||r.set(n,i=Qc(()=>r.delete(n))),Jc(Tn,i)}}function qt(e,t,n,r,i,s){const o=Pi.get(e);if(!o)return;let c=[];if(t==="clear")c=[...o.values()];else if(n==="length"&&pe(e)){const f=Number(r);o.forEach((d,u)=>{(u==="length"||!ir(u)&&u>=f)&&c.push(d)})}else switch(n!==void 0&&c.push(o.get(n)),t){case"add":pe(e)?Mo(n)&&c.push(o.get("length")):(c.push(o.get(On)),Gn(e)&&c.push(o.get(Qs)));break;case"delete":pe(e)||(c.push(o.get(On)),Gn(e)&&c.push(o.get(Qs)));break;case"set":Gn(e)&&c.push(o.get(On));break}No();for(const f of c)f&&Zc(f,4);jo()}function zh(e,t){var n;return(n=Pi.get(e))==null?void 0:n.get(t)}const $h=Fo("__proto__,__v_isRef,__isVue"),ef=new Set(Object.getOwnPropertyNames(Symbol).filter(e=>e!=="arguments"&&e!=="caller").map(e=>Symbol[e]).filter(ir)),Ia=qh();function qh(){const e={};return["includes","indexOf","lastIndexOf"].forEach(t=>{e[t]=function(...n){const r=Ie(this);for(let s=0,o=this.length;s<o;s++)ht(r,"get",s+"");const i=r[t](...n);return i===-1||i===!1?r[t](...n.map(Ie)):i}}),["push","pop","shift","unshift","splice"].forEach(t=>{e[t]=function(...n){In(),No();const r=Ie(this)[t].apply(this,n);return jo(),Fn(),r}}),e}function Xh(e){const t=Ie(this);return ht(t,"has",e),t.hasOwnProperty(e)}class tf{constructor(t=!1,n=!1){this._isReadonly=t,this._isShallow=n}get(t,n,r){const i=this._isReadonly,s=this._isShallow;if(n==="__v_isReactive")return!i;if(n==="__v_isReadonly")return i;if(n==="__v_isShallow")return s;if(n==="__v_raw")return r===(i?s?lp:of:s?sf:rf).get(t)||Object.getPrototypeOf(t)===Object.getPrototypeOf(r)?t:void 0;const o=pe(t);if(!i){if(o&&Pe(Ia,n))return Reflect.get(Ia,n,r);if(n==="hasOwnProperty")return Xh}const c=Reflect.get(t,n,r);return(ir(n)?ef.has(n):$h(n))||(i||ht(t,"get",n),s)?c:Me(c)?o&&Mo(n)?c:c.value:Ve(c)?i?Zn(c):Ht(c):c}}class nf extends tf{constructor(t=!1){super(!1,t)}set(t,n,r,i){let s=t[n];if(!this._isShallow){const f=Qn(s);if(!Ii(r)&&!Qn(r)&&(s=Ie(s),r=Ie(r)),!pe(t)&&Me(s)&&!Me(r))return f?!1:(s.value=r,!0)}const o=pe(t)&&Mo(n)?Number(n)<t.length:Pe(t,n),c=Reflect.set(t,n,r,i);return t===Ie(i)&&(o?En(r,s)&&qt(t,"set",n,r):qt(t,"add",n,r)),c}deleteProperty(t,n){const r=Pe(t,n);t[n];const i=Reflect.deleteProperty(t,n);return i&&r&&qt(t,"delete",n,void 0),i}has(t,n){const r=Reflect.has(t,n);return(!ir(n)||!ef.has(n))&&ht(t,"has",n),r}ownKeys(t){return ht(t,"iterate",pe(t)?"length":On),Reflect.ownKeys(t)}}class Yh extends tf{constructor(t=!1){super(!0,t)}set(t,n){return!0}deleteProperty(t,n){return!0}}const Jh=new nf,Zh=new Yh,Qh=new nf(!0),Uo=e=>e,Ji=e=>Reflect.getPrototypeOf(e);function si(e,t,n=!1,r=!1){e=e.__v_raw;const i=Ie(e),s=Ie(t);n||(En(t,s)&&ht(i,"get",t),ht(i,"get",s));const{has:o}=Ji(i),c=r?Uo:n?Wo:Mr;if(o.call(i,t))return c(e.get(t));if(o.call(i,s))return c(e.get(s));e!==i&&e.get(t)}function oi(e,t=!1){const n=this.__v_raw,r=Ie(n),i=Ie(e);return t||(En(e,i)&&ht(r,"has",e),ht(r,"has",i)),e===i?n.has(e):n.has(e)||n.has(i)}function ai(e,t=!1){return e=e.__v_raw,!t&&ht(Ie(e),"iterate",On),Reflect.get(e,"size",e)}function Fa(e){e=Ie(e);const t=Ie(this);return Ji(t).has.call(t,e)||(t.add(e),qt(t,"add",e,e)),this}function Ba(e,t){t=Ie(t);const n=Ie(this),{has:r,get:i}=Ji(n);let s=r.call(n,e);s||(e=Ie(e),s=r.call(n,e));const o=i.call(n,e);return n.set(e,t),s?En(t,o)&&qt(n,"set",e,t):qt(n,"add",e,t),this}function Da(e){const t=Ie(this),{has:n,get:r}=Ji(t);let i=n.call(t,e);i||(e=Ie(e),i=n.call(t,e)),r&&r.call(t,e);const s=t.delete(e);return i&&qt(t,"delete",e,void 0),s}function Ma(){const e=Ie(this),t=e.size!==0,n=e.clear();return t&&qt(e,"clear",void 0,void 0),n}function li(e,t){return function(r,i){const s=this,o=s.__v_raw,c=Ie(o),f=t?Uo:e?Wo:Mr;return!e&&ht(c,"iterate",On),o.forEach((d,u)=>r.call(i,f(d),f(u),s))}}function ui(e,t,n){return function(...r){const i=this.__v_raw,s=Ie(i),o=Gn(s),c=e==="entries"||e===Symbol.iterator&&o,f=e==="keys"&&o,d=i[e](...r),u=n?Uo:t?Wo:Mr;return!t&&ht(s,"iterate",f?Qs:On),{next(){const{value:a,done:l}=d.next();return l?{value:a,done:l}:{value:c?[u(a[0]),u(a[1])]:u(a),done:l}},[Symbol.iterator](){return this}}}}function en(e){return function(...t){return e==="delete"?!1:e==="clear"?void 0:this}}function ep(){const e={get(s){return si(this,s)},get size(){return ai(this)},has:oi,add:Fa,set:Ba,delete:Da,clear:Ma,forEach:li(!1,!1)},t={get(s){return si(this,s,!1,!0)},get size(){return ai(this)},has:oi,add:Fa,set:Ba,delete:Da,clear:Ma,forEach:li(!1,!0)},n={get(s){return si(this,s,!0)},get size(){return ai(this,!0)},has(s){return oi.call(this,s,!0)},add:en("add"),set:en("set"),delete:en("delete"),clear:en("clear"),forEach:li(!0,!1)},r={get(s){return si(this,s,!0,!0)},get size(){return ai(this,!0)},has(s){return oi.call(this,s,!0)},add:en("add"),set:en("set"),delete:en("delete"),clear:en("clear"),forEach:li(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(s=>{e[s]=ui(s,!1,!1),n[s]=ui(s,!0,!1),t[s]=ui(s,!1,!0),r[s]=ui(s,!0,!0)}),[e,n,t,r]}const[tp,np,rp,ip]=ep();function Vo(e,t){const n=t?e?ip:rp:e?np:tp;return(r,i,s)=>i==="__v_isReactive"?!e:i==="__v_isReadonly"?e:i==="__v_raw"?r:Reflect.get(Pe(n,i)&&i in r?n:r,i,s)}const sp={get:Vo(!1,!1)},op={get:Vo(!1,!0)},ap={get:Vo(!0,!1)},rf=new WeakMap,sf=new WeakMap,of=new WeakMap,lp=new WeakMap;function up(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function cp(e){return e.__v_skip||!Object.isExtensible(e)?0:up(Ih(e))}function Ht(e){return Qn(e)?e:Ho(e,!1,Jh,sp,rf)}function af(e){return Ho(e,!1,Qh,op,sf)}function Zn(e){return Ho(e,!0,Zh,ap,of)}function Ho(e,t,n,r,i){if(!Ve(e)||e.__v_raw&&!(t&&e.__v_isReactive))return e;const s=i.get(e);if(s)return s;const o=cp(e);if(o===0)return e;const c=new Proxy(e,o===2?r:n);return i.set(e,c),c}function $n(e){return Qn(e)?$n(e.__v_raw):!!(e&&e.__v_isReactive)}function Qn(e){return!!(e&&e.__v_isReadonly)}function Ii(e){return!!(e&&e.__v_isShallow)}function lf(e){return $n(e)||Qn(e)}function Ie(e){const t=e&&e.__v_raw;return t?Ie(t):e}function Ko(e){return Object.isExtensible(e)&&Oi(e,"__v_skip",!0),e}const Mr=e=>Ve(e)?Ht(e):e,Wo=e=>Ve(e)?Zn(e):e;class uf{constructor(t,n,r,i){this.getter=t,this._setter=n,this.dep=void 0,this.__v_isRef=!0,this.__v_isReadonly=!1,this.effect=new ko(()=>t(this._value),()=>Ar(this,this.effect._dirtyLevel===2?2:3)),this.effect.computed=this,this.effect.active=this._cacheable=!i,this.__v_isReadonly=r}get value(){const t=Ie(this);return(!t._cacheable||t.effect.dirty)&&En(t._value,t._value=t.effect.run())&&Ar(t,4),Go(t),t.effect._dirtyLevel>=2&&Ar(t,2),t._value}set value(t){this._setter(t)}get _dirty(){return this.effect.dirty}set _dirty(t){this.effect.dirty=t}}function fp(e,t,n=!1){let r,i;const s=xe(e);return s?(r=e,i=wt):(r=e.get,i=e.set),new uf(r,i,s||!i,n)}function Go(e){var t;gn&&Tn&&(e=Ie(e),Jc(Tn,(t=e.dep)!=null?t:e.dep=Qc(()=>e.dep=void 0,e instanceof uf?e:void 0)))}function Ar(e,t=4,n){e=Ie(e);const r=e.dep;r&&Zc(r,t)}function Me(e){return!!(e&&e.__v_isRef===!0)}function le(e){return cf(e,!1)}function Ci(e){return cf(e,!0)}function cf(e,t){return Me(e)?e:new dp(e,t)}class dp{constructor(t,n){this.__v_isShallow=n,this.dep=void 0,this.__v_isRef=!0,this._rawValue=n?t:Ie(t),this._value=n?t:Mr(t)}get value(){return Go(this),this._value}set value(t){const n=this.__v_isShallow||Ii(t)||Qn(t);t=n?t:Ie(t),En(t,this._rawValue)&&(this._rawValue=t,this._value=n?t:Mr(t),Ar(this,4))}}function Ee(e){return Me(e)?e.value:e}const hp={get:(e,t,n)=>Ee(Reflect.get(e,t,n)),set:(e,t,n,r)=>{const i=e[t];return Me(i)&&!Me(n)?(i.value=n,!0):Reflect.set(e,t,n,r)}};function ff(e){return $n(e)?e:new Proxy(e,hp)}class pp{constructor(t){this.dep=void 0,this.__v_isRef=!0;const{get:n,set:r}=t(()=>Go(this),()=>Ar(this));this._get=n,this._set=r}get value(){return this._get()}set value(t){this._set(t)}}function mp(e){return new pp(e)}class _p{constructor(t,n,r){this._object=t,this._key=n,this._defaultValue=r,this.__v_isRef=!0}get value(){const t=this._object[this._key];return t===void 0?this._defaultValue:t}set value(t){this._object[this._key]=t}get dep(){return zh(Ie(this._object),this._key)}}class gp{constructor(t){this._getter=t,this.__v_isRef=!0,this.__v_isReadonly=!0}get value(){return this._getter()}}function vp(e,t,n){return Me(e)?e:xe(e)?new gp(e):Ve(e)&&arguments.length>1?yp(e,t,n):le(e)}function yp(e,t,n){const r=e[t];return Me(r)?r:new _p(e,t,n)}/**
* @vue/runtime-core v3.4.21
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function vn(e,t,n,r){try{return r?e(...r):e()}catch(i){Zi(i,t,n)}}function At(e,t,n,r){if(xe(e)){const s=vn(e,t,n,r);return s&&Vc(s)&&s.catch(o=>{Zi(o,t,n)}),s}const i=[];for(let s=0;s<e.length;s++)i.push(At(e[s],t,n,r));return i}function Zi(e,t,n,r=!0){const i=t?t.vnode:null;if(t){let s=t.parent;const o=t.proxy,c=`https://vuejs.org/error-reference/#runtime-${n}`;for(;s;){const d=s.ec;if(d){for(let u=0;u<d.length;u++)if(d[u](e,o,c)===!1)return}s=s.parent}const f=t.appContext.config.errorHandler;if(f){vn(f,null,10,[e,o,c]);return}}Ep(e,n,i,r)}function Ep(e,t,n,r=!0){console.error(e)}let kr=!1,eo=!1;const lt=[];let jt=0;const qn=[];let on=null,Ln=0;const df=Promise.resolve();let zo=null;function vt(e){const t=zo||df;return e?t.then(this?e.bind(this):e):t}function xp(e){let t=jt+1,n=lt.length;for(;t<n;){const r=t+n>>>1,i=lt[r],s=Nr(i);s<e||s===e&&i.pre?t=r+1:n=r}return t}function $o(e){(!lt.length||!lt.includes(e,kr&&e.allowRecurse?jt+1:jt))&&(e.id==null?lt.push(e):lt.splice(xp(e.id),0,e),hf())}function hf(){!kr&&!eo&&(eo=!0,zo=df.then(mf))}function bp(e){const t=lt.indexOf(e);t>jt&&lt.splice(t,1)}function Sp(e){pe(e)?qn.push(...e):(!on||!on.includes(e,e.allowRecurse?Ln+1:Ln))&&qn.push(e),hf()}function ka(e,t,n=kr?jt+1:0){for(;n<lt.length;n++){const r=lt[n];if(r&&r.pre){if(e&&r.id!==e.uid)continue;lt.splice(n,1),n--,r()}}}function pf(e){if(qn.length){const t=[...new Set(qn)].sort((n,r)=>Nr(n)-Nr(r));if(qn.length=0,on){on.push(...t);return}for(on=t,Ln=0;Ln<on.length;Ln++)on[Ln]();on=null,Ln=0}}const Nr=e=>e.id==null?1/0:e.id,wp=(e,t)=>{const n=Nr(e)-Nr(t);if(n===0){if(e.pre&&!t.pre)return-1;if(t.pre&&!e.pre)return 1}return n};function mf(e){eo=!1,kr=!0,lt.sort(wp);try{for(jt=0;jt<lt.length;jt++){const t=lt[jt];t&&t.active!==!1&&vn(t,null,14)}}finally{jt=0,lt.length=0,pf(),kr=!1,zo=null,(lt.length||qn.length)&&mf()}}function Ap(e,t,...n){if(e.isUnmounted)return;const r=e.vnode.props||He;let i=n;const s=t.startsWith("update:"),o=s&&t.slice(7);if(o&&o in r){const u=`${o==="modelValue"?"model":o}Modifiers`,{number:a,trim:l}=r[u]||He;l&&(i=n.map(h=>Ge(h)?h.trim():h)),a&&(i=n.map(Ys))}let c,f=r[c=ws(t)]||r[c=ws(Vt(t))];!f&&s&&(f=r[c=ws(sr(t))]),f&&At(f,e,6,i);const d=r[c+"Once"];if(d){if(!e.emitted)e.emitted={};else if(e.emitted[c])return;e.emitted[c]=!0,At(d,e,6,i)}}function _f(e,t,n=!1){const r=t.emitsCache,i=r.get(e);if(i!==void 0)return i;const s=e.emits;let o={},c=!1;if(!xe(e)){const f=d=>{const u=_f(d,t,!0);u&&(c=!0,Ze(o,u))};!n&&t.mixins.length&&t.mixins.forEach(f),e.extends&&f(e.extends),e.mixins&&e.mixins.forEach(f)}return!s&&!c?(Ve(e)&&r.set(e,null),null):(pe(s)?s.forEach(f=>o[f]=null):Ze(o,s),Ve(e)&&r.set(e,o),o)}function Qi(e,t){return!e||!$i(t)?!1:(t=t.slice(2).replace(/Once$/,""),Pe(e,t[0].toLowerCase()+t.slice(1))||Pe(e,sr(t))||Pe(e,t))}let Ye=null,gf=null;function Fi(e){const t=Ye;return Ye=e,gf=e&&e.type.__scopeId||null,t}function me(e,t=Ye,n){if(!t||e._n)return e;const r=(...i)=>{r._d&&Ja(-1);const s=Fi(t);let o;try{o=e(...i)}finally{Fi(s),r._d&&Ja(1)}return o};return r._n=!0,r._c=!0,r._d=!0,r}function Cs(e){const{type:t,vnode:n,proxy:r,withProxy:i,props:s,propsOptions:[o],slots:c,attrs:f,emit:d,render:u,renderCache:a,data:l,setupState:h,ctx:g,inheritAttrs:E}=e;let y,m;const _=Fi(e);try{if(n.shapeFlag&4){const p=i||r,v=p;y=Nt(u.call(v,p,a,s,h,l,g)),m=f}else{const p=t;y=Nt(p.length>1?p(s,{attrs:f,slots:c,emit:d}):p(s,null)),m=t.props?f:Cp(f)}}catch(p){Tr.length=0,Zi(p,e,1),y=B(Ct)}let x=y;if(m&&E!==!1){const p=Object.keys(m),{shapeFlag:v}=x;p.length&&v&7&&(o&&p.some(Bo)&&(m=Lp(m,o)),x=Jt(x,m))}return n.dirs&&(x=Jt(x),x.dirs=x.dirs?x.dirs.concat(n.dirs):n.dirs),n.transition&&(x.transition=n.transition),y=x,Fi(_),y}const Cp=e=>{let t;for(const n in e)(n==="class"||n==="style"||$i(n))&&((t||(t={}))[n]=e[n]);return t},Lp=(e,t)=>{const n={};for(const r in e)(!Bo(r)||!(r.slice(9)in t))&&(n[r]=e[r]);return n};function Rp(e,t,n){const{props:r,children:i,component:s}=e,{props:o,children:c,patchFlag:f}=t,d=s.emitsOptions;if(t.dirs||t.transition)return!0;if(n&&f>=0){if(f&1024)return!0;if(f&16)return r?Na(r,o,d):!!o;if(f&8){const u=t.dynamicProps;for(let a=0;a<u.length;a++){const l=u[a];if(o[l]!==r[l]&&!Qi(d,l))return!0}}}else return(i||c)&&(!c||!c.$stable)?!0:r===o?!1:r?o?Na(r,o,d):!0:!!o;return!1}function Na(e,t,n){const r=Object.keys(t);if(r.length!==Object.keys(e).length)return!0;for(let i=0;i<r.length;i++){const s=r[i];if(t[s]!==e[s]&&!Qi(n,s))return!0}return!1}function Tp({vnode:e,parent:t},n){for(;t;){const r=t.subTree;if(r.suspense&&r.suspense.activeBranch===e&&(r.el=e.el),r===e)(e=t.vnode).el=n,t=t.parent;else break}}const qo="components";function Op(e,t){return yf(qo,e,!0,t)||e}const vf=Symbol.for("v-ndc");function Pp(e){return Ge(e)?yf(qo,e,!1)||e:e||vf}function yf(e,t,n=!0,r=!1){const i=Ye||st;if(i){const s=i.type;if(e===qo){const c=co(s,!1);if(c&&(c===t||c===Vt(t)||c===Xi(Vt(t))))return s}const o=ja(i[e]||s[e],t)||ja(i.appContext[e],t);return!o&&r?s:o}}function ja(e,t){return e&&(e[t]||e[Vt(t)]||e[Xi(Vt(t))])}const Ef=e=>e.__isSuspense;function Ip(e,t){t&&t.pendingBranch?pe(e)?t.effects.push(...e):t.effects.push(e):Sp(e)}const Fp=Symbol.for("v-scx"),Bp=()=>dt(Fp);function xf(e,t){return Xo(e,null,t)}const ci={};function ke(e,t,n){return Xo(e,t,n)}function Xo(e,t,{immediate:n,deep:r,flush:i,once:s,onTrack:o,onTrigger:c}=He){if(t&&s){const b=t;t=(...w)=>{b(...w),v()}}const f=st,d=b=>r===!0?b:Rn(b,r===!1?1:void 0);let u,a=!1,l=!1;if(Me(e)?(u=()=>e.value,a=Ii(e)):$n(e)?(u=()=>d(e),a=!0):pe(e)?(l=!0,a=e.some(b=>$n(b)||Ii(b)),u=()=>e.map(b=>{if(Me(b))return b.value;if($n(b))return d(b);if(xe(b))return vn(b,f,2)})):xe(e)?t?u=()=>vn(e,f,2):u=()=>(h&&h(),At(e,f,3,[g])):u=wt,t&&r){const b=u;u=()=>Rn(b())}let h,g=b=>{h=x.onStop=()=>{vn(b,f,4),h=x.onStop=void 0}},E;if(ss)if(g=wt,t?n&&At(t,f,3,[u(),l?[]:void 0,g]):u(),i==="sync"){const b=Bp();E=b.__watcherHandles||(b.__watcherHandles=[])}else return wt;let y=l?new Array(e.length).fill(ci):ci;const m=()=>{if(!(!x.active||!x.dirty))if(t){const b=x.run();(r||a||(l?b.some((w,A)=>En(w,y[A])):En(b,y)))&&(h&&h(),At(t,f,3,[b,y===ci?void 0:l&&y[0]===ci?[]:y,g]),y=b)}else x.run()};m.allowRecurse=!!t;let _;i==="sync"?_=m:i==="post"?_=()=>nt(m,f&&f.suspense):(m.pre=!0,f&&(m.id=f.uid),_=()=>$o(m));const x=new ko(u,wt,_),p=qc(),v=()=>{x.stop(),p&&Do(p.effects,x)};return t?n?m():y=x.run():i==="post"?nt(x.run.bind(x),f&&f.suspense):x.run(),E&&E.push(v),v}function Dp(e,t,n){const r=this.proxy,i=Ge(e)?e.includes(".")?bf(r,e):()=>r[e]:e.bind(r,r);let s;xe(t)?s=t:(s=t.handler,n=t);const o=Qr(this),c=Xo(i,s.bind(r),n);return o(),c}function bf(e,t){const n=t.split(".");return()=>{let r=e;for(let i=0;i<n.length&&r;i++)r=r[n[i]];return r}}function Rn(e,t,n=0,r){if(!Ve(e)||e.__v_skip)return e;if(t&&t>0){if(n>=t)return e;n++}if(r=r||new Set,r.has(e))return e;if(r.add(e),Me(e))Rn(e.value,t,n,r);else if(pe(e))for(let i=0;i<e.length;i++)Rn(e[i],t,n,r);else if(Uc(e)||Gn(e))e.forEach(i=>{Rn(i,t,n,r)});else if(Kc(e))for(const i in e)Rn(e[i],t,n,r);return e}function Xr(e,t){if(Ye===null)return e;const n=os(Ye)||Ye.proxy,r=e.dirs||(e.dirs=[]);for(let i=0;i<t.length;i++){let[s,o,c,f=He]=t[i];s&&(xe(s)&&(s={mounted:s,updated:s}),s.deep&&Rn(o),r.push({dir:s,instance:n,value:o,oldValue:void 0,arg:c,modifiers:f}))}return e}function Sn(e,t,n,r){const i=e.dirs,s=t&&t.dirs;for(let o=0;o<i.length;o++){const c=i[o];s&&(c.oldValue=s[o].value);let f=c.dir[r];f&&(In(),At(f,n,8,[e.el,c,e,t]),Fn())}}const an=Symbol("_leaveCb"),fi=Symbol("_enterCb");function Mp(){const e={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return Mt(()=>{e.isMounted=!0}),Jr(()=>{e.isUnmounting=!0}),e}const yt=[Function,Array],Sf={mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:yt,onEnter:yt,onAfterEnter:yt,onEnterCancelled:yt,onBeforeLeave:yt,onLeave:yt,onAfterLeave:yt,onLeaveCancelled:yt,onBeforeAppear:yt,onAppear:yt,onAfterAppear:yt,onAppearCancelled:yt},kp={name:"BaseTransition",props:Sf,setup(e,{slots:t}){const n=kt(),r=Mp();return()=>{const i=t.default&&Af(t.default(),!0);if(!i||!i.length)return;let s=i[0];if(i.length>1){for(const l of i)if(l.type!==Ct){s=l;break}}const o=Ie(e),{mode:c}=o;if(r.isLeaving)return Ls(s);const f=Ua(s);if(!f)return Ls(s);const d=to(f,o,r,n);Bi(f,d);const u=n.subTree,a=u&&Ua(u);if(a&&a.type!==Ct&&!dn(f,a)){const l=to(a,o,r,n);if(Bi(a,l),c==="out-in")return r.isLeaving=!0,l.afterLeave=()=>{r.isLeaving=!1,n.update.active!==!1&&(n.effect.dirty=!0,n.update())},Ls(s);c==="in-out"&&f.type!==Ct&&(l.delayLeave=(h,g,E)=>{const y=wf(r,a);y[String(a.key)]=a,h[an]=()=>{g(),h[an]=void 0,delete d.delayedLeave},d.delayedLeave=E})}return s}}},Np=kp;function wf(e,t){const{leavingVNodes:n}=e;let r=n.get(t.type);return r||(r=Object.create(null),n.set(t.type,r)),r}function to(e,t,n,r){const{appear:i,mode:s,persisted:o=!1,onBeforeEnter:c,onEnter:f,onAfterEnter:d,onEnterCancelled:u,onBeforeLeave:a,onLeave:l,onAfterLeave:h,onLeaveCancelled:g,onBeforeAppear:E,onAppear:y,onAfterAppear:m,onAppearCancelled:_}=t,x=String(e.key),p=wf(n,e),v=(A,T)=>{A&&At(A,r,9,T)},b=(A,T)=>{const P=T[1];v(A,T),pe(A)?A.every(R=>R.length<=1)&&P():A.length<=1&&P()},w={mode:s,persisted:o,beforeEnter(A){let T=c;if(!n.isMounted)if(i)T=E||c;else return;A[an]&&A[an](!0);const P=p[x];P&&dn(e,P)&&P.el[an]&&P.el[an](),v(T,[A])},enter(A){let T=f,P=d,R=u;if(!n.isMounted)if(i)T=y||f,P=m||d,R=_||u;else return;let C=!1;const O=A[fi]=D=>{C||(C=!0,D?v(R,[A]):v(P,[A]),w.delayedLeave&&w.delayedLeave(),A[fi]=void 0)};T?b(T,[A,O]):O()},leave(A,T){const P=String(e.key);if(A[fi]&&A[fi](!0),n.isUnmounting)return T();v(a,[A]);let R=!1;const C=A[an]=O=>{R||(R=!0,T(),O?v(g,[A]):v(h,[A]),A[an]=void 0,p[P]===e&&delete p[P])};p[P]=e,l?b(l,[A,C]):C()},clone(A){return to(A,t,n,r)}};return w}function Ls(e){if(es(e))return e=Jt(e),e.children=null,e}function Ua(e){return es(e)?e.children?e.children[0]:void 0:e}function Bi(e,t){e.shapeFlag&6&&e.component?Bi(e.component.subTree,t):e.shapeFlag&128?(e.ssContent.transition=t.clone(e.ssContent),e.ssFallback.transition=t.clone(e.ssFallback)):e.transition=t}function Af(e,t=!1,n){let r=[],i=0;for(let s=0;s<e.length;s++){let o=e[s];const c=n==null?o.key:String(n)+String(o.key!=null?o.key:s);o.type===Qe?(o.patchFlag&128&&i++,r=r.concat(Af(o.children,t,c))):(t||o.type!==Ct)&&r.push(c!=null?Jt(o,{key:c}):o)}if(i>1)for(let s=0;s<r.length;s++)r[s].patchFlag=-2;return r}/*! #__NO_SIDE_EFFECTS__ */function Ce(e,t){return xe(e)?Ze({name:e.name},t,{setup:e}):e}const Xn=e=>!!e.type.__asyncLoader,es=e=>e.type.__isKeepAlive,jp={name:"KeepAlive",__isKeepAlive:!0,props:{include:[String,RegExp,Array],exclude:[String,RegExp,Array],max:[String,Number]},setup(e,{slots:t}){const n=kt(),r=n.ctx;if(!r.renderer)return()=>{const _=t.default&&t.default();return _&&_.length===1?_[0]:_};const i=new Map,s=new Set;let o=null;const c=n.suspense,{renderer:{p:f,m:d,um:u,o:{createElement:a}}}=r,l=a("div");r.activate=(_,x,p,v,b)=>{const w=_.component;d(_,x,p,0,c),f(w.vnode,_,x,p,w,c,v,_.slotScopeIds,b),nt(()=>{w.isDeactivated=!1,w.a&&zn(w.a);const A=_.props&&_.props.onVnodeMounted;A&&xt(A,w.parent,_)},c)},r.deactivate=_=>{const x=_.component;d(_,l,null,1,c),nt(()=>{x.da&&zn(x.da);const p=_.props&&_.props.onVnodeUnmounted;p&&xt(p,x.parent,_),x.isDeactivated=!0},c)};function h(_){Rs(_),u(_,n,c,!0)}function g(_){i.forEach((x,p)=>{const v=co(x.type);v&&(!_||!_(v))&&E(p)})}function E(_){const x=i.get(_);!o||!dn(x,o)?h(x):o&&Rs(o),i.delete(_),s.delete(_)}ke(()=>[e.include,e.exclude],([_,x])=>{_&&g(p=>xr(_,p)),x&&g(p=>!xr(x,p))},{flush:"post",deep:!0});let y=null;const m=()=>{y!=null&&i.set(y,Ts(n.subTree))};return Mt(m),Lf(m),Jr(()=>{i.forEach(_=>{const{subTree:x,suspense:p}=n,v=Ts(x);if(_.type===v.type&&_.key===v.key){Rs(v);const b=v.component.da;b&&nt(b,p);return}h(_)})}),()=>{if(y=null,!t.default)return null;const _=t.default(),x=_[0];if(_.length>1)return o=null,_;if(!er(x)||!(x.shapeFlag&4)&&!(x.shapeFlag&128))return o=null,x;let p=Ts(x);const v=p.type,b=co(Xn(p)?p.type.__asyncResolved||{}:v),{include:w,exclude:A,max:T}=e;if(w&&(!b||!xr(w,b))||A&&b&&xr(A,b))return o=p,x;const P=p.key==null?v:p.key,R=i.get(P);return p.el&&(p=Jt(p),x.shapeFlag&128&&(x.ssContent=p)),y=P,R?(p.el=R.el,p.component=R.component,p.transition&&Bi(p,p.transition),p.shapeFlag|=512,s.delete(P),s.add(P)):(s.add(P),T&&s.size>parseInt(T,10)&&E(s.values().next().value)),p.shapeFlag|=256,o=p,Ef(x.type)?x:p}}},Up=jp;function xr(e,t){return pe(e)?e.some(n=>xr(n,t)):Ge(e)?e.split(",").includes(t):Ph(e)?e.test(t):!1}function ts(e,t){Cf(e,"a",t)}function Yr(e,t){Cf(e,"da",t)}function Cf(e,t,n=st){const r=e.__wdc||(e.__wdc=()=>{let i=n;for(;i;){if(i.isDeactivated)return;i=i.parent}return e()});if(ns(t,r,n),n){let i=n.parent;for(;i&&i.parent;)es(i.parent.vnode)&&Vp(r,t,n,i),i=i.parent}}function Vp(e,t,n,r){const i=ns(t,e,r,!0);Zr(()=>{Do(r[t],i)},n)}function Rs(e){e.shapeFlag&=-257,e.shapeFlag&=-513}function Ts(e){return e.shapeFlag&128?e.ssContent:e}function ns(e,t,n=st,r=!1){if(n){const i=n[e]||(n[e]=[]),s=t.__weh||(t.__weh=(...o)=>{if(n.isUnmounted)return;In();const c=Qr(n),f=At(t,n,e,o);return c(),Fn(),f});return r?i.unshift(s):i.push(s),s}}const Zt=e=>(t,n=st)=>(!ss||e==="sp")&&ns(e,(...r)=>t(...r),n),Hp=Zt("bm"),Mt=Zt("m"),Kp=Zt("bu"),Lf=Zt("u"),Jr=Zt("bum"),Zr=Zt("um"),Wp=Zt("sp"),Gp=Zt("rtg"),zp=Zt("rtc");function $p(e,t=st){ns("ec",e,t)}function Rf(e,t,n,r){let i;const s=n&&n[r];if(pe(e)||Ge(e)){i=new Array(e.length);for(let o=0,c=e.length;o<c;o++)i[o]=t(e[o],o,void 0,s&&s[o])}else if(typeof e=="number"){i=new Array(e);for(let o=0;o<e;o++)i[o]=t(o+1,o,void 0,s&&s[o])}else if(Ve(e))if(e[Symbol.iterator])i=Array.from(e,(o,c)=>t(o,c,void 0,s&&s[c]));else{const o=Object.keys(e);i=new Array(o.length);for(let c=0,f=o.length;c<f;c++){const d=o[c];i[c]=t(e[d],d,c,s&&s[c])}}else i=[];return n&&(n[r]=i),i}function qp(e,t,n={},r,i){if(Ye.isCE||Ye.parent&&Xn(Ye.parent)&&Ye.parent.isCE)return t!=="default"&&(n.name=t),B("slot",n,r&&r());let s=e[t];s&&s._c&&(s._d=!1),Ke();const o=s&&Tf(s(n)),c=at(Qe,{key:n.key||o&&o.key||`_${t}`},o||(r?r():[]),o&&e._===1?64:-2);return!i&&c.scopeId&&(c.slotScopeIds=[c.scopeId+"-s"]),s&&s._c&&(s._d=!0),c}function Tf(e){return e.some(t=>er(t)?!(t.type===Ct||t.type===Qe&&!Tf(t.children)):!0)?e:null}const no=e=>e?Hf(e)?os(e)||e.proxy:no(e.parent):null,Cr=Ze(Object.create(null),{$:e=>e,$el:e=>e.vnode.el,$data:e=>e.data,$props:e=>e.props,$attrs:e=>e.attrs,$slots:e=>e.slots,$refs:e=>e.refs,$parent:e=>no(e.parent),$root:e=>no(e.root),$emit:e=>e.emit,$options:e=>Yo(e),$forceUpdate:e=>e.f||(e.f=()=>{e.effect.dirty=!0,$o(e.update)}),$nextTick:e=>e.n||(e.n=vt.bind(e.proxy)),$watch:e=>Dp.bind(e)}),Os=(e,t)=>e!==He&&!e.__isScriptSetup&&Pe(e,t),Xp={get({_:e},t){const{ctx:n,setupState:r,data:i,props:s,accessCache:o,type:c,appContext:f}=e;let d;if(t[0]!=="$"){const h=o[t];if(h!==void 0)switch(h){case 1:return r[t];case 2:return i[t];case 4:return n[t];case 3:return s[t]}else{if(Os(r,t))return o[t]=1,r[t];if(i!==He&&Pe(i,t))return o[t]=2,i[t];if((d=e.propsOptions[0])&&Pe(d,t))return o[t]=3,s[t];if(n!==He&&Pe(n,t))return o[t]=4,n[t];ro&&(o[t]=0)}}const u=Cr[t];let a,l;if(u)return t==="$attrs"&&ht(e,"get",t),u(e);if((a=c.__cssModules)&&(a=a[t]))return a;if(n!==He&&Pe(n,t))return o[t]=4,n[t];if(l=f.config.globalProperties,Pe(l,t))return l[t]},set({_:e},t,n){const{data:r,setupState:i,ctx:s}=e;return Os(i,t)?(i[t]=n,!0):r!==He&&Pe(r,t)?(r[t]=n,!0):Pe(e.props,t)||t[0]==="$"&&t.slice(1)in e?!1:(s[t]=n,!0)},has({_:{data:e,setupState:t,accessCache:n,ctx:r,appContext:i,propsOptions:s}},o){let c;return!!n[o]||e!==He&&Pe(e,o)||Os(t,o)||(c=s[0])&&Pe(c,o)||Pe(r,o)||Pe(Cr,o)||Pe(i.config.globalProperties,o)},defineProperty(e,t,n){return n.get!=null?e._.accessCache[t]=0:Pe(n,"value")&&this.set(e,t,n.value,null),Reflect.defineProperty(e,t,n)}};function Va(e){return pe(e)?e.reduce((t,n)=>(t[n]=null,t),{}):e}let ro=!0;function Yp(e){const t=Yo(e),n=e.proxy,r=e.ctx;ro=!1,t.beforeCreate&&Ha(t.beforeCreate,e,"bc");const{data:i,computed:s,methods:o,watch:c,provide:f,inject:d,created:u,beforeMount:a,mounted:l,beforeUpdate:h,updated:g,activated:E,deactivated:y,beforeDestroy:m,beforeUnmount:_,destroyed:x,unmounted:p,render:v,renderTracked:b,renderTriggered:w,errorCaptured:A,serverPrefetch:T,expose:P,inheritAttrs:R,components:C,directives:O,filters:D}=t;if(d&&Jp(d,r,null),o)for(const U in o){const Q=o[U];xe(Q)&&(r[U]=Q.bind(n))}if(i){const U=i.call(n,n);Ve(U)&&(e.data=Ht(U))}if(ro=!0,s)for(const U in s){const Q=s[U],ie=xe(Q)?Q.bind(n,n):xe(Q.get)?Q.get.bind(n,n):wt,ne=!xe(Q)&&xe(Q.set)?Q.set.bind(n):wt,de=be({get:ie,set:ne});Object.defineProperty(r,U,{enumerable:!0,configurable:!0,get:()=>de.value,set:he=>de.value=he})}if(c)for(const U in c)Of(c[U],r,n,U);if(f){const U=xe(f)?f.call(n):f;Reflect.ownKeys(U).forEach(Q=>{yn(Q,U[Q])})}u&&Ha(u,e,"c");function M(U,Q){pe(Q)?Q.forEach(ie=>U(ie.bind(n))):Q&&U(Q.bind(n))}if(M(Hp,a),M(Mt,l),M(Kp,h),M(Lf,g),M(ts,E),M(Yr,y),M($p,A),M(zp,b),M(Gp,w),M(Jr,_),M(Zr,p),M(Wp,T),pe(P))if(P.length){const U=e.exposed||(e.exposed={});P.forEach(Q=>{Object.defineProperty(U,Q,{get:()=>n[Q],set:ie=>n[Q]=ie})})}else e.exposed||(e.exposed={});v&&e.render===wt&&(e.render=v),R!=null&&(e.inheritAttrs=R),C&&(e.components=C),O&&(e.directives=O)}function Jp(e,t,n=wt){pe(e)&&(e=io(e));for(const r in e){const i=e[r];let s;Ve(i)?"default"in i?s=dt(i.from||r,i.default,!0):s=dt(i.from||r):s=dt(i),Me(s)?Object.defineProperty(t,r,{enumerable:!0,configurable:!0,get:()=>s.value,set:o=>s.value=o}):t[r]=s}}function Ha(e,t,n){At(pe(e)?e.map(r=>r.bind(t.proxy)):e.bind(t.proxy),t,n)}function Of(e,t,n,r){const i=r.includes(".")?bf(n,r):()=>n[r];if(Ge(e)){const s=t[e];xe(s)&&ke(i,s)}else if(xe(e))ke(i,e.bind(n));else if(Ve(e))if(pe(e))e.forEach(s=>Of(s,t,n,r));else{const s=xe(e.handler)?e.handler.bind(n):t[e.handler];xe(s)&&ke(i,s,e)}}function Yo(e){const t=e.type,{mixins:n,extends:r}=t,{mixins:i,optionsCache:s,config:{optionMergeStrategies:o}}=e.appContext,c=s.get(t);let f;return c?f=c:!i.length&&!n&&!r?f=t:(f={},i.length&&i.forEach(d=>Di(f,d,o,!0)),Di(f,t,o)),Ve(t)&&s.set(t,f),f}function Di(e,t,n,r=!1){const{mixins:i,extends:s}=t;s&&Di(e,s,n,!0),i&&i.forEach(o=>Di(e,o,n,!0));for(const o in t)if(!(r&&o==="expose")){const c=Zp[o]||n&&n[o];e[o]=c?c(e[o],t[o]):t[o]}return e}const Zp={data:Ka,props:Wa,emits:Wa,methods:br,computed:br,beforeCreate:ct,created:ct,beforeMount:ct,mounted:ct,beforeUpdate:ct,updated:ct,beforeDestroy:ct,beforeUnmount:ct,destroyed:ct,unmounted:ct,activated:ct,deactivated:ct,errorCaptured:ct,serverPrefetch:ct,components:br,directives:br,watch:em,provide:Ka,inject:Qp};function Ka(e,t){return t?e?function(){return Ze(xe(e)?e.call(this,this):e,xe(t)?t.call(this,this):t)}:t:e}function Qp(e,t){return br(io(e),io(t))}function io(e){if(pe(e)){const t={};for(let n=0;n<e.length;n++)t[e[n]]=e[n];return t}return e}function ct(e,t){return e?[...new Set([].concat(e,t))]:t}function br(e,t){return e?Ze(Object.create(null),e,t):t}function Wa(e,t){return e?pe(e)&&pe(t)?[...new Set([...e,...t])]:Ze(Object.create(null),Va(e),Va(t??{})):t}function em(e,t){if(!e)return t;if(!t)return e;const n=Ze(Object.create(null),e);for(const r in t)n[r]=ct(e[r],t[r]);return n}function Pf(){return{app:null,config:{isNativeTag:Th,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let tm=0;function nm(e,t){return function(r,i=null){xe(r)||(r=Ze({},r)),i!=null&&!Ve(i)&&(i=null);const s=Pf(),o=new WeakSet;let c=!1;const f=s.app={_uid:tm++,_component:r,_props:i,_container:null,_context:s,_instance:null,version:Cm,get config(){return s.config},set config(d){},use(d,...u){return o.has(d)||(d&&xe(d.install)?(o.add(d),d.install(f,...u)):xe(d)&&(o.add(d),d(f,...u))),f},mixin(d){return s.mixins.includes(d)||s.mixins.push(d),f},component(d,u){return u?(s.components[d]=u,f):s.components[d]},directive(d,u){return u?(s.directives[d]=u,f):s.directives[d]},mount(d,u,a){if(!c){const l=B(r,i);return l.appContext=s,a===!0?a="svg":a===!1&&(a=void 0),u&&t?t(l,d):e(l,d,a),c=!0,f._container=d,d.__vue_app__=f,os(l.component)||l.component.proxy}},unmount(){c&&(e(null,f._container),delete f._container.__vue_app__)},provide(d,u){return s.provides[d]=u,f},runWithContext(d){const u=Lr;Lr=f;try{return d()}finally{Lr=u}}};return f}}let Lr=null;function yn(e,t){if(st){let n=st.provides;const r=st.parent&&st.parent.provides;r===n&&(n=st.provides=Object.create(r)),n[e]=t}}function dt(e,t,n=!1){const r=st||Ye;if(r||Lr){const i=r?r.parent==null?r.vnode.appContext&&r.vnode.appContext.provides:r.parent.provides:Lr._context.provides;if(i&&e in i)return i[e];if(arguments.length>1)return n&&xe(t)?t.call(r&&r.proxy):t}}function rm(e,t,n,r=!1){const i={},s={};Oi(s,is,1),e.propsDefaults=Object.create(null),If(e,t,i,s);for(const o in e.propsOptions[0])o in i||(i[o]=void 0);n?e.props=r?i:af(i):e.type.props?e.props=i:e.props=s,e.attrs=s}function im(e,t,n,r){const{props:i,attrs:s,vnode:{patchFlag:o}}=e,c=Ie(i),[f]=e.propsOptions;let d=!1;if((r||o>0)&&!(o&16)){if(o&8){const u=e.vnode.dynamicProps;for(let a=0;a<u.length;a++){let l=u[a];if(Qi(e.emitsOptions,l))continue;const h=t[l];if(f)if(Pe(s,l))h!==s[l]&&(s[l]=h,d=!0);else{const g=Vt(l);i[g]=so(f,c,g,h,e,!1)}else h!==s[l]&&(s[l]=h,d=!0)}}}else{If(e,t,i,s)&&(d=!0);let u;for(const a in c)(!t||!Pe(t,a)&&((u=sr(a))===a||!Pe(t,u)))&&(f?n&&(n[a]!==void 0||n[u]!==void 0)&&(i[a]=so(f,c,a,void 0,e,!0)):delete i[a]);if(s!==c)for(const a in s)(!t||!Pe(t,a))&&(delete s[a],d=!0)}d&&qt(e,"set","$attrs")}function If(e,t,n,r){const[i,s]=e.propsOptions;let o=!1,c;if(t)for(let f in t){if(wr(f))continue;const d=t[f];let u;i&&Pe(i,u=Vt(f))?!s||!s.includes(u)?n[u]=d:(c||(c={}))[u]=d:Qi(e.emitsOptions,f)||(!(f in r)||d!==r[f])&&(r[f]=d,o=!0)}if(s){const f=Ie(n),d=c||He;for(let u=0;u<s.length;u++){const a=s[u];n[a]=so(i,f,a,d[a],e,!Pe(d,a))}}return o}function so(e,t,n,r,i,s){const o=e[n];if(o!=null){const c=Pe(o,"default");if(c&&r===void 0){const f=o.default;if(o.type!==Function&&!o.skipFactory&&xe(f)){const{propsDefaults:d}=i;if(n in d)r=d[n];else{const u=Qr(i);r=d[n]=f.call(null,t),u()}}else r=f}o[0]&&(s&&!c?r=!1:o[1]&&(r===""||r===sr(n))&&(r=!0))}return r}function Ff(e,t,n=!1){const r=t.propsCache,i=r.get(e);if(i)return i;const s=e.props,o={},c=[];let f=!1;if(!xe(e)){const u=a=>{f=!0;const[l,h]=Ff(a,t,!0);Ze(o,l),h&&c.push(...h)};!n&&t.mixins.length&&t.mixins.forEach(u),e.extends&&u(e.extends),e.mixins&&e.mixins.forEach(u)}if(!s&&!f)return Ve(e)&&r.set(e,Wn),Wn;if(pe(s))for(let u=0;u<s.length;u++){const a=Vt(s[u]);Ga(a)&&(o[a]=He)}else if(s)for(const u in s){const a=Vt(u);if(Ga(a)){const l=s[u],h=o[a]=pe(l)||xe(l)?{type:l}:Ze({},l);if(h){const g=qa(Boolean,h.type),E=qa(String,h.type);h[0]=g>-1,h[1]=E<0||g<E,(g>-1||Pe(h,"default"))&&c.push(a)}}}const d=[o,c];return Ve(e)&&r.set(e,d),d}function Ga(e){return e[0]!=="$"&&!wr(e)}function za(e){return e===null?"null":typeof e=="function"?e.name||"":typeof e=="object"&&e.constructor&&e.constructor.name||""}function $a(e,t){return za(e)===za(t)}function qa(e,t){return pe(t)?t.findIndex(n=>$a(n,e)):xe(t)&&$a(t,e)?0:-1}const Bf=e=>e[0]==="_"||e==="$stable",Jo=e=>pe(e)?e.map(Nt):[Nt(e)],sm=(e,t,n)=>{if(t._n)return t;const r=me((...i)=>Jo(t(...i)),n);return r._c=!1,r},Df=(e,t,n)=>{const r=e._ctx;for(const i in e){if(Bf(i))continue;const s=e[i];if(xe(s))t[i]=sm(i,s,r);else if(s!=null){const o=Jo(s);t[i]=()=>o}}},Mf=(e,t)=>{const n=Jo(t);e.slots.default=()=>n},om=(e,t)=>{if(e.vnode.shapeFlag&32){const n=t._;n?(e.slots=Ie(t),Oi(t,"_",n)):Df(t,e.slots={})}else e.slots={},t&&Mf(e,t);Oi(e.slots,is,1)},am=(e,t,n)=>{const{vnode:r,slots:i}=e;let s=!0,o=He;if(r.shapeFlag&32){const c=t._;c?n&&c===1?s=!1:(Ze(i,t),!n&&c===1&&delete i._):(s=!t.$stable,Df(t,i)),o=t}else t&&(Mf(e,t),o={default:1});if(s)for(const c in i)!Bf(c)&&o[c]==null&&delete i[c]};function oo(e,t,n,r,i=!1){if(pe(e)){e.forEach((l,h)=>oo(l,t&&(pe(t)?t[h]:t),n,r,i));return}if(Xn(r)&&!i)return;const s=r.shapeFlag&4?os(r.component)||r.component.proxy:r.el,o=i?null:s,{i:c,r:f}=e,d=t&&t.r,u=c.refs===He?c.refs={}:c.refs,a=c.setupState;if(d!=null&&d!==f&&(Ge(d)?(u[d]=null,Pe(a,d)&&(a[d]=null)):Me(d)&&(d.value=null)),xe(f))vn(f,c,12,[o,u]);else{const l=Ge(f),h=Me(f);if(l||h){const g=()=>{if(e.f){const E=l?Pe(a,f)?a[f]:u[f]:f.value;i?pe(E)&&Do(E,s):pe(E)?E.includes(s)||E.push(s):l?(u[f]=[s],Pe(a,f)&&(a[f]=u[f])):(f.value=[s],e.k&&(u[e.k]=f.value))}else l?(u[f]=o,Pe(a,f)&&(a[f]=o)):h&&(f.value=o,e.k&&(u[e.k]=o))};o?(g.id=-1,nt(g,n)):g()}}}const nt=Ip;function lm(e){return um(e)}function um(e,t){const n=Wc();n.__VUE__=!0;const{insert:r,remove:i,patchProp:s,createElement:o,createText:c,createComment:f,setText:d,setElementText:u,parentNode:a,nextSibling:l,setScopeId:h=wt,insertStaticContent:g}=e,E=(L,I,k,K=null,H=null,q=null,ee=void 0,X=null,J=!!I.dynamicChildren)=>{if(L===I)return;L&&!dn(L,I)&&(K=F(L),he(L,H,q,!0),L=null),I.patchFlag===-2&&(J=!1,I.dynamicChildren=null);const{type:G,ref:te,shapeFlag:ce}=I;switch(G){case rs:y(L,I,k,K);break;case Ct:m(L,I,k,K);break;case Is:L==null&&_(I,k,K,ee);break;case Qe:C(L,I,k,K,H,q,ee,X,J);break;default:ce&1?v(L,I,k,K,H,q,ee,X,J):ce&6?O(L,I,k,K,H,q,ee,X,J):(ce&64||ce&128)&&G.process(L,I,k,K,H,q,ee,X,J,z)}te!=null&&H&&oo(te,L&&L.ref,q,I||L,!I)},y=(L,I,k,K)=>{if(L==null)r(I.el=c(I.children),k,K);else{const H=I.el=L.el;I.children!==L.children&&d(H,I.children)}},m=(L,I,k,K)=>{L==null?r(I.el=f(I.children||""),k,K):I.el=L.el},_=(L,I,k,K)=>{[L.el,L.anchor]=g(L.children,I,k,K,L.el,L.anchor)},x=({el:L,anchor:I},k,K)=>{let H;for(;L&&L!==I;)H=l(L),r(L,k,K),L=H;r(I,k,K)},p=({el:L,anchor:I})=>{let k;for(;L&&L!==I;)k=l(L),i(L),L=k;i(I)},v=(L,I,k,K,H,q,ee,X,J)=>{I.type==="svg"?ee="svg":I.type==="math"&&(ee="mathml"),L==null?b(I,k,K,H,q,ee,X,J):T(L,I,H,q,ee,X,J)},b=(L,I,k,K,H,q,ee,X)=>{let J,G;const{props:te,shapeFlag:ce,transition:fe,dirs:_e}=L;if(J=L.el=o(L.type,q,te&&te.is,te),ce&8?u(J,L.children):ce&16&&A(L.children,J,null,K,H,Ps(L,q),ee,X),_e&&Sn(L,null,K,"created"),w(J,L,L.scopeId,ee,K),te){for(const ye in te)ye!=="value"&&!wr(ye)&&s(J,ye,null,te[ye],q,L.children,K,H,ve);"value"in te&&s(J,"value",null,te.value,q),(G=te.onVnodeBeforeMount)&&xt(G,K,L)}_e&&Sn(L,null,K,"beforeMount");const Ae=cm(H,fe);Ae&&fe.beforeEnter(J),r(J,I,k),((G=te&&te.onVnodeMounted)||Ae||_e)&&nt(()=>{G&&xt(G,K,L),Ae&&fe.enter(J),_e&&Sn(L,null,K,"mounted")},H)},w=(L,I,k,K,H)=>{if(k&&h(L,k),K)for(let q=0;q<K.length;q++)h(L,K[q]);if(H){let q=H.subTree;if(I===q){const ee=H.vnode;w(L,ee,ee.scopeId,ee.slotScopeIds,H.parent)}}},A=(L,I,k,K,H,q,ee,X,J=0)=>{for(let G=J;G<L.length;G++){const te=L[G]=X?ln(L[G]):Nt(L[G]);E(null,te,I,k,K,H,q,ee,X)}},T=(L,I,k,K,H,q,ee)=>{const X=I.el=L.el;let{patchFlag:J,dynamicChildren:G,dirs:te}=I;J|=L.patchFlag&16;const ce=L.props||He,fe=I.props||He;let _e;if(k&&wn(k,!1),(_e=fe.onVnodeBeforeUpdate)&&xt(_e,k,I,L),te&&Sn(I,L,k,"beforeUpdate"),k&&wn(k,!0),G?P(L.dynamicChildren,G,X,k,K,Ps(I,H),q):ee||Q(L,I,X,null,k,K,Ps(I,H),q,!1),J>0){if(J&16)R(X,I,ce,fe,k,K,H);else if(J&2&&ce.class!==fe.class&&s(X,"class",null,fe.class,H),J&4&&s(X,"style",ce.style,fe.style,H),J&8){const Ae=I.dynamicProps;for(let ye=0;ye<Ae.length;ye++){const Ue=Ae[ye],j=ce[Ue],$=fe[Ue];($!==j||Ue==="value")&&s(X,Ue,j,$,H,L.children,k,K,ve)}}J&1&&L.children!==I.children&&u(X,I.children)}else!ee&&G==null&&R(X,I,ce,fe,k,K,H);((_e=fe.onVnodeUpdated)||te)&&nt(()=>{_e&&xt(_e,k,I,L),te&&Sn(I,L,k,"updated")},K)},P=(L,I,k,K,H,q,ee)=>{for(let X=0;X<I.length;X++){const J=L[X],G=I[X],te=J.el&&(J.type===Qe||!dn(J,G)||J.shapeFlag&70)?a(J.el):k;E(J,G,te,null,K,H,q,ee,!0)}},R=(L,I,k,K,H,q,ee)=>{if(k!==K){if(k!==He)for(const X in k)!wr(X)&&!(X in K)&&s(L,X,k[X],null,ee,I.children,H,q,ve);for(const X in K){if(wr(X))continue;const J=K[X],G=k[X];J!==G&&X!=="value"&&s(L,X,G,J,ee,I.children,H,q,ve)}"value"in K&&s(L,"value",k.value,K.value,ee)}},C=(L,I,k,K,H,q,ee,X,J)=>{const G=I.el=L?L.el:c(""),te=I.anchor=L?L.anchor:c("");let{patchFlag:ce,dynamicChildren:fe,slotScopeIds:_e}=I;_e&&(X=X?X.concat(_e):_e),L==null?(r(G,k,K),r(te,k,K),A(I.children||[],k,te,H,q,ee,X,J)):ce>0&&ce&64&&fe&&L.dynamicChildren?(P(L.dynamicChildren,fe,k,H,q,ee,X),(I.key!=null||H&&I===H.subTree)&&Zo(L,I,!0)):Q(L,I,k,te,H,q,ee,X,J)},O=(L,I,k,K,H,q,ee,X,J)=>{I.slotScopeIds=X,L==null?I.shapeFlag&512?H.ctx.activate(I,k,K,ee,J):D(I,k,K,H,q,ee,J):N(L,I,J)},D=(L,I,k,K,H,q,ee)=>{const X=L.component=Em(L,K,H);if(es(L)&&(X.ctx.renderer=z),xm(X),X.asyncDep){if(H&&H.registerDep(X,M),!L.el){const J=X.subTree=B(Ct);m(null,J,I,k)}}else M(X,L,I,k,H,q,ee)},N=(L,I,k)=>{const K=I.component=L.component;if(Rp(L,I,k))if(K.asyncDep&&!K.asyncResolved){U(K,I,k);return}else K.next=I,bp(K.update),K.effect.dirty=!0,K.update();else I.el=L.el,K.vnode=I},M=(L,I,k,K,H,q,ee)=>{const X=()=>{if(L.isMounted){let{next:te,bu:ce,u:fe,parent:_e,vnode:Ae}=L;{const Z=kf(L);if(Z){te&&(te.el=Ae.el,U(L,te,ee)),Z.asyncDep.then(()=>{L.isUnmounted||X()});return}}let ye=te,Ue;wn(L,!1),te?(te.el=Ae.el,U(L,te,ee)):te=Ae,ce&&zn(ce),(Ue=te.props&&te.props.onVnodeBeforeUpdate)&&xt(Ue,_e,te,Ae),wn(L,!0);const j=Cs(L),$=L.subTree;L.subTree=j,E($,j,a($.el),F($),L,H,q),te.el=j.el,ye===null&&Tp(L,j.el),fe&&nt(fe,H),(Ue=te.props&&te.props.onVnodeUpdated)&&nt(()=>xt(Ue,_e,te,Ae),H)}else{let te;const{el:ce,props:fe}=I,{bm:_e,m:Ae,parent:ye}=L,Ue=Xn(I);if(wn(L,!1),_e&&zn(_e),!Ue&&(te=fe&&fe.onVnodeBeforeMount)&&xt(te,ye,I),wn(L,!0),ce&&re){const j=()=>{L.subTree=Cs(L),re(ce,L.subTree,L,H,null)};Ue?I.type.__asyncLoader().then(()=>!L.isUnmounted&&j()):j()}else{const j=L.subTree=Cs(L);E(null,j,k,K,L,H,q),I.el=j.el}if(Ae&&nt(Ae,H),!Ue&&(te=fe&&fe.onVnodeMounted)){const j=I;nt(()=>xt(te,ye,j),H)}(I.shapeFlag&256||ye&&Xn(ye.vnode)&&ye.vnode.shapeFlag&256)&&L.a&&nt(L.a,H),L.isMounted=!0,I=k=K=null}},J=L.effect=new ko(X,wt,()=>$o(G),L.scope),G=L.update=()=>{J.dirty&&J.run()};G.id=L.uid,wn(L,!0),G()},U=(L,I,k)=>{I.component=L;const K=L.vnode.props;L.vnode=I,L.next=null,im(L,I.props,K,k),am(L,I.children,k),In(),ka(L),Fn()},Q=(L,I,k,K,H,q,ee,X,J=!1)=>{const G=L&&L.children,te=L?L.shapeFlag:0,ce=I.children,{patchFlag:fe,shapeFlag:_e}=I;if(fe>0){if(fe&128){ne(G,ce,k,K,H,q,ee,X,J);return}else if(fe&256){ie(G,ce,k,K,H,q,ee,X,J);return}}_e&8?(te&16&&ve(G,H,q),ce!==G&&u(k,ce)):te&16?_e&16?ne(G,ce,k,K,H,q,ee,X,J):ve(G,H,q,!0):(te&8&&u(k,""),_e&16&&A(ce,k,K,H,q,ee,X,J))},ie=(L,I,k,K,H,q,ee,X,J)=>{L=L||Wn,I=I||Wn;const G=L.length,te=I.length,ce=Math.min(G,te);let fe;for(fe=0;fe<ce;fe++){const _e=I[fe]=J?ln(I[fe]):Nt(I[fe]);E(L[fe],_e,k,null,H,q,ee,X,J)}G>te?ve(L,H,q,!0,!1,ce):A(I,k,K,H,q,ee,X,J,ce)},ne=(L,I,k,K,H,q,ee,X,J)=>{let G=0;const te=I.length;let ce=L.length-1,fe=te-1;for(;G<=ce&&G<=fe;){const _e=L[G],Ae=I[G]=J?ln(I[G]):Nt(I[G]);if(dn(_e,Ae))E(_e,Ae,k,null,H,q,ee,X,J);else break;G++}for(;G<=ce&&G<=fe;){const _e=L[ce],Ae=I[fe]=J?ln(I[fe]):Nt(I[fe]);if(dn(_e,Ae))E(_e,Ae,k,null,H,q,ee,X,J);else break;ce--,fe--}if(G>ce){if(G<=fe){const _e=fe+1,Ae=_e<te?I[_e].el:K;for(;G<=fe;)E(null,I[G]=J?ln(I[G]):Nt(I[G]),k,Ae,H,q,ee,X,J),G++}}else if(G>fe)for(;G<=ce;)he(L[G],H,q,!0),G++;else{const _e=G,Ae=G,ye=new Map;for(G=Ae;G<=fe;G++){const Fe=I[G]=J?ln(I[G]):Nt(I[G]);Fe.key!=null&&ye.set(Fe.key,G)}let Ue,j=0;const $=fe-Ae+1;let Z=!1,ue=0;const ge=new Array($);for(G=0;G<$;G++)ge[G]=0;for(G=_e;G<=ce;G++){const Fe=L[G];if(j>=$){he(Fe,H,q,!0);continue}let tt;if(Fe.key!=null)tt=ye.get(Fe.key);else for(Ue=Ae;Ue<=fe;Ue++)if(ge[Ue-Ae]===0&&dn(Fe,I[Ue])){tt=Ue;break}tt===void 0?he(Fe,H,q,!0):(ge[tt-Ae]=G+1,tt>=ue?ue=tt:Z=!0,E(Fe,I[tt],k,null,H,q,ee,X,J),j++)}const we=Z?fm(ge):Wn;for(Ue=we.length-1,G=$-1;G>=0;G--){const Fe=Ae+G,tt=I[Fe],bn=Fe+1<te?I[Fe+1].el:K;ge[G]===0?E(null,tt,k,bn,H,q,ee,X,J):Z&&(Ue<0||G!==we[Ue]?de(tt,k,bn,2):Ue--)}}},de=(L,I,k,K,H=null)=>{const{el:q,type:ee,transition:X,children:J,shapeFlag:G}=L;if(G&6){de(L.component.subTree,I,k,K);return}if(G&128){L.suspense.move(I,k,K);return}if(G&64){ee.move(L,I,k,z);return}if(ee===Qe){r(q,I,k);for(let ce=0;ce<J.length;ce++)de(J[ce],I,k,K);r(L.anchor,I,k);return}if(ee===Is){x(L,I,k);return}if(K!==2&&G&1&&X)if(K===0)X.beforeEnter(q),r(q,I,k),nt(()=>X.enter(q),H);else{const{leave:ce,delayLeave:fe,afterLeave:_e}=X,Ae=()=>r(q,I,k),ye=()=>{ce(q,()=>{Ae(),_e&&_e()})};fe?fe(q,Ae,ye):ye()}else r(q,I,k)},he=(L,I,k,K=!1,H=!1)=>{const{type:q,props:ee,ref:X,children:J,dynamicChildren:G,shapeFlag:te,patchFlag:ce,dirs:fe}=L;if(X!=null&&oo(X,null,k,L,!0),te&256){I.ctx.deactivate(L);return}const _e=te&1&&fe,Ae=!Xn(L);let ye;if(Ae&&(ye=ee&&ee.onVnodeBeforeUnmount)&&xt(ye,I,L),te&6)je(L.component,k,K);else{if(te&128){L.suspense.unmount(k,K);return}_e&&Sn(L,null,I,"beforeUnmount"),te&64?L.type.remove(L,I,k,H,z,K):G&&(q!==Qe||ce>0&&ce&64)?ve(G,I,k,!1,!0):(q===Qe&&ce&384||!H&&te&16)&&ve(J,I,k),K&&se(L)}(Ae&&(ye=ee&&ee.onVnodeUnmounted)||_e)&&nt(()=>{ye&&xt(ye,I,L),_e&&Sn(L,null,I,"unmounted")},k)},se=L=>{const{type:I,el:k,anchor:K,transition:H}=L;if(I===Qe){oe(k,K);return}if(I===Is){p(L);return}const q=()=>{i(k),H&&!H.persisted&&H.afterLeave&&H.afterLeave()};if(L.shapeFlag&1&&H&&!H.persisted){const{leave:ee,delayLeave:X}=H,J=()=>ee(k,q);X?X(L.el,q,J):J()}else q()},oe=(L,I)=>{let k;for(;L!==I;)k=l(L),i(L),L=k;i(I)},je=(L,I,k)=>{const{bum:K,scope:H,update:q,subTree:ee,um:X}=L;K&&zn(K),H.stop(),q&&(q.active=!1,he(ee,L,I,k)),X&&nt(X,I),nt(()=>{L.isUnmounted=!0},I),I&&I.pendingBranch&&!I.isUnmounted&&L.asyncDep&&!L.asyncResolved&&L.suspenseId===I.pendingId&&(I.deps--,I.deps===0&&I.resolve())},ve=(L,I,k,K=!1,H=!1,q=0)=>{for(let ee=q;ee<L.length;ee++)he(L[ee],I,k,K,H)},F=L=>L.shapeFlag&6?F(L.component.subTree):L.shapeFlag&128?L.suspense.next():l(L.anchor||L.el);let W=!1;const V=(L,I,k)=>{L==null?I._vnode&&he(I._vnode,null,null,!0):E(I._vnode||null,L,I,null,null,null,k),W||(W=!0,ka(),pf(),W=!1),I._vnode=L},z={p:E,um:he,m:de,r:se,mt:D,mc:A,pc:Q,pbc:P,n:F,o:e};let ae,re;return t&&([ae,re]=t(z)),{render:V,hydrate:ae,createApp:nm(V,ae)}}function Ps({type:e,props:t},n){return n==="svg"&&e==="foreignObject"||n==="mathml"&&e==="annotation-xml"&&t&&t.encoding&&t.encoding.includes("html")?void 0:n}function wn({effect:e,update:t},n){e.allowRecurse=t.allowRecurse=n}function cm(e,t){return(!e||e&&!e.pendingBranch)&&t&&!t.persisted}function Zo(e,t,n=!1){const r=e.children,i=t.children;if(pe(r)&&pe(i))for(let s=0;s<r.length;s++){const o=r[s];let c=i[s];c.shapeFlag&1&&!c.dynamicChildren&&((c.patchFlag<=0||c.patchFlag===32)&&(c=i[s]=ln(i[s]),c.el=o.el),n||Zo(o,c)),c.type===rs&&(c.el=o.el)}}function fm(e){const t=e.slice(),n=[0];let r,i,s,o,c;const f=e.length;for(r=0;r<f;r++){const d=e[r];if(d!==0){if(i=n[n.length-1],e[i]<d){t[r]=i,n.push(r);continue}for(s=0,o=n.length-1;s<o;)c=s+o>>1,e[n[c]]<d?s=c+1:o=c;d<e[n[s]]&&(s>0&&(t[r]=n[s-1]),n[s]=r)}}for(s=n.length,o=n[s-1];s-- >0;)n[s]=o,o=t[o];return n}function kf(e){const t=e.subTree.component;if(t)return t.asyncDep&&!t.asyncResolved?t:kf(t)}const dm=e=>e.__isTeleport,Rr=e=>e&&(e.disabled||e.disabled===""),Xa=e=>typeof SVGElement<"u"&&e instanceof SVGElement,Ya=e=>typeof MathMLElement=="function"&&e instanceof MathMLElement,ao=(e,t)=>{const n=e&&e.to;return Ge(n)?t?t(n):null:n},hm={name:"Teleport",__isTeleport:!0,process(e,t,n,r,i,s,o,c,f,d){const{mc:u,pc:a,pbc:l,o:{insert:h,querySelector:g,createText:E,createComment:y}}=d,m=Rr(t.props);let{shapeFlag:_,children:x,dynamicChildren:p}=t;if(e==null){const v=t.el=E(""),b=t.anchor=E("");h(v,n,r),h(b,n,r);const w=t.target=ao(t.props,g),A=t.targetAnchor=E("");w&&(h(A,w),o==="svg"||Xa(w)?o="svg":(o==="mathml"||Ya(w))&&(o="mathml"));const T=(P,R)=>{_&16&&u(x,P,R,i,s,o,c,f)};m?T(n,b):w&&T(w,A)}else{t.el=e.el;const v=t.anchor=e.anchor,b=t.target=e.target,w=t.targetAnchor=e.targetAnchor,A=Rr(e.props),T=A?n:b,P=A?v:w;if(o==="svg"||Xa(b)?o="svg":(o==="mathml"||Ya(b))&&(o="mathml"),p?(l(e.dynamicChildren,p,T,i,s,o,c),Zo(e,t,!0)):f||a(e,t,T,P,i,s,o,c,!1),m)A?t.props&&e.props&&t.props.to!==e.props.to&&(t.props.to=e.props.to):di(t,n,v,d,1);else if((t.props&&t.props.to)!==(e.props&&e.props.to)){const R=t.target=ao(t.props,g);R&&di(t,R,null,d,0)}else A&&di(t,b,w,d,1)}jf(t)},remove(e,t,n,r,{um:i,o:{remove:s}},o){const{shapeFlag:c,children:f,anchor:d,targetAnchor:u,target:a,props:l}=e;if(a&&s(u),o&&s(d),c&16){const h=o||!Rr(l);for(let g=0;g<f.length;g++){const E=f[g];i(E,t,n,h,!!E.dynamicChildren)}}},move:di,hydrate:pm};function di(e,t,n,{o:{insert:r},m:i},s=2){s===0&&r(e.targetAnchor,t,n);const{el:o,anchor:c,shapeFlag:f,children:d,props:u}=e,a=s===2;if(a&&r(o,t,n),(!a||Rr(u))&&f&16)for(let l=0;l<d.length;l++)i(d[l],t,n,2);a&&r(c,t,n)}function pm(e,t,n,r,i,s,{o:{nextSibling:o,parentNode:c,querySelector:f}},d){const u=t.target=ao(t.props,f);if(u){const a=u._lpa||u.firstChild;if(t.shapeFlag&16)if(Rr(t.props))t.anchor=d(o(e),t,c(e),n,r,i,s),t.targetAnchor=a;else{t.anchor=o(e);let l=a;for(;l;)if(l=o(l),l&&l.nodeType===8&&l.data==="teleport anchor"){t.targetAnchor=l,u._lpa=t.targetAnchor&&o(t.targetAnchor);break}d(a,t,u,n,r,i,s)}jf(t)}return t.anchor&&o(t.anchor)}const Nf=hm;function jf(e){const t=e.ctx;if(t&&t.ut){let n=e.children[0].el;for(;n&&n!==e.targetAnchor;)n.nodeType===1&&n.setAttribute("data-v-owner",t.uid),n=n.nextSibling;t.ut()}}const Qe=Symbol.for("v-fgt"),rs=Symbol.for("v-txt"),Ct=Symbol.for("v-cmt"),Is=Symbol.for("v-stc"),Tr=[];let Ot=null;function Ke(e=!1){Tr.push(Ot=e?null:[])}function mm(){Tr.pop(),Ot=Tr[Tr.length-1]||null}let jr=1;function Ja(e){jr+=e}function Uf(e){return e.dynamicChildren=jr>0?Ot||Wn:null,mm(),jr>0&&Ot&&Ot.push(e),e}function xn(e,t,n,r,i,s){return Uf(Le(e,t,n,r,i,s,!0))}function at(e,t,n,r,i){return Uf(B(e,t,n,r,i,!0))}function er(e){return e?e.__v_isVNode===!0:!1}function dn(e,t){return e.type===t.type&&e.key===t.key}const is="__vInternal",Vf=({key:e})=>e??null,Li=({ref:e,ref_key:t,ref_for:n})=>(typeof e=="number"&&(e=""+e),e!=null?Ge(e)||Me(e)||xe(e)?{i:Ye,r:e,k:t,f:!!n}:e:null);function Le(e,t=null,n=null,r=0,i=null,s=e===Qe?0:1,o=!1,c=!1){const f={__v_isVNode:!0,__v_skip:!0,type:e,props:t,key:t&&Vf(t),ref:t&&Li(t),scopeId:gf,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:s,patchFlag:r,dynamicProps:i,dynamicChildren:null,appContext:null,ctx:Ye};return c?(Qo(f,n),s&128&&e.normalize(f)):n&&(f.shapeFlag|=Ge(n)?8:16),jr>0&&!o&&Ot&&(f.patchFlag>0||s&6)&&f.patchFlag!==32&&Ot.push(f),f}const B=_m;function _m(e,t=null,n=null,r=0,i=null,s=!1){if((!e||e===vf)&&(e=Ct),er(e)){const c=Jt(e,t,!0);return n&&Qo(c,n),jr>0&&!s&&Ot&&(c.shapeFlag&6?Ot[Ot.indexOf(e)]=c:Ot.push(c)),c.patchFlag|=-2,c}if(Am(e)&&(e=e.__vccOpts),t){t=gm(t);let{class:c,style:f}=t;c&&!Ge(c)&&(t.class=Jn(c)),Ve(f)&&(lf(f)&&!pe(f)&&(f=Ze({},f)),t.style=Yi(f))}const o=Ge(e)?1:Ef(e)?128:dm(e)?64:Ve(e)?4:xe(e)?2:0;return Le(e,t,n,r,i,o,s,!0)}function gm(e){return e?lf(e)||is in e?Ze({},e):e:null}function Jt(e,t,n=!1){const{props:r,ref:i,patchFlag:s,children:o}=e,c=t?Lt(r||{},t):r;return{__v_isVNode:!0,__v_skip:!0,type:e.type,props:c,key:c&&Vf(c),ref:t&&t.ref?n&&i?pe(i)?i.concat(Li(t)):[i,Li(t)]:Li(t):i,scopeId:e.scopeId,slotScopeIds:e.slotScopeIds,children:o,target:e.target,targetAnchor:e.targetAnchor,staticCount:e.staticCount,shapeFlag:e.shapeFlag,patchFlag:t&&e.type!==Qe?s===-1?16:s|16:s,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:e.transition,component:e.component,suspense:e.suspense,ssContent:e.ssContent&&Jt(e.ssContent),ssFallback:e.ssFallback&&Jt(e.ssFallback),el:e.el,anchor:e.anchor,ctx:e.ctx,ce:e.ce}}function Xt(e=" ",t=0){return B(rs,null,e,t)}function lo(e="",t=!1){return t?(Ke(),at(Ct,null,e)):B(Ct,null,e)}function Nt(e){return e==null||typeof e=="boolean"?B(Ct):pe(e)?B(Qe,null,e.slice()):typeof e=="object"?ln(e):B(rs,null,String(e))}function ln(e){return e.el===null&&e.patchFlag!==-1||e.memo?e:Jt(e)}function Qo(e,t){let n=0;const{shapeFlag:r}=e;if(t==null)t=null;else if(pe(t))n=16;else if(typeof t=="object")if(r&65){const i=t.default;i&&(i._c&&(i._d=!1),Qo(e,i()),i._c&&(i._d=!0));return}else{n=32;const i=t._;!i&&!(is in t)?t._ctx=Ye:i===3&&Ye&&(Ye.slots._===1?t._=1:(t._=2,e.patchFlag|=1024))}else xe(t)?(t={default:t,_ctx:Ye},n=32):(t=String(t),r&64?(n=16,t=[Xt(t)]):n=8);e.children=t,e.shapeFlag|=n}function Lt(...e){const t={};for(let n=0;n<e.length;n++){const r=e[n];for(const i in r)if(i==="class")t.class!==r.class&&(t.class=Jn([t.class,r.class]));else if(i==="style")t.style=Yi([t.style,r.style]);else if($i(i)){const s=t[i],o=r[i];o&&s!==o&&!(pe(s)&&s.includes(o))&&(t[i]=s?[].concat(s,o):o)}else i!==""&&(t[i]=r[i])}return t}function xt(e,t,n,r=null){At(e,t,7,[n,r])}const vm=Pf();let ym=0;function Em(e,t,n){const r=e.type,i=(t?t.appContext:e.appContext)||vm,s={uid:ym++,vnode:e,type:r,parent:t,appContext:i,root:null,next:null,subTree:null,effect:null,update:null,scope:new $c(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:t?t.provides:Object.create(i.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:Ff(r,i),emitsOptions:_f(r,i),emit:null,emitted:null,propsDefaults:He,inheritAttrs:r.inheritAttrs,ctx:He,data:He,props:He,attrs:He,slots:He,refs:He,setupState:He,setupContext:null,attrsProxy:null,slotsProxy:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return s.ctx={_:s},s.root=t?t.root:s,s.emit=Ap.bind(null,s),e.ce&&e.ce(s),s}let st=null;const kt=()=>st||Ye;let Mi,uo;{const e=Wc(),t=(n,r)=>{let i;return(i=e[n])||(i=e[n]=[]),i.push(r),s=>{i.length>1?i.forEach(o=>o(s)):i[0](s)}};Mi=t("__VUE_INSTANCE_SETTERS__",n=>st=n),uo=t("__VUE_SSR_SETTERS__",n=>ss=n)}const Qr=e=>{const t=st;return Mi(e),e.scope.on(),()=>{e.scope.off(),Mi(t)}},Za=()=>{st&&st.scope.off(),Mi(null)};function Hf(e){return e.vnode.shapeFlag&4}let ss=!1;function xm(e,t=!1){t&&uo(t);const{props:n,children:r}=e.vnode,i=Hf(e);rm(e,n,i,t),om(e,r);const s=i?bm(e,t):void 0;return t&&uo(!1),s}function bm(e,t){const n=e.type;e.accessCache=Object.create(null),e.proxy=Ko(new Proxy(e.ctx,Xp));const{setup:r}=n;if(r){const i=e.setupContext=r.length>1?wm(e):null,s=Qr(e);In();const o=vn(r,e,0,[e.props,i]);if(Fn(),s(),Vc(o)){if(o.then(Za,Za),t)return o.then(c=>{Qa(e,c,t)}).catch(c=>{Zi(c,e,0)});e.asyncDep=o}else Qa(e,o,t)}else Kf(e,t)}function Qa(e,t,n){xe(t)?e.type.__ssrInlineRender?e.ssrRender=t:e.render=t:Ve(t)&&(e.setupState=ff(t)),Kf(e,n)}let el;function Kf(e,t,n){const r=e.type;if(!e.render){if(!t&&el&&!r.render){const i=r.template||Yo(e).template;if(i){const{isCustomElement:s,compilerOptions:o}=e.appContext.config,{delimiters:c,compilerOptions:f}=r,d=Ze(Ze({isCustomElement:s,delimiters:c},o),f);r.render=el(i,d)}}e.render=r.render||wt}{const i=Qr(e);In();try{Yp(e)}finally{Fn(),i()}}}function Sm(e){return e.attrsProxy||(e.attrsProxy=new Proxy(e.attrs,{get(t,n){return ht(e,"get","$attrs"),t[n]}}))}function wm(e){const t=n=>{e.exposed=n||{}};return{get attrs(){return Sm(e)},slots:e.slots,emit:e.emit,expose:t}}function os(e){if(e.exposed)return e.exposeProxy||(e.exposeProxy=new Proxy(ff(Ko(e.exposed)),{get(t,n){if(n in t)return t[n];if(n in Cr)return Cr[n](e)},has(t,n){return n in t||n in Cr}}))}function co(e,t=!0){return xe(e)?e.displayName||e.name:e.name||t&&e.__name}function Am(e){return xe(e)&&"__vccOpts"in e}const be=(e,t)=>fp(e,t,ss);function ea(e,t,n){const r=arguments.length;return r===2?Ve(t)&&!pe(t)?er(t)?B(e,null,[t]):B(e,t):B(e,null,t):(r>3?n=Array.prototype.slice.call(arguments,2):r===3&&er(n)&&(n=[n]),B(e,t,n))}const Cm="3.4.21";/**
* @vue/runtime-dom v3.4.21
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/const Lm="http://www.w3.org/2000/svg",Rm="http://www.w3.org/1998/Math/MathML",un=typeof document<"u"?document:null,tl=un&&un.createElement("template"),Tm={insert:(e,t,n)=>{t.insertBefore(e,n||null)},remove:e=>{const t=e.parentNode;t&&t.removeChild(e)},createElement:(e,t,n,r)=>{const i=t==="svg"?un.createElementNS(Lm,e):t==="mathml"?un.createElementNS(Rm,e):un.createElement(e,n?{is:n}:void 0);return e==="select"&&r&&r.multiple!=null&&i.setAttribute("multiple",r.multiple),i},createText:e=>un.createTextNode(e),createComment:e=>un.createComment(e),setText:(e,t)=>{e.nodeValue=t},setElementText:(e,t)=>{e.textContent=t},parentNode:e=>e.parentNode,nextSibling:e=>e.nextSibling,querySelector:e=>un.querySelector(e),setScopeId(e,t){e.setAttribute(t,"")},insertStaticContent(e,t,n,r,i,s){const o=n?n.previousSibling:t.lastChild;if(i&&(i===s||i.nextSibling))for(;t.insertBefore(i.cloneNode(!0),n),!(i===s||!(i=i.nextSibling)););else{tl.innerHTML=r==="svg"?`<svg>${e}</svg>`:r==="mathml"?`<math>${e}</math>`:e;const c=tl.content;if(r==="svg"||r==="mathml"){const f=c.firstChild;for(;f.firstChild;)c.appendChild(f.firstChild);c.removeChild(f)}t.insertBefore(c,n)}return[o?o.nextSibling:t.firstChild,n?n.previousSibling:t.lastChild]}},tn="transition",pr="animation",Ur=Symbol("_vtc"),Bn=(e,{slots:t})=>ea(Np,Om(e),t);Bn.displayName="Transition";const Wf={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String};Bn.props=Ze({},Sf,Wf);const An=(e,t=[])=>{pe(e)?e.forEach(n=>n(...t)):e&&e(...t)},nl=e=>e?pe(e)?e.some(t=>t.length>1):e.length>1:!1;function Om(e){const t={};for(const C in e)C in Wf||(t[C]=e[C]);if(e.css===!1)return t;const{name:n="v",type:r,duration:i,enterFromClass:s=`${n}-enter-from`,enterActiveClass:o=`${n}-enter-active`,enterToClass:c=`${n}-enter-to`,appearFromClass:f=s,appearActiveClass:d=o,appearToClass:u=c,leaveFromClass:a=`${n}-leave-from`,leaveActiveClass:l=`${n}-leave-active`,leaveToClass:h=`${n}-leave-to`}=e,g=Pm(i),E=g&&g[0],y=g&&g[1],{onBeforeEnter:m,onEnter:_,onEnterCancelled:x,onLeave:p,onLeaveCancelled:v,onBeforeAppear:b=m,onAppear:w=_,onAppearCancelled:A=x}=t,T=(C,O,D)=>{Cn(C,O?u:c),Cn(C,O?d:o),D&&D()},P=(C,O)=>{C._isLeaving=!1,Cn(C,a),Cn(C,h),Cn(C,l),O&&O()},R=C=>(O,D)=>{const N=C?w:_,M=()=>T(O,C,D);An(N,[O,M]),rl(()=>{Cn(O,C?f:s),nn(O,C?u:c),nl(N)||il(O,r,E,M)})};return Ze(t,{onBeforeEnter(C){An(m,[C]),nn(C,s),nn(C,o)},onBeforeAppear(C){An(b,[C]),nn(C,f),nn(C,d)},onEnter:R(!1),onAppear:R(!0),onLeave(C,O){C._isLeaving=!0;const D=()=>P(C,O);nn(C,a),Bm(),nn(C,l),rl(()=>{C._isLeaving&&(Cn(C,a),nn(C,h),nl(p)||il(C,r,y,D))}),An(p,[C,D])},onEnterCancelled(C){T(C,!1),An(x,[C])},onAppearCancelled(C){T(C,!0),An(A,[C])},onLeaveCancelled(C){P(C),An(v,[C])}})}function Pm(e){if(e==null)return null;if(Ve(e))return[Fs(e.enter),Fs(e.leave)];{const t=Fs(e);return[t,t]}}function Fs(e){return Dh(e)}function nn(e,t){t.split(/\s+/).forEach(n=>n&&e.classList.add(n)),(e[Ur]||(e[Ur]=new Set)).add(t)}function Cn(e,t){t.split(/\s+/).forEach(r=>r&&e.classList.remove(r));const n=e[Ur];n&&(n.delete(t),n.size||(e[Ur]=void 0))}function rl(e){requestAnimationFrame(()=>{requestAnimationFrame(e)})}let Im=0;function il(e,t,n,r){const i=e._endId=++Im,s=()=>{i===e._endId&&r()};if(n)return setTimeout(s,n);const{type:o,timeout:c,propCount:f}=Fm(e,t);if(!o)return r();const d=o+"end";let u=0;const a=()=>{e.removeEventListener(d,l),s()},l=h=>{h.target===e&&++u>=f&&a()};setTimeout(()=>{u<f&&a()},c+1),e.addEventListener(d,l)}function Fm(e,t){const n=window.getComputedStyle(e),r=g=>(n[g]||"").split(", "),i=r(`${tn}Delay`),s=r(`${tn}Duration`),o=sl(i,s),c=r(`${pr}Delay`),f=r(`${pr}Duration`),d=sl(c,f);let u=null,a=0,l=0;t===tn?o>0&&(u=tn,a=o,l=s.length):t===pr?d>0&&(u=pr,a=d,l=f.length):(a=Math.max(o,d),u=a>0?o>d?tn:pr:null,l=u?u===tn?s.length:f.length:0);const h=u===tn&&/\b(transform|all)(,|$)/.test(r(`${tn}Property`).toString());return{type:u,timeout:a,propCount:l,hasTransform:h}}function sl(e,t){for(;e.length<t.length;)e=e.concat(e);return Math.max(...t.map((n,r)=>ol(n)+ol(e[r])))}function ol(e){return e==="auto"?0:Number(e.slice(0,-1).replace(",","."))*1e3}function Bm(){return document.body.offsetHeight}function Dm(e,t,n){const r=e[Ur];r&&(t=(t?[t,...r]:[...r]).join(" ")),t==null?e.removeAttribute("class"):n?e.setAttribute("class",t):e.className=t}const ki=Symbol("_vod"),Gf=Symbol("_vsh"),as={beforeMount(e,{value:t},{transition:n}){e[ki]=e.style.display==="none"?"":e.style.display,n&&t?n.beforeEnter(e):mr(e,t)},mounted(e,{value:t},{transition:n}){n&&t&&n.enter(e)},updated(e,{value:t,oldValue:n},{transition:r}){!t!=!n&&(r?t?(r.beforeEnter(e),mr(e,!0),r.enter(e)):r.leave(e,()=>{mr(e,!1)}):mr(e,t))},beforeUnmount(e,{value:t}){mr(e,t)}};function mr(e,t){e.style.display=t?e[ki]:"none",e[Gf]=!t}const Mm=Symbol(""),km=/(^|;)\s*display\s*:/;function Nm(e,t,n){const r=e.style,i=Ge(n);let s=!1;if(n&&!i){if(t)if(Ge(t))for(const o of t.split(";")){const c=o.slice(0,o.indexOf(":")).trim();n[c]==null&&Ri(r,c,"")}else for(const o in t)n[o]==null&&Ri(r,o,"");for(const o in n)o==="display"&&(s=!0),Ri(r,o,n[o])}else if(i){if(t!==n){const o=r[Mm];o&&(n+=";"+o),r.cssText=n,s=km.test(n)}}else t&&e.removeAttribute("style");ki in e&&(e[ki]=s?r.display:"",e[Gf]&&(r.display="none"))}const al=/\s*!important$/;function Ri(e,t,n){if(pe(n))n.forEach(r=>Ri(e,t,r));else if(n==null&&(n=""),t.startsWith("--"))e.setProperty(t,n);else{const r=jm(e,t);al.test(n)?e.setProperty(sr(r),n.replace(al,""),"important"):e[r]=n}}const ll=["Webkit","Moz","ms"],Bs={};function jm(e,t){const n=Bs[t];if(n)return n;let r=Vt(t);if(r!=="filter"&&r in e)return Bs[t]=r;r=Xi(r);for(let i=0;i<ll.length;i++){const s=ll[i]+r;if(s in e)return Bs[t]=s}return t}const ul="http://www.w3.org/1999/xlink";function Um(e,t,n,r,i){if(r&&t.startsWith("xlink:"))n==null?e.removeAttributeNS(ul,t.slice(6,t.length)):e.setAttributeNS(ul,t,n);else{const s=Vh(t);n==null||s&&!Gc(n)?e.removeAttribute(t):e.setAttribute(t,s?"":n)}}function Vm(e,t,n,r,i,s,o){if(t==="innerHTML"||t==="textContent"){r&&o(r,i,s),e[t]=n??"";return}const c=e.tagName;if(t==="value"&&c!=="PROGRESS"&&!c.includes("-")){const d=c==="OPTION"?e.getAttribute("value")||"":e.value,u=n??"";(d!==u||!("_value"in e))&&(e.value=u),n==null&&e.removeAttribute(t),e._value=n;return}let f=!1;if(n===""||n==null){const d=typeof e[t];d==="boolean"?n=Gc(n):n==null&&d==="string"?(n="",f=!0):d==="number"&&(n=0,f=!0)}try{e[t]=n}catch{}f&&e.removeAttribute(t)}function Hn(e,t,n,r){e.addEventListener(t,n,r)}function Hm(e,t,n,r){e.removeEventListener(t,n,r)}const cl=Symbol("_vei");function Km(e,t,n,r,i=null){const s=e[cl]||(e[cl]={}),o=s[t];if(r&&o)o.value=r;else{const[c,f]=Wm(t);if(r){const d=s[t]=$m(r,i);Hn(e,c,d,f)}else o&&(Hm(e,c,o,f),s[t]=void 0)}}const fl=/(?:Once|Passive|Capture)$/;function Wm(e){let t;if(fl.test(e)){t={};let r;for(;r=e.match(fl);)e=e.slice(0,e.length-r[0].length),t[r[0].toLowerCase()]=!0}return[e[2]===":"?e.slice(3):sr(e.slice(2)),t]}let Ds=0;const Gm=Promise.resolve(),zm=()=>Ds||(Gm.then(()=>Ds=0),Ds=Date.now());function $m(e,t){const n=r=>{if(!r._vts)r._vts=Date.now();else if(r._vts<=n.attached)return;At(qm(r,n.value),t,5,[r])};return n.value=e,n.attached=zm(),n}function qm(e,t){if(pe(t)){const n=e.stopImmediatePropagation;return e.stopImmediatePropagation=()=>{n.call(e),e._stopped=!0},t.map(r=>i=>!i._stopped&&r&&r(i))}else return t}const dl=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&e.charCodeAt(2)>96&&e.charCodeAt(2)<123,Xm=(e,t,n,r,i,s,o,c,f)=>{const d=i==="svg";t==="class"?Dm(e,r,d):t==="style"?Nm(e,n,r):$i(t)?Bo(t)||Km(e,t,n,r,o):(t[0]==="."?(t=t.slice(1),!0):t[0]==="^"?(t=t.slice(1),!1):Ym(e,t,r,d))?Vm(e,t,r,s,o,c,f):(t==="true-value"?e._trueValue=r:t==="false-value"&&(e._falseValue=r),Um(e,t,r,d))};function Ym(e,t,n,r){if(r)return!!(t==="innerHTML"||t==="textContent"||t in e&&dl(t)&&xe(n));if(t==="spellcheck"||t==="draggable"||t==="translate"||t==="form"||t==="list"&&e.tagName==="INPUT"||t==="type"&&e.tagName==="TEXTAREA")return!1;if(t==="width"||t==="height"){const i=e.tagName;if(i==="IMG"||i==="VIDEO"||i==="CANVAS"||i==="SOURCE")return!1}return dl(t)&&Ge(n)?!1:t in e}const hl=e=>{const t=e.props["onUpdate:modelValue"]||!1;return pe(t)?n=>zn(t,n):t};function Jm(e){e.target.composing=!0}function pl(e){const t=e.target;t.composing&&(t.composing=!1,t.dispatchEvent(new Event("input")))}const Ms=Symbol("_assign"),Zm={created(e,{modifiers:{lazy:t,trim:n,number:r}},i){e[Ms]=hl(i);const s=r||i.props&&i.props.type==="number";Hn(e,t?"change":"input",o=>{if(o.target.composing)return;let c=e.value;n&&(c=c.trim()),s&&(c=Ys(c)),e[Ms](c)}),n&&Hn(e,"change",()=>{e.value=e.value.trim()}),t||(Hn(e,"compositionstart",Jm),Hn(e,"compositionend",pl),Hn(e,"change",pl))},mounted(e,{value:t}){e.value=t??""},beforeUpdate(e,{value:t,modifiers:{lazy:n,trim:r,number:i}},s){if(e[Ms]=hl(s),e.composing)return;const o=i||e.type==="number"?Ys(e.value):e.value,c=t??"";o!==c&&(document.activeElement===e&&e.type!=="range"&&(n||r&&e.value.trim()===c)||(e.value=c))}},Qm=Ze({patchProp:Xm},Tm);let ml;function e0(){return ml||(ml=lm(Qm))}const zf=(...e)=>{const t=e0().createApp(...e),{mount:n}=t;return t.mount=r=>{const i=n0(r);if(!i)return;const s=t._component;!xe(s)&&!s.render&&!s.template&&(s.template=i.innerHTML),i.innerHTML="";const o=n(i,!1,t0(i));return i instanceof Element&&(i.removeAttribute("v-cloak"),i.setAttribute("data-v-app","")),o},t};function t0(e){if(e instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&e instanceof MathMLElement)return"mathml"}function n0(e){return Ge(e)?document.querySelector(e):e}var r0=!1;/*!
 * pinia v2.1.7
 * (c) 2023 Eduardo San Martin Morote
 * @license MIT
 */const i0=Symbol();var _l;(function(e){e.direct="direct",e.patchObject="patch object",e.patchFunction="patch function"})(_l||(_l={}));function s0(){const e=Hh(!0),t=e.run(()=>le({}));let n=[],r=[];const i=Ko({install(s){i._a=s,s.provide(i0,i),s.config.globalProperties.$pinia=i,r.forEach(o=>n.push(o)),r=[]},use(s){return!this._a&&!r0?r.push(s):n.push(s),this},_p:n,_a:null,_e:e,_s:new Map,state:t});return i}function o0(){}const pt=Object.assign,ta=typeof window<"u",or=e=>e!==null&&typeof e=="object",it=e=>e!=null,Ni=e=>typeof e=="function",$f=e=>or(e)&&Ni(e.then)&&Ni(e.catch),qf=e=>typeof e=="number"||/^\d+(\.\d+)?$/.test(e),a0=()=>ta?/ios|iphone|ipad|ipod/.test(navigator.userAgent.toLowerCase()):!1;function gl(e,t){const n=t.split(".");let r=e;return n.forEach(i=>{var s;r=or(r)&&(s=r[i])!=null?s:""}),r}function fo(e,t,n){return t.reduce((r,i)=>((!n||e[i]!==void 0)&&(r[i]=e[i]),r),{})}const vl=(e,t)=>JSON.stringify(e)===JSON.stringify(t),yl=e=>Array.isArray(e)?e:[e],Pt=null,Oe=[Number,String],$e={type:Boolean,default:!0},l0=e=>({type:Number,default:e}),Ut=e=>({type:Oe,default:e}),Ne=e=>({type:String,default:e});var ei=typeof window<"u";function ho(e){return ei?requestAnimationFrame(e):-1}function u0(e){ho(()=>ho(e))}var c0=e=>e===window,El=(e,t)=>({top:0,left:0,right:e,bottom:t,width:e,height:t}),po=e=>{const t=Ee(e);if(c0(t)){const n=t.innerWidth,r=t.innerHeight;return El(n,r)}return t!=null&&t.getBoundingClientRect?t.getBoundingClientRect():El(0,0)};function ls(e){const t=dt(e,null);if(t){const n=kt(),{link:r,unlink:i,internalChildren:s}=t;r(n),Zr(()=>i(n));const o=be(()=>s.indexOf(n));return{parent:t,index:o}}return{parent:null,index:le(-1)}}function f0(e){const t=[],n=r=>{Array.isArray(r)&&r.forEach(i=>{var s;er(i)&&(t.push(i),(s=i.component)!=null&&s.subTree&&(t.push(i.component.subTree),n(i.component.subTree.children)),i.children&&n(i.children))})};return n(e),t}var xl=(e,t)=>{const n=e.indexOf(t);return n===-1?e.findIndex(r=>t.key!==void 0&&t.key!==null&&r.type===t.type&&r.key===t.key):n};function d0(e,t,n){const r=f0(e.subTree.children);n.sort((s,o)=>xl(r,s.vnode)-xl(r,o.vnode));const i=n.map(s=>s.proxy);t.sort((s,o)=>{const c=i.indexOf(s),f=i.indexOf(o);return c-f})}function na(e){const t=Ht([]),n=Ht([]),r=kt();return{children:t,linkChildren:s=>{yn(e,Object.assign({link:f=>{f.proxy&&(n.push(f),t.push(f.proxy),d0(r,t,n))},unlink:f=>{const d=n.indexOf(f);t.splice(d,1),n.splice(d,1)},children:t,internalChildren:n},s))}}}function Xf(e){let t;Mt(()=>{e(),vt(()=>{t=!0})}),ts(()=>{t&&e()})}function ar(e,t,n={}){if(!ei)return;const{target:r=window,passive:i=!1,capture:s=!1}=n;let o=!1,c;const f=a=>{if(o)return;const l=Ee(a);l&&!c&&(l.addEventListener(e,t,{capture:s,passive:i}),c=!0)},d=a=>{if(o)return;const l=Ee(a);l&&c&&(l.removeEventListener(e,t,s),c=!1)};Zr(()=>d(r)),Yr(()=>d(r)),Xf(()=>f(r));let u;return Me(r)&&(u=ke(r,(a,l)=>{d(l),f(a)})),()=>{u==null||u(),d(r),o=!0}}function h0(e,t,n={}){if(!ei)return;const{eventName:r="click"}=n;ar(r,s=>{(Array.isArray(e)?e:[e]).every(f=>{const d=Ee(f);return d&&!d.contains(s.target)})&&t(s)},{target:document})}var hi,ks;function p0(){if(!hi&&(hi=le(0),ks=le(0),ei)){const e=()=>{hi.value=window.innerWidth,ks.value=window.innerHeight};e(),window.addEventListener("resize",e,{passive:!0}),window.addEventListener("orientationchange",e,{passive:!0})}return{width:hi,height:ks}}var m0=/scroll|auto|overlay/i,Yf=ei?window:void 0;function _0(e){return e.tagName!=="HTML"&&e.tagName!=="BODY"&&e.nodeType===1}function Jf(e,t=Yf){let n=e;for(;n&&n!==t&&_0(n);){const{overflowY:r}=window.getComputedStyle(n);if(m0.test(r))return n;n=n.parentNode}return t}function g0(e,t=Yf){const n=le();return Mt(()=>{e.value&&(n.value=Jf(e.value,t))}),n}var Zf=Symbol("van-field");function Qf(e){const t=dt(Zf,null);t&&!t.customValue.value&&(t.customValue.value=e,ke(e,()=>{t.resetValidation(),t.validateWithTrigger("onChange")}))}function v0(e){const t="scrollTop"in e?e.scrollTop:e.pageYOffset;return Math.max(t,0)}function bl(e,t){"scrollTop"in e?e.scrollTop=t:e.scrollTo(e.scrollX,t)}function ed(){return window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0}function td(e){bl(window,e),bl(document.body,e)}const y0=a0();function E0(){y0&&td(ed())}const ra=e=>e.stopPropagation();function Yt(e,t){(typeof e.cancelable!="boolean"||e.cancelable)&&e.preventDefault(),t&&ra(e)}const{width:x0,height:b0}=p0();function et(e){if(it(e))return qf(e)?`${e}px`:String(e)}function ia(e){if(it(e)){if(Array.isArray(e))return{width:et(e[0]),height:et(e[1])};const t=et(e);return{width:t,height:t}}}function sa(e){const t={};return e!==void 0&&(t.zIndex=+e),t}const S0=/-(\w)/g,nd=e=>e.replace(S0,(t,n)=>n.toUpperCase()),w0=e=>e.replace(/([A-Z])/g,"-$1").toLowerCase().replace(/^-/,""),A0=(e,t,n)=>Math.min(Math.max(e,t),n);function Sl(e,t,n){const r=e.indexOf(t);return r===-1?e:t==="-"&&r!==0?e.slice(0,r):e.slice(0,r+1)+e.slice(r).replace(n,"")}function C0(e,t=!0,n=!0){t?e=Sl(e,".",/\./g):e=e.split(".")[0],n?e=Sl(e,"-",/-/g):e=e.replace(/-/,"");const r=t?/[^-0-9.]/g:/[^-0-9]/g;return e.replace(r,"")}function L0(e,t){return Math.round((e+t)*1e10)/1e10}const{hasOwnProperty:R0}=Object.prototype;function T0(e,t,n){const r=t[n];it(r)&&(!R0.call(e,n)||!or(r)?e[n]=r:e[n]=rd(Object(e[n]),r))}function rd(e,t){return Object.keys(t).forEach(n=>{T0(e,t,n)}),e}var O0={name:"",tel:"",save:"",clear:"",cancel:"",confirm:"",delete:"",loading:"...",noCoupon:"",nameEmpty:"",addContact:"",telInvalid:"",vanCalendar:{end:"",start:"",title:"",weekdays:["","","","","","",""],monthTitle:(e,t)=>`${e}${t}`,rangePrompt:e=>` ${e} `},vanCascader:{select:""},vanPagination:{prev:"",next:""},vanPullRefresh:{pulling:"...",loosing:"..."},vanSubmitBar:{label:":"},vanCoupon:{unlimited:"",discount:e=>`${e}`,condition:e=>`${e}`},vanCouponCell:{title:"",count:e=>`${e}`},vanCouponList:{exchange:"",close:"",enable:"",disabled:"",placeholder:""},vanAddressEdit:{area:"",areaEmpty:"",addressEmpty:"",addressDetail:"",defaultAddress:""},vanAddressList:{add:""}};const wl=le("zh-CN"),Al=Ht({"zh-CN":O0}),P0={messages(){return Al[wl.value]},use(e,t){wl.value=e,this.add({[e]:t})},add(e={}){rd(Al,e)}};var I0=P0;function F0(e){const t=nd(e)+".";return(n,...r)=>{const i=I0.messages(),s=gl(i,t+n)||gl(i,n);return Ni(s)?s(...r):s}}function mo(e,t){return t?typeof t=="string"?` ${e}--${t}`:Array.isArray(t)?t.reduce((n,r)=>n+mo(e,r),""):Object.keys(t).reduce((n,r)=>n+(t[r]?mo(e,r):""),""):""}function B0(e){return(t,n)=>(t&&typeof t!="string"&&(n=t,t=""),t=t?`${e}__${t}`:e,`${t}${mo(t,n)}`)}function We(e){const t=`van-${e}`;return[t,B0(t),F0(t)]}const us="van-hairline",D0=`${us}--top`,M0=`${us}--surround`,oa=`${us}--top-bottom`,aa="van-haptics-feedback",k0=Symbol("van-form"),Cl=5;function id(e,{args:t=[],done:n,canceled:r,error:i}){if(e){const s=e.apply(null,t);$f(s)?s.then(o=>{o?n():r&&r()}).catch(i||o0):s?n():r&&r()}else n()}function ze(e){return e.install=t=>{const{name:n}=e;n&&(t.component(n,e),t.component(nd(`-${n}`),e))},e}const sd=Symbol();function N0(e){const t=dt(sd,null);t&&ke(t,n=>{n&&e()})}const j0=(e,t)=>{const n=le(),r=()=>{n.value=po(e).height};return Mt(()=>{if(vt(r),t)for(let i=1;i<=3;i++)setTimeout(r,100*i)}),N0(()=>vt(r)),ke([x0,b0],r),n};function U0(e,t){const n=j0(e,!0);return r=>B("div",{class:t("placeholder"),style:{height:n.value?`${n.value}px`:void 0}},[r()])}function ti(e){const t=kt();t&&pt(t.proxy,e)}const cs={to:[String,Object],url:String,replace:Boolean};function V0({to:e,url:t,replace:n,$router:r}){e&&r?r[n?"replace":"push"](e):t&&(n?location.replace(t):location.href=t)}function fs(){const e=kt().proxy;return()=>V0(e)}const[H0,Ll]=We("badge"),K0={dot:Boolean,max:Oe,tag:Ne("div"),color:String,offset:Array,content:Oe,showZero:$e,position:Ne("top-right")};var W0=Ce({name:H0,props:K0,setup(e,{slots:t}){const n=()=>{if(t.content)return!0;const{content:c,showZero:f}=e;return it(c)&&c!==""&&(f||c!==0&&c!=="0")},r=()=>{const{dot:c,max:f,content:d}=e;if(!c&&n())return t.content?t.content():it(f)&&qf(d)&&+d>+f?`${f}+`:d},i=c=>c.startsWith("-")?c.replace("-",""):`-${c}`,s=be(()=>{const c={background:e.color};if(e.offset){const[f,d]=e.offset,{position:u}=e,[a,l]=u.split("-");t.default?(typeof d=="number"?c[a]=et(a==="top"?d:-d):c[a]=a==="top"?et(d):i(d),typeof f=="number"?c[l]=et(l==="left"?f:-f):c[l]=l==="left"?et(f):i(f)):(c.marginTop=et(d),c.marginLeft=et(f))}return c}),o=()=>{if(n()||e.dot)return B("div",{class:Ll([e.position,{dot:e.dot,fixed:!!t.default}]),style:s.value},[r()])};return()=>{if(t.default){const{tag:c}=e;return B(c,{class:Ll("wrapper")},{default:()=>[t.default(),o()]})}return o()}}});const la=ze(W0);let od=2e3;const G0=()=>++od,z0=e=>{od=e},[ad,$0]=We("config-provider"),ld=Symbol(ad),q0={tag:Ne("div"),theme:Ne("light"),zIndex:Number,themeVars:Object,themeVarsDark:Object,themeVarsLight:Object,themeVarsScope:Ne("local"),iconPrefix:String};function X0(e){return e.replace(/([a-zA-Z])(\d)/g,"$1-$2")}function Y0(e){const t={};return Object.keys(e).forEach(n=>{const r=X0(w0(n));t[`--van-${r}`]=e[n]}),t}function pi(e={},t={}){Object.keys(e).forEach(n=>{e[n]!==t[n]&&document.documentElement.style.setProperty(n,e[n])}),Object.keys(t).forEach(n=>{e[n]||document.documentElement.style.removeProperty(n)})}var J0=Ce({name:ad,props:q0,setup(e,{slots:t}){const n=be(()=>Y0(pt({},e.themeVars,e.theme==="dark"?e.themeVarsDark:e.themeVarsLight)));if(ta){const r=()=>{document.documentElement.classList.add(`van-theme-${e.theme}`)},i=(s=e.theme)=>{document.documentElement.classList.remove(`van-theme-${s}`)};ke(()=>e.theme,(s,o)=>{o&&i(o),r()},{immediate:!0}),ts(r),Yr(i),Jr(i),ke(n,(s,o)=>{e.themeVarsScope==="global"&&pi(s,o)}),ke(()=>e.themeVarsScope,(s,o)=>{o==="global"&&pi({},n.value),s==="global"&&pi(n.value,{})}),e.themeVarsScope==="global"&&pi(n.value,{})}return yn(ld,e),xf(()=>{e.zIndex!==void 0&&z0(e.zIndex)}),()=>B(e.tag,{class:$0(),style:e.themeVarsScope==="local"?n.value:void 0},{default:()=>{var r;return[(r=t.default)==null?void 0:r.call(t)]}})}});const[Z0,Rl]=We("icon"),Q0=e=>e==null?void 0:e.includes("/"),e_={dot:Boolean,tag:Ne("i"),name:String,size:Oe,badge:Oe,color:String,badgeProps:Object,classPrefix:String};var t_=Ce({name:Z0,props:e_,setup(e,{slots:t}){const n=dt(ld,null),r=be(()=>e.classPrefix||(n==null?void 0:n.iconPrefix)||Rl());return()=>{const{tag:i,dot:s,name:o,size:c,badge:f,color:d}=e,u=Q0(o);return B(la,Lt({dot:s,tag:i,class:[r.value,u?"":`${r.value}-${o}`],style:{color:d,fontSize:et(c)},content:f},e.badgeProps),{default:()=>{var a;return[(a=t.default)==null?void 0:a.call(t),u&&B("img",{class:Rl("image"),src:o},null)]}})}}});const It=ze(t_),[n_,Or]=We("loading"),r_=Array(12).fill(null).map((e,t)=>B("i",{class:Or("line",String(t+1))},null)),i_=B("svg",{class:Or("circular"),viewBox:"25 25 50 50"},[B("circle",{cx:"50",cy:"50",r:"20",fill:"none"},null)]),s_={size:Oe,type:Ne("circular"),color:String,vertical:Boolean,textSize:Oe,textColor:String};var o_=Ce({name:n_,props:s_,setup(e,{slots:t}){const n=be(()=>pt({color:e.color},ia(e.size))),r=()=>{const s=e.type==="spinner"?r_:i_;return B("span",{class:Or("spinner",e.type),style:n.value},[t.icon?t.icon():s])},i=()=>{var s;if(t.default)return B("span",{class:Or("text"),style:{fontSize:et(e.textSize),color:(s=e.textColor)!=null?s:e.color}},[t.default()])};return()=>{const{type:s,vertical:o}=e;return B("div",{class:Or([s,{vertical:o}]),"aria-live":"polite","aria-busy":!0},[r(),i()])}}});const ni=ze(o_),[a_,Mn]=We("button"),l_=pt({},cs,{tag:Ne("button"),text:String,icon:String,type:Ne("default"),size:Ne("normal"),color:String,block:Boolean,plain:Boolean,round:Boolean,square:Boolean,loading:Boolean,hairline:Boolean,disabled:Boolean,iconPrefix:String,nativeType:Ne("button"),loadingSize:Oe,loadingText:String,loadingType:String,iconPosition:Ne("left")});var u_=Ce({name:a_,props:l_,emits:["click"],setup(e,{emit:t,slots:n}){const r=fs(),i=()=>n.loading?n.loading():B(ni,{size:e.loadingSize,type:e.loadingType,class:Mn("loading")},null),s=()=>{if(e.loading)return i();if(n.icon)return B("div",{class:Mn("icon")},[n.icon()]);if(e.icon)return B(It,{name:e.icon,class:Mn("icon"),classPrefix:e.iconPrefix},null)},o=()=>{let d;if(e.loading?d=e.loadingText:d=n.default?n.default():e.text,d)return B("span",{class:Mn("text")},[d])},c=()=>{const{color:d,plain:u}=e;if(d){const a={color:u?d:"white"};return u||(a.background=d),d.includes("gradient")?a.border=0:a.borderColor=d,a}},f=d=>{e.loading?Yt(d):e.disabled||(t("click",d),r())};return()=>{const{tag:d,type:u,size:a,block:l,round:h,plain:g,square:E,loading:y,disabled:m,hairline:_,nativeType:x,iconPosition:p}=e,v=[Mn([u,a,{plain:g,block:l,round:h,square:E,loading:y,disabled:m,hairline:_}]),{[M0]:_}];return B(d,{type:x,class:v,style:c(),disabled:m,onClick:f},{default:()=>[B("div",{class:Mn("content")},[p==="left"&&s(),o(),p==="right"&&s()])]})}}});const ud=ze(u_),c_={show:Boolean,zIndex:Oe,overlay:$e,duration:Oe,teleport:[String,Object],lockScroll:$e,lazyRender:$e,beforeClose:Function,overlayStyle:Object,overlayClass:Pt,transitionAppear:Boolean,closeOnClickOverlay:$e};function f_(e,t){return e>t?"horizontal":t>e?"vertical":""}function ds(){const e=le(0),t=le(0),n=le(0),r=le(0),i=le(0),s=le(0),o=le(""),c=le(!0),f=()=>o.value==="vertical",d=()=>o.value==="horizontal",u=()=>{n.value=0,r.value=0,i.value=0,s.value=0,o.value="",c.value=!0};return{move:h=>{const g=h.touches[0];n.value=(g.clientX<0?0:g.clientX)-e.value,r.value=g.clientY-t.value,i.value=Math.abs(n.value),s.value=Math.abs(r.value);const E=10;(!o.value||i.value<E&&s.value<E)&&(o.value=f_(i.value,s.value)),c.value&&(i.value>Cl||s.value>Cl)&&(c.value=!1)},start:h=>{u(),e.value=h.touches[0].clientX,t.value=h.touches[0].clientY},reset:u,startX:e,startY:t,deltaX:n,deltaY:r,offsetX:i,offsetY:s,direction:o,isVertical:f,isHorizontal:d,isTap:c}}let _r=0;const Tl="van-overflow-hidden";function d_(e,t){const n=ds(),r="01",i="10",s=u=>{n.move(u);const a=n.deltaY.value>0?i:r,l=Jf(u.target,e.value),{scrollHeight:h,offsetHeight:g,scrollTop:E}=l;let y="11";E===0?y=g>=h?"00":"01":E+g>=h&&(y="10"),y!=="11"&&n.isVertical()&&!(parseInt(y,2)&parseInt(a,2))&&Yt(u,!0)},o=()=>{document.addEventListener("touchstart",n.start),document.addEventListener("touchmove",s,{passive:!1}),_r||document.body.classList.add(Tl),_r++},c=()=>{_r&&(document.removeEventListener("touchstart",n.start),document.removeEventListener("touchmove",s),_r--,_r||document.body.classList.remove(Tl))},f=()=>t()&&o(),d=()=>t()&&c();Xf(f),Yr(d),Jr(d),ke(t,u=>{u?o():c()})}function ua(e){const t=le(!1);return ke(e,n=>{n&&(t.value=n)},{immediate:!0}),n=>()=>t.value?n():null}const _o=()=>{var e;const{scopeId:t}=((e=kt())==null?void 0:e.vnode)||{};return t?{[t]:""}:null},[h_,p_]=We("overlay"),m_={show:Boolean,zIndex:Oe,duration:Oe,className:Pt,lockScroll:$e,lazyRender:$e,customStyle:Object};var __=Ce({name:h_,props:m_,setup(e,{slots:t}){const n=le(),r=ua(()=>e.show||!e.lazyRender),i=o=>{e.lockScroll&&Yt(o,!0)},s=r(()=>{var o;const c=pt(sa(e.zIndex),e.customStyle);return it(e.duration)&&(c.animationDuration=`${e.duration}s`),Xr(B("div",{ref:n,style:c,class:[p_(),e.className]},[(o=t.default)==null?void 0:o.call(t)]),[[as,e.show]])});return ar("touchmove",i,{target:n}),()=>B(Bn,{name:"van-fade",appear:!0},{default:s})}});const g_=ze(__),v_=pt({},c_,{round:Boolean,position:Ne("center"),closeIcon:Ne("cross"),closeable:Boolean,transition:String,iconPrefix:String,closeOnPopstate:Boolean,closeIconPosition:Ne("top-right"),safeAreaInsetTop:Boolean,safeAreaInsetBottom:Boolean}),[y_,Ol]=We("popup");var E_=Ce({name:y_,inheritAttrs:!1,props:v_,emits:["open","close","opened","closed","keydown","update:show","clickOverlay","clickCloseIcon"],setup(e,{emit:t,attrs:n,slots:r}){let i,s;const o=le(),c=le(),f=ua(()=>e.show||!e.lazyRender),d=be(()=>{const b={zIndex:o.value};if(it(e.duration)){const w=e.position==="center"?"animationDuration":"transitionDuration";b[w]=`${e.duration}s`}return b}),u=()=>{i||(i=!0,o.value=e.zIndex!==void 0?+e.zIndex:G0(),t("open"))},a=()=>{i&&id(e.beforeClose,{done(){i=!1,t("close"),t("update:show",!1)}})},l=b=>{t("clickOverlay",b),e.closeOnClickOverlay&&a()},h=()=>{if(e.overlay)return B(g_,Lt({show:e.show,class:e.overlayClass,zIndex:o.value,duration:e.duration,customStyle:e.overlayStyle,role:e.closeOnClickOverlay?"button":void 0,tabindex:e.closeOnClickOverlay?0:void 0},_o(),{onClick:l}),{default:r["overlay-content"]})},g=b=>{t("clickCloseIcon",b),a()},E=()=>{if(e.closeable)return B(It,{role:"button",tabindex:0,name:e.closeIcon,class:[Ol("close-icon",e.closeIconPosition),aa],classPrefix:e.iconPrefix,onClick:g},null)};let y;const m=()=>{y&&clearTimeout(y),y=setTimeout(()=>{t("opened")})},_=()=>t("closed"),x=b=>t("keydown",b),p=f(()=>{var b;const{round:w,position:A,safeAreaInsetTop:T,safeAreaInsetBottom:P}=e;return Xr(B("div",Lt({ref:c,style:d.value,role:"dialog",tabindex:0,class:[Ol({round:w,[A]:A}),{"van-safe-area-top":T,"van-safe-area-bottom":P}],onKeydown:x},n,_o()),[(b=r.default)==null?void 0:b.call(r),E()]),[[as,e.show]])}),v=()=>{const{position:b,transition:w,transitionAppear:A}=e,T=b==="center"?"van-fade":`van-popup-slide-${b}`;return B(Bn,{name:w||T,appear:A,onAfterEnter:m,onAfterLeave:_},{default:p})};return ke(()=>e.show,b=>{b&&!i&&(u(),n.tabindex===0&&vt(()=>{var w;(w=c.value)==null||w.focus()})),!b&&i&&(i=!1,t("close"))}),ti({popupRef:c}),d_(c,()=>e.show&&e.lockScroll),ar("popstate",()=>{e.closeOnPopstate&&(a(),s=!1)}),Mt(()=>{e.show&&u()}),ts(()=>{s&&(t("update:show",!0),s=!1)}),Yr(()=>{e.show&&e.teleport&&(a(),s=!0)}),yn(sd,()=>e.show),()=>e.teleport?B(Nf,{to:e.teleport},{default:()=>[h(),v()]}):B(Qe,null,[h(),v()])}});const cd=ze(E_);let x_=0;function fd(){const e=kt(),{name:t="unknown"}=(e==null?void 0:e.type)||{};return`${t}-${++x_}`}const[b_,kn]=We("cell"),hs={tag:Ne("div"),icon:String,size:String,title:Oe,value:Oe,label:Oe,center:Boolean,isLink:Boolean,border:$e,iconPrefix:String,valueClass:Pt,labelClass:Pt,titleClass:Pt,titleStyle:null,arrowDirection:String,required:{type:[Boolean,String],default:null},clickable:{type:Boolean,default:null}},S_=pt({},hs,cs);var w_=Ce({name:b_,props:S_,setup(e,{slots:t}){const n=fs(),r=()=>{if(t.label||it(e.label))return B("div",{class:[kn("label"),e.labelClass]},[t.label?t.label():e.label])},i=()=>{var f;if(t.title||it(e.title)){const d=(f=t.title)==null?void 0:f.call(t);return Array.isArray(d)&&d.length===0?void 0:B("div",{class:[kn("title"),e.titleClass],style:e.titleStyle},[d||B("span",null,[e.title]),r()])}},s=()=>{const f=t.value||t.default;if(f||it(e.value))return B("div",{class:[kn("value"),e.valueClass]},[f?f():B("span",null,[e.value])])},o=()=>{if(t.icon)return t.icon();if(e.icon)return B(It,{name:e.icon,class:kn("left-icon"),classPrefix:e.iconPrefix},null)},c=()=>{if(t["right-icon"])return t["right-icon"]();if(e.isLink){const f=e.arrowDirection&&e.arrowDirection!=="right"?`arrow-${e.arrowDirection}`:"arrow";return B(It,{name:f,class:kn("right-icon")},null)}};return()=>{var f;const{tag:d,size:u,center:a,border:l,isLink:h,required:g}=e,E=(f=e.clickable)!=null?f:h,y={center:a,required:!!g,clickable:E,borderless:!l};return u&&(y[u]=!!u),B(d,{class:kn(y),role:E?"button":void 0,tabindex:E?0:void 0,onClick:n},{default:()=>{var m;return[o(),i(),s(),c(),(m=t.extra)==null?void 0:m.call(t)]}})}}});const lr=ze(w_);function dd(e){return Array.isArray(e)?!e.length:e===0?!1:!e}function A_(e,t){if(dd(e)){if(t.required)return!1;if(t.validateEmpty===!1)return!0}return!(t.pattern&&!t.pattern.test(String(e)))}function C_(e,t){return new Promise(n=>{const r=t.validator(e,t);if($f(r)){r.then(n);return}n(r)})}function Pl(e,t){const{message:n}=t;return Ni(n)?n(e,t):n||""}function L_({target:e}){e.composing=!0}function Il({target:e}){e.composing&&(e.composing=!1,e.dispatchEvent(new Event("input")))}function R_(e,t){const n=ed();e.style.height="auto";let r=e.scrollHeight;if(or(t)){const{maxHeight:i,minHeight:s}=t;i!==void 0&&(r=Math.min(r,i)),s!==void 0&&(r=Math.max(r,s))}r&&(e.style.height=`${r}px`,td(n))}function T_(e){return e==="number"?{type:"text",inputmode:"decimal"}:e==="digit"?{type:"tel",inputmode:"numeric"}:{type:e}}function Wt(e){return[...e].length}function Ns(e,t){return[...e].slice(0,t).join("")}const[O_,Et]=We("field"),P_={id:String,name:String,leftIcon:String,rightIcon:String,autofocus:Boolean,clearable:Boolean,maxlength:Oe,formatter:Function,clearIcon:Ne("clear"),modelValue:Ut(""),inputAlign:String,placeholder:String,autocomplete:String,autocapitalize:String,autocorrect:String,errorMessage:String,enterkeyhint:String,clearTrigger:Ne("focus"),formatTrigger:Ne("onChange"),spellcheck:{type:Boolean,default:null},error:{type:Boolean,default:null},disabled:{type:Boolean,default:null},readonly:{type:Boolean,default:null}},I_=pt({},hs,P_,{rows:Oe,type:Ne("text"),rules:Array,autosize:[Boolean,Object],labelWidth:Oe,labelClass:Pt,labelAlign:String,showWordLimit:Boolean,errorMessageAlign:String,colon:{type:Boolean,default:null}});var F_=Ce({name:O_,props:I_,emits:["blur","focus","clear","keypress","clickInput","endValidate","startValidate","clickLeftIcon","clickRightIcon","update:modelValue"],setup(e,{emit:t,slots:n}){const r=fd(),i=Ht({status:"unvalidated",focused:!1,validateMessage:""}),s=le(),o=le(),c=le(),{parent:f}=ls(k0),d=()=>{var F;return String((F=e.modelValue)!=null?F:"")},u=F=>{if(it(e[F]))return e[F];if(f&&it(f.props[F]))return f.props[F]},a=be(()=>{const F=u("readonly");if(e.clearable&&!F){const W=d()!=="",V=e.clearTrigger==="always"||e.clearTrigger==="focus"&&i.focused;return W&&V}return!1}),l=be(()=>c.value&&n.input?c.value():e.modelValue),h=be(()=>{var F;const W=u("required");return W==="auto"?(F=e.rules)==null?void 0:F.some(V=>V.required):W}),g=F=>F.reduce((W,V)=>W.then(()=>{if(i.status==="failed")return;let{value:z}=l;if(V.formatter&&(z=V.formatter(z,V)),!A_(z,V)){i.status="failed",i.validateMessage=Pl(z,V);return}if(V.validator)return dd(z)&&V.validateEmpty===!1?void 0:C_(z,V).then(ae=>{ae&&typeof ae=="string"?(i.status="failed",i.validateMessage=ae):ae===!1&&(i.status="failed",i.validateMessage=Pl(z,V))})}),Promise.resolve()),E=()=>{i.status="unvalidated",i.validateMessage=""},y=()=>t("endValidate",{status:i.status,message:i.validateMessage}),m=(F=e.rules)=>new Promise(W=>{E(),F?(t("startValidate"),g(F).then(()=>{i.status==="failed"?(W({name:e.name,message:i.validateMessage}),y()):(i.status="passed",W(),y())})):W()}),_=F=>{if(f&&e.rules){const{validateTrigger:W}=f.props,V=yl(W).includes(F),z=e.rules.filter(ae=>ae.trigger?yl(ae.trigger).includes(F):V);z.length&&m(z)}},x=F=>{var W;const{maxlength:V}=e;if(it(V)&&Wt(F)>+V){const z=d();if(z&&Wt(z)===+V)return z;const ae=(W=s.value)==null?void 0:W.selectionEnd;if(i.focused&&ae){const re=[...F],L=re.length-+V;return re.splice(ae-L,L),re.join("")}return Ns(F,+V)}return F},p=(F,W="onChange")=>{const V=F;F=x(F);const z=Wt(V)-Wt(F);if(e.type==="number"||e.type==="digit"){const re=e.type==="number";F=C0(F,re,re)}let ae=0;if(e.formatter&&W===e.formatTrigger){const{formatter:re,maxlength:L}=e;if(F=re(F),it(L)&&Wt(F)>+L&&(F=Ns(F,+L)),s.value&&i.focused){const{selectionEnd:I}=s.value,k=Ns(V,I);ae=Wt(re(k))-Wt(k)}}if(s.value&&s.value.value!==F)if(i.focused){let{selectionStart:re,selectionEnd:L}=s.value;if(s.value.value=F,it(re)&&it(L)){const I=Wt(F);z?(re-=z,L-=z):ae&&(re+=ae,L+=ae),s.value.setSelectionRange(Math.min(re,I),Math.min(L,I))}}else s.value.value=F;F!==e.modelValue&&t("update:modelValue",F)},v=F=>{F.target.composing||p(F.target.value)},b=()=>{var F;return(F=s.value)==null?void 0:F.blur()},w=()=>{var F;return(F=s.value)==null?void 0:F.focus()},A=()=>{const F=s.value;e.type==="textarea"&&e.autosize&&F&&R_(F,e.autosize)},T=F=>{i.focused=!0,t("focus",F),vt(A),u("readonly")&&b()},P=F=>{i.focused=!1,p(d(),"onBlur"),t("blur",F),!u("readonly")&&(_("onBlur"),vt(A),E0())},R=F=>t("clickInput",F),C=F=>t("clickLeftIcon",F),O=F=>t("clickRightIcon",F),D=F=>{Yt(F),t("update:modelValue",""),t("clear",F)},N=be(()=>{if(typeof e.error=="boolean")return e.error;if(f&&f.props.showError&&i.status==="failed")return!0}),M=be(()=>{const F=u("labelWidth"),W=u("labelAlign");if(F&&W!=="top")return{width:et(F)}}),U=F=>{F.keyCode===13&&(!(f&&f.props.submitOnEnter)&&e.type!=="textarea"&&Yt(F),e.type==="search"&&b()),t("keypress",F)},Q=()=>e.id||`${r}-input`,ie=()=>i.status,ne=()=>{const F=Et("control",[u("inputAlign"),{error:N.value,custom:!!n.input,"min-height":e.type==="textarea"&&!e.autosize}]);if(n.input)return B("div",{class:F,onClick:R},[n.input()]);const W={id:Q(),ref:s,name:e.name,rows:e.rows!==void 0?+e.rows:void 0,class:F,disabled:u("disabled"),readonly:u("readonly"),autofocus:e.autofocus,placeholder:e.placeholder,autocomplete:e.autocomplete,autocapitalize:e.autocapitalize,autocorrect:e.autocorrect,enterkeyhint:e.enterkeyhint,spellcheck:e.spellcheck,"aria-labelledby":e.label?`${r}-label`:void 0,onBlur:P,onFocus:T,onInput:v,onClick:R,onChange:Il,onKeypress:U,onCompositionend:Il,onCompositionstart:L_};return e.type==="textarea"?B("textarea",W,null):B("input",Lt(T_(e.type),W),null)},de=()=>{const F=n["left-icon"];if(e.leftIcon||F)return B("div",{class:Et("left-icon"),onClick:C},[F?F():B(It,{name:e.leftIcon,classPrefix:e.iconPrefix},null)])},he=()=>{const F=n["right-icon"];if(e.rightIcon||F)return B("div",{class:Et("right-icon"),onClick:O},[F?F():B(It,{name:e.rightIcon,classPrefix:e.iconPrefix},null)])},se=()=>{if(e.showWordLimit&&e.maxlength){const F=Wt(d());return B("div",{class:Et("word-limit")},[B("span",{class:Et("word-num")},[F]),Xt("/"),e.maxlength])}},oe=()=>{if(f&&f.props.showErrorMessage===!1)return;const F=e.errorMessage||i.validateMessage;if(F){const W=n["error-message"],V=u("errorMessageAlign");return B("div",{class:Et("error-message",V)},[W?W({message:F}):F])}},je=()=>{const F=u("labelWidth"),W=u("labelAlign"),V=u("colon")?":":"";if(n.label)return[n.label(),V];if(e.label)return B("label",{id:`${r}-label`,for:n.input?void 0:Q(),onClick:z=>{Yt(z),w()},style:W==="top"&&F?{width:et(F)}:void 0},[e.label+V])},ve=()=>[B("div",{class:Et("body")},[ne(),a.value&&B(It,{ref:o,name:e.clearIcon,class:Et("clear")},null),he(),n.button&&B("div",{class:Et("button")},[n.button()])]),se(),oe()];return ti({blur:b,focus:w,validate:m,formValue:l,resetValidation:E,getValidationStatus:ie}),yn(Zf,{customValue:c,resetValidation:E,validateWithTrigger:_}),ke(()=>e.modelValue,()=>{p(d()),E(),_("onChange"),vt(A)}),Mt(()=>{p(d(),e.formatTrigger),vt(A)}),ar("touchstart",D,{target:be(()=>{var F;return(F=o.value)==null?void 0:F.$el})}),()=>{const F=u("disabled"),W=u("labelAlign"),V=de(),z=()=>{const ae=je();return W==="top"?[V,ae].filter(Boolean):ae||[]};return B(lr,{size:e.size,class:Et({error:N.value,disabled:F,[`label-${W}`]:W}),center:e.center,border:e.border,isLink:e.isLink,clickable:e.clickable,titleStyle:M.value,valueClass:Et("value"),titleClass:[Et("label",[W,{required:h.value}]),e.labelClass],arrowDirection:e.arrowDirection},{icon:V&&W!=="top"?()=>V:null,title:z,value:ve,extra:n.extra})}}});const B_=ze(F_);let gr=0;function D_(e){e?(gr||document.body.classList.add("van-toast--unclickable"),gr++):gr&&(gr--,gr||document.body.classList.remove("van-toast--unclickable"))}const[M_,Nn]=We("toast"),k_=["show","overlay","teleport","transition","overlayClass","overlayStyle","closeOnClickOverlay","zIndex"],N_={icon:String,show:Boolean,type:Ne("text"),overlay:Boolean,message:Oe,iconSize:Oe,duration:l0(2e3),position:Ne("middle"),teleport:[String,Object],wordBreak:String,className:Pt,iconPrefix:String,transition:Ne("van-fade"),loadingType:String,forbidClick:Boolean,overlayClass:Pt,overlayStyle:Object,closeOnClick:Boolean,closeOnClickOverlay:Boolean,zIndex:Oe};var hd=Ce({name:M_,props:N_,emits:["update:show"],setup(e,{emit:t,slots:n}){let r,i=!1;const s=()=>{const a=e.show&&e.forbidClick;i!==a&&(i=a,D_(i))},o=a=>t("update:show",a),c=()=>{e.closeOnClick&&o(!1)},f=()=>clearTimeout(r),d=()=>{const{icon:a,type:l,iconSize:h,iconPrefix:g,loadingType:E}=e;if(a||l==="success"||l==="fail")return B(It,{name:a||l,size:h,class:Nn("icon"),classPrefix:g},null);if(l==="loading")return B(ni,{class:Nn("loading"),size:h,type:E},null)},u=()=>{const{type:a,message:l}=e;if(n.message)return B("div",{class:Nn("text")},[n.message()]);if(it(l)&&l!=="")return a==="html"?B("div",{key:0,class:Nn("text"),innerHTML:String(l)},null):B("div",{class:Nn("text")},[l])};return ke(()=>[e.show,e.forbidClick],s),ke(()=>[e.show,e.type,e.message,e.duration],()=>{f(),e.show&&e.duration>0&&(r=setTimeout(()=>{o(!1)},e.duration))}),Mt(s),Zr(s),()=>B(cd,Lt({class:[Nn([e.position,e.wordBreak==="normal"?"break-normal":e.wordBreak,{[e.type]:!e.icon}]),e.className],lockScroll:!1,onClick:c,onClosed:f,"onUpdate:show":o},fo(e,k_)),{default:()=>[d(),u()]})}});function j_(){const e=Ht({show:!1}),t=i=>{e.show=i},n=i=>{pt(e,i,{transitionAppear:!0}),t(!0)},r=()=>t(!1);return ti({open:n,close:r,toggle:t}),{open:n,close:r,state:e,toggle:t}}function U_(e){const t=zf(e),n=document.createElement("div");return document.body.appendChild(n),{instance:t.mount(n),unmount(){t.unmount(),document.body.removeChild(n)}}}const V_={icon:"",type:"text",message:"",className:"",overlay:!1,onClose:void 0,onOpened:void 0,duration:2e3,teleport:"body",iconSize:void 0,iconPrefix:void 0,position:"middle",transition:"van-fade",forbidClick:!1,loadingType:void 0,overlayClass:"",overlayStyle:void 0,closeOnClick:!1,closeOnClickOverlay:!1};let mi=[],H_=!1,Fl=pt({},V_);const K_=new Map;function W_(e){return or(e)?e:{message:e}}function G_(){const{instance:e,unmount:t}=U_({setup(){const n=le(""),{open:r,state:i,close:s,toggle:o}=j_(),c=()=>{},f=()=>B(hd,Lt(i,{onClosed:c,"onUpdate:show":o}),null);return ke(n,d=>{i.message=d}),kt().render=f,{open:r,close:s,message:n}}});return e}function z_(){if(!mi.length||H_){const e=G_();mi.push(e)}return mi[mi.length-1]}function $_(e={}){if(!ta)return{};const t=z_(),n=W_(e);return t.open(pt({},Fl,K_.get(n.type||Fl.type),n)),t}ze(hd);const[q_,js]=We("switch"),X_={size:Oe,loading:Boolean,disabled:Boolean,modelValue:Pt,activeColor:String,inactiveColor:String,activeValue:{type:Pt,default:!0},inactiveValue:{type:Pt,default:!1}};var Y_=Ce({name:q_,props:X_,emits:["change","update:modelValue"],setup(e,{emit:t,slots:n}){const r=()=>e.modelValue===e.activeValue,i=()=>{if(!e.disabled&&!e.loading){const o=r()?e.inactiveValue:e.activeValue;t("update:modelValue",o),t("change",o)}},s=()=>{if(e.loading){const o=r()?e.activeColor:e.inactiveColor;return B(ni,{class:js("loading"),color:o},null)}if(n.node)return n.node()};return Qf(()=>e.modelValue),()=>{var o;const{size:c,loading:f,disabled:d,activeColor:u,inactiveColor:a}=e,l=r(),h={fontSize:et(c),backgroundColor:l?u:a};return B("div",{role:"switch",class:js({on:l,loading:f,disabled:d}),style:h,tabindex:d?void 0:0,"aria-checked":l,onClick:i},[B("div",{class:js("node")},[s()]),(o=n.background)==null?void 0:o.call(n)])}}});const pd=ze(Y_),[J_,Bl]=We("tag"),Z_={size:String,mark:Boolean,show:$e,type:Ne("default"),color:String,plain:Boolean,round:Boolean,textColor:String,closeable:Boolean};var Q_=Ce({name:J_,props:Z_,emits:["close"],setup(e,{slots:t,emit:n}){const r=o=>{o.stopPropagation(),n("close",o)},i=()=>e.plain?{color:e.textColor||e.color,borderColor:e.color}:{color:e.textColor,background:e.color},s=()=>{var o;const{type:c,mark:f,plain:d,round:u,size:a,closeable:l}=e,h={mark:f,plain:d,round:u};a&&(h[a]=a);const g=l&&B(It,{name:"cross",class:[Bl("close"),aa],onClick:r},null);return B("span",{style:i(),class:Bl([h,c])},[(o=t.default)==null?void 0:o.call(t),g])};return()=>B(Bn,{name:e.closeable?"van-fade":void 0},{default:()=>[e.show?s():null]})}});const md=ze(Q_),[eg,Dl]=We("cell-group"),tg={title:String,inset:Boolean,border:$e};var ng=Ce({name:eg,inheritAttrs:!1,props:tg,setup(e,{slots:t,attrs:n}){const r=()=>{var s;return B("div",Lt({class:[Dl({inset:e.inset}),{[oa]:e.border&&!e.inset}]},n,_o()),[(s=t.default)==null?void 0:s.call(t)])},i=()=>B("div",{class:Dl("title",{inset:e.inset})},[t.title?t.title():e.title]);return()=>e.title||t.title?B(Qe,null,[i(),r()]):r()}});const ri=ze(ng),[_d,rg]=We("collapse"),gd=Symbol(_d),ig={border:$e,accordion:Boolean,modelValue:{type:[String,Number,Array],default:""}};var sg=Ce({name:_d,props:ig,emits:["change","update:modelValue"],setup(e,{emit:t,slots:n}){const{linkChildren:r,children:i}=na(gd),s=d=>{t("change",d),t("update:modelValue",d)},o=(d,u)=>{const{accordion:a,modelValue:l}=e;s(a?d===l?"":d:u?l.concat(d):l.filter(h=>h!==d))},c=(d={})=>{if(e.accordion)return;typeof d=="boolean"&&(d={expanded:d});const{expanded:u,skipDisabled:a}=d,h=i.filter(g=>g.disabled&&a?g.expanded.value:u??!g.expanded.value).map(g=>g.itemName.value);s(h)},f=d=>{const{accordion:u,modelValue:a}=e;return u?a===d:a.includes(d)};return ti({toggleAll:c}),r({toggle:o,isExpanded:f}),()=>{var d;return B("div",{class:[rg(),{[oa]:e.border}]},[(d=n.default)==null?void 0:d.call(n)])}}});const og=ze(sg),[ag,_i]=We("collapse-item"),lg=["icon","title","value","label","right-icon"],ug=pt({},hs,{name:Oe,isLink:$e,disabled:Boolean,readonly:Boolean,lazyRender:$e});var cg=Ce({name:ag,props:ug,setup(e,{slots:t}){const n=le(),r=le(),{parent:i,index:s}=ls(gd);if(!i)return;const o=be(()=>{var E;return(E=e.name)!=null?E:s.value}),c=be(()=>i.isExpanded(o.value)),f=le(c.value),d=ua(()=>f.value||!e.lazyRender),u=()=>{c.value?n.value&&(n.value.style.height=""):f.value=!1};ke(c,(E,y)=>{if(y===null)return;E&&(f.value=!0),(E?vt:ho)(()=>{if(!r.value||!n.value)return;const{offsetHeight:_}=r.value;if(_){const x=`${_}px`;n.value.style.height=E?"0":x,u0(()=>{n.value&&(n.value.style.height=E?x:"0")})}else u()})});const a=(E=!c.value)=>{i.toggle(o.value,E)},l=()=>{!e.disabled&&!e.readonly&&a()},h=()=>{const{border:E,disabled:y,readonly:m}=e,_=fo(e,Object.keys(hs));return m&&(_.isLink=!1),(y||m)&&(_.clickable=!1),B(lr,Lt({role:"button",class:_i("title",{disabled:y,expanded:c.value,borderless:!E}),"aria-expanded":String(c.value),onClick:l},_),fo(t,lg))},g=d(()=>{var E;return Xr(B("div",{ref:n,class:_i("wrapper"),onTransitionend:u},[B("div",{ref:r,class:_i("content")},[(E=t.default)==null?void 0:E.call(t)])]),[[as,f.value]])});return ti({toggle:a,expanded:c,itemName:o}),()=>B("div",{class:[_i({border:s.value&&e.border})]},[h(),g()])}});const fg=ze(cg),dg=ze(J0),[hg,gi]=We("empty"),pg={image:Ne("default"),imageSize:[Number,String,Array],description:String};var mg=Ce({name:hg,props:pg,setup(e,{slots:t}){const n=()=>{const m=t.description?t.description():e.description;if(m)return B("p",{class:gi("description")},[m])},r=()=>{if(t.default)return B("div",{class:gi("bottom")},[t.default()])},i=fd(),s=m=>`${i}-${m}`,o=m=>`url(#${s(m)})`,c=(m,_,x)=>B("stop",{"stop-color":m,offset:`${_}%`,"stop-opacity":x},null),f=(m,_)=>[c(m,0),c(_,100)],d=m=>[B("defs",null,[B("radialGradient",{id:s(m),cx:"50%",cy:"54%",fx:"50%",fy:"54%",r:"297%",gradientTransform:"matrix(-.16 0 0 -.33 .58 .72)"},[c("#EBEDF0",0),c("#F2F3F5",100,.3)])]),B("ellipse",{fill:o(m),opacity:".8",cx:"80",cy:"140",rx:"46",ry:"8"},null)],u=()=>[B("defs",null,[B("linearGradient",{id:s("a"),x1:"64%",y1:"100%",x2:"64%"},[c("#FFF",0,.5),c("#F2F3F5",100)])]),B("g",{opacity:".8"},[B("path",{d:"M36 131V53H16v20H2v58h34z",fill:o("a")},null),B("path",{d:"M123 15h22v14h9v77h-31V15z",fill:o("a")},null)])],a=()=>[B("defs",null,[B("linearGradient",{id:s("b"),x1:"64%",y1:"97%",x2:"64%",y2:"0%"},[c("#F2F3F5",0,.3),c("#F2F3F5",100)])]),B("g",{opacity:".8"},[B("path",{d:"M87 6c3 0 7 3 8 6a8 8 0 1 1-1 16H80a7 7 0 0 1-8-6c0-4 3-7 6-7 0-5 4-9 9-9Z",fill:o("b")},null),B("path",{d:"M19 23c2 0 3 1 4 3 2 0 4 2 4 4a4 4 0 0 1-4 3v1h-7v-1l-1 1c-2 0-3-2-3-4 0-1 1-3 3-3 0-2 2-4 4-4Z",fill:o("b")},null)])],l=()=>B("svg",{viewBox:"0 0 160 160"},[B("defs",null,[B("linearGradient",{id:s(1),x1:"64%",y1:"100%",x2:"64%"},[c("#FFF",0,.5),c("#F2F3F5",100)]),B("linearGradient",{id:s(2),x1:"50%",x2:"50%",y2:"84%"},[c("#EBEDF0",0),c("#DCDEE0",100,0)]),B("linearGradient",{id:s(3),x1:"100%",x2:"100%",y2:"100%"},[f("#EAEDF0","#DCDEE0")]),B("radialGradient",{id:s(4),cx:"50%",cy:"0%",fx:"50%",fy:"0%",r:"100%",gradientTransform:"matrix(0 1 -.54 0 .5 -.5)"},[c("#EBEDF0",0),c("#FFF",100,0)])]),B("g",{fill:"none"},[u(),B("path",{fill:o(4),d:"M0 139h160v21H0z"},null),B("path",{d:"M80 54a7 7 0 0 1 3 13v27l-2 2h-2a2 2 0 0 1-2-2V67a7 7 0 0 1 3-13z",fill:o(2)},null),B("g",{opacity:".6","stroke-linecap":"round","stroke-width":"7"},[B("path",{d:"M64 47a19 19 0 0 0-5 13c0 5 2 10 5 13",stroke:o(3)},null),B("path",{d:"M53 36a34 34 0 0 0 0 48",stroke:o(3)},null),B("path",{d:"M95 73a19 19 0 0 0 6-13c0-5-2-9-6-13",stroke:o(3)},null),B("path",{d:"M106 84a34 34 0 0 0 0-48",stroke:o(3)},null)]),B("g",{transform:"translate(31 105)"},[B("rect",{fill:"#EBEDF0",width:"98",height:"34",rx:"2"},null),B("rect",{fill:"#FFF",x:"9",y:"8",width:"80",height:"18",rx:"1.1"},null),B("rect",{fill:"#EBEDF0",x:"15",y:"12",width:"18",height:"6",rx:"1.1"},null)])])]),h=()=>B("svg",{viewBox:"0 0 160 160"},[B("defs",null,[B("linearGradient",{x1:"50%",x2:"50%",y2:"100%",id:s(5)},[f("#F2F3F5","#DCDEE0")]),B("linearGradient",{x1:"95%",y1:"48%",x2:"5.5%",y2:"51%",id:s(6)},[f("#EAEDF1","#DCDEE0")]),B("linearGradient",{y1:"45%",x2:"100%",y2:"54%",id:s(7)},[f("#EAEDF1","#DCDEE0")])]),u(),a(),B("g",{transform:"translate(36 50)",fill:"none"},[B("g",{transform:"translate(8)"},[B("rect",{fill:"#EBEDF0",opacity:".6",x:"38",y:"13",width:"36",height:"53",rx:"2"},null),B("rect",{fill:o(5),width:"64",height:"66",rx:"2"},null),B("rect",{fill:"#FFF",x:"6",y:"6",width:"52",height:"55",rx:"1"},null),B("g",{transform:"translate(15 17)",fill:o(6)},[B("rect",{width:"34",height:"6",rx:"1"},null),B("path",{d:"M0 14h34v6H0z"},null),B("rect",{y:"28",width:"34",height:"6",rx:"1"},null)])]),B("rect",{fill:o(7),y:"61",width:"88",height:"28",rx:"1"},null),B("rect",{fill:"#F7F8FA",x:"29",y:"72",width:"30",height:"6",rx:"1"},null)])]),g=()=>B("svg",{viewBox:"0 0 160 160"},[B("defs",null,[B("linearGradient",{x1:"50%",x2:"50%",y2:"100%",id:s(8)},[f("#EAEDF1","#DCDEE0")])]),u(),a(),d("c"),B("path",{d:"m59 60 21 21 21-21h3l9 9v3L92 93l21 21v3l-9 9h-3l-21-21-21 21h-3l-9-9v-3l21-21-21-21v-3l9-9h3Z",fill:o(8)},null)]),E=()=>B("svg",{viewBox:"0 0 160 160"},[B("defs",null,[B("linearGradient",{x1:"50%",y1:"100%",x2:"50%",id:s(9)},[f("#EEE","#D8D8D8")]),B("linearGradient",{x1:"100%",y1:"50%",y2:"50%",id:s(10)},[f("#F2F3F5","#DCDEE0")]),B("linearGradient",{x1:"50%",x2:"50%",y2:"100%",id:s(11)},[f("#F2F3F5","#DCDEE0")]),B("linearGradient",{x1:"50%",x2:"50%",y2:"100%",id:s(12)},[f("#FFF","#F7F8FA")])]),u(),a(),d("d"),B("g",{transform:"rotate(-45 113 -4)",fill:"none"},[B("rect",{fill:o(9),x:"24",y:"52.8",width:"5.8",height:"19",rx:"1"},null),B("rect",{fill:o(10),x:"22.1",y:"67.3",width:"9.9",height:"28",rx:"1"},null),B("circle",{stroke:o(11),"stroke-width":"8",cx:"27",cy:"27",r:"27"},null),B("circle",{fill:o(12),cx:"27",cy:"27",r:"16"},null),B("path",{d:"M37 7c-8 0-15 5-16 12",stroke:o(11),"stroke-width":"3",opacity:".5","stroke-linecap":"round",transform:"rotate(45 29 13)"},null)])]),y=()=>{var m;if(t.image)return t.image();const _={error:g,search:E,network:l,default:h};return((m=_[e.image])==null?void 0:m.call(_))||B("img",{src:e.image},null)};return()=>B("div",{class:gi()},[B("div",{class:gi("image"),style:ia(e.imageSize)},[y()]),n(),r()])}});const _g=ze(mg),[vd,gg]=We("grid"),vg={square:Boolean,center:$e,border:$e,gutter:Oe,reverse:Boolean,iconSize:Oe,direction:String,clickable:Boolean,columnNum:Ut(4)},yd=Symbol(vd);var yg=Ce({name:vd,props:vg,setup(e,{slots:t}){const{linkChildren:n}=na(yd);return n({props:e}),()=>{var r;return B("div",{style:{paddingLeft:et(e.gutter)},class:[gg(),{[D0]:e.border&&!e.gutter}]},[(r=t.default)==null?void 0:r.call(t)])}}});const Eg=ze(yg),[xg,vi]=We("grid-item"),bg=pt({},cs,{dot:Boolean,text:String,icon:String,badge:Oe,iconColor:String,iconPrefix:String,badgeProps:Object});var Sg=Ce({name:xg,props:bg,setup(e,{slots:t}){const{parent:n,index:r}=ls(yd),i=fs();if(!n)return;const s=be(()=>{const{square:u,gutter:a,columnNum:l}=n.props,h=`${100/+l}%`,g={flexBasis:h};if(u)g.paddingTop=h;else if(a){const E=et(a);g.paddingRight=E,r.value>=+l&&(g.marginTop=E)}return g}),o=be(()=>{const{square:u,gutter:a}=n.props;if(u&&a){const l=et(a);return{right:l,bottom:l,height:"auto"}}}),c=()=>{if(t.icon)return B(la,Lt({dot:e.dot,content:e.badge},e.badgeProps),{default:t.icon});if(e.icon)return B(It,{dot:e.dot,name:e.icon,size:n.props.iconSize,badge:e.badge,class:vi("icon"),color:e.iconColor,badgeProps:e.badgeProps,classPrefix:e.iconPrefix},null)},f=()=>{if(t.text)return t.text();if(e.text)return B("span",{class:vi("text")},[e.text])},d=()=>t.default?t.default():[c(),f()];return()=>{const{center:u,border:a,square:l,gutter:h,reverse:g,direction:E,clickable:y}=n.props,m=[vi("content",[E,{center:u,square:l,reverse:g,clickable:y,surround:a&&h}]),{[us]:a}];return B("div",{class:[vi({square:l})],style:s.value},[B("div",{role:y?"button":void 0,class:m,style:o.value,tabindex:y?0:void 0,onClick:i},[d()])])}}});const wg=ze(Sg),[Ag,Pr]=We("key"),Cg=B("svg",{class:Pr("collapse-icon"),viewBox:"0 0 30 24"},[B("path",{d:"M26 13h-2v2h2v-2zm-8-3h2V8h-2v2zm2-4h2V4h-2v2zm2 4h4V4h-2v4h-2v2zm-7 14 3-3h-6l3 3zM6 13H4v2h2v-2zm16 0H8v2h14v-2zm-12-3h2V8h-2v2zM28 0l1 1 1 1v15l-1 2H1l-1-2V2l1-1 1-1zm0 2H2v15h26V2zM6 4v2H4V4zm10 2h2V4h-2v2zM8 9v1H4V8zm8 0v1h-2V8zm-6-5v2H8V4zm4 0v2h-2V4z",fill:"currentColor"},null)]),Lg=B("svg",{class:Pr("delete-icon"),viewBox:"0 0 32 22"},[B("path",{d:"M28 0a4 4 0 0 1 4 4v14a4 4 0 0 1-4 4H10.4a2 2 0 0 1-1.4-.6L1 13.1c-.6-.5-.9-1.3-.9-2 0-1 .3-1.7.9-2.2L9 .6a2 2 0 0 1 1.4-.6zm0 2H10.4l-8.2 8.3a1 1 0 0 0-.3.7c0 .3.1.5.3.7l8.2 8.4H28a2 2 0 0 0 2-2V4c0-1.1-.9-2-2-2zm-5 4a1 1 0 0 1 .7.3 1 1 0 0 1 0 1.4L20.4 11l3.3 3.3c.2.2.3.5.3.7 0 .3-.1.5-.3.7a1 1 0 0 1-.7.3 1 1 0 0 1-.7-.3L19 12.4l-3.4 3.3a1 1 0 0 1-.6.3 1 1 0 0 1-.7-.3 1 1 0 0 1-.3-.7c0-.2.1-.5.3-.7l3.3-3.3-3.3-3.3A1 1 0 0 1 14 7c0-.3.1-.5.3-.7A1 1 0 0 1 15 6a1 1 0 0 1 .6.3L19 9.6l3.3-3.3A1 1 0 0 1 23 6z",fill:"currentColor"},null)]);var Us=Ce({name:Ag,props:{type:String,text:Oe,color:String,wider:Boolean,large:Boolean,loading:Boolean},emits:["press"],setup(e,{emit:t,slots:n}){const r=le(!1),i=ds(),s=d=>{i.start(d),r.value=!0},o=d=>{i.move(d),i.direction.value&&(r.value=!1)},c=d=>{r.value&&(n.default||Yt(d),r.value=!1,t("press",e.text,e.type))},f=()=>{if(e.loading)return B(ni,{class:Pr("loading-icon")},null);const d=n.default?n.default():e.text;switch(e.type){case"delete":return d||Lg;case"extra":return d||Cg;default:return d}};return()=>B("div",{class:Pr("wrapper",{wider:e.wider}),onTouchstartPassive:s,onTouchmovePassive:o,onTouchend:c,onTouchcancel:c},[B("div",{role:"button",tabindex:0,class:Pr([e.color,{large:e.large,active:r.value,delete:e.type==="delete"}])},[f()])])}});const[Rg,rn]=We("number-keyboard"),Tg={show:Boolean,title:String,theme:Ne("default"),zIndex:Oe,teleport:[String,Object],maxlength:Ut(1/0),modelValue:Ne(""),transition:$e,blurOnClose:$e,showDeleteKey:$e,randomKeyOrder:Boolean,closeButtonText:String,deleteButtonText:String,closeButtonLoading:Boolean,hideOnClickOutside:$e,safeAreaInsetBottom:$e,extraKey:{type:[String,Array],default:""}};function Og(e){for(let t=e.length-1;t>0;t--){const n=Math.floor(Math.random()*(t+1)),r=e[t];e[t]=e[n],e[n]=r}return e}var Pg=Ce({name:Rg,inheritAttrs:!1,props:Tg,emits:["show","hide","blur","input","close","delete","update:modelValue"],setup(e,{emit:t,slots:n,attrs:r}){const i=le(),s=()=>{const y=Array(9).fill("").map((m,_)=>({text:_+1}));return e.randomKeyOrder&&Og(y),y},o=()=>[...s(),{text:e.extraKey,type:"extra"},{text:0},{text:e.showDeleteKey?e.deleteButtonText:"",type:e.showDeleteKey?"delete":""}],c=()=>{const y=s(),{extraKey:m}=e,_=Array.isArray(m)?m:[m];return _.length===1?y.push({text:0,wider:!0},{text:_[0],type:"extra"}):_.length===2&&y.push({text:_[0],type:"extra"},{text:0},{text:_[1],type:"extra"}),y},f=be(()=>e.theme==="custom"?c():o()),d=()=>{e.show&&t("blur")},u=()=>{t("close"),e.blurOnClose&&d()},a=()=>t(e.show?"show":"hide"),l=(y,m)=>{if(y===""){m==="extra"&&d();return}const _=e.modelValue;m==="delete"?(t("delete"),t("update:modelValue",_.slice(0,_.length-1))):m==="close"?u():_.length<+e.maxlength&&(t("input",y),t("update:modelValue",_+y))},h=()=>{const{title:y,theme:m,closeButtonText:_}=e,x=n["title-left"],p=_&&m==="default";if(y||p||x)return B("div",{class:rn("header")},[x&&B("span",{class:rn("title-left")},[x()]),y&&B("h2",{class:rn("title")},[y]),p&&B("button",{type:"button",class:[rn("close"),aa],onClick:u},[_])])},g=()=>f.value.map(y=>{const m={};return y.type==="delete"&&(m.default=n.delete),y.type==="extra"&&(m.default=n["extra-key"]),B(Us,{key:y.text,text:y.text,type:y.type,wider:y.wider,color:y.color,onPress:l},m)}),E=()=>{if(e.theme==="custom")return B("div",{class:rn("sidebar")},[e.showDeleteKey&&B(Us,{large:!0,text:e.deleteButtonText,type:"delete",onPress:l},{default:n.delete}),B(Us,{large:!0,text:e.closeButtonText,type:"close",color:"blue",loading:e.closeButtonLoading,onPress:l},null)])};return ke(()=>e.show,y=>{e.transition||t(y?"show":"hide")}),e.hideOnClickOutside&&h0(i,d,{eventName:"touchstart"}),()=>{const y=h(),m=B(Bn,{name:e.transition?"van-slide-up":""},{default:()=>[Xr(B("div",Lt({ref:i,style:sa(e.zIndex),class:rn({unfit:!e.safeAreaInsetBottom,"with-title":!!y}),onAnimationend:a,onTouchstartPassive:ra},r),[y,B("div",{class:rn("body")},[B("div",{class:rn("keys")},[g()]),E()])]),[[as,e.show]])]});return e.teleport?B(Nf,{to:e.teleport},{default:()=>[m]}):m}}});const Ig=ze(Pg),[Fg,vr,Bg]=We("pull-refresh"),Ed=50,Dg=["pulling","loosing","success"],Mg={disabled:Boolean,modelValue:Boolean,headHeight:Ut(Ed),successText:String,pullingText:String,loosingText:String,loadingText:String,pullDistance:Oe,successDuration:Ut(500),animationDuration:Ut(300)};var kg=Ce({name:Fg,props:Mg,emits:["change","refresh","update:modelValue"],setup(e,{emit:t,slots:n}){let r;const i=le(),s=le(),o=g0(i),c=Ht({status:"normal",distance:0,duration:0}),f=ds(),d=()=>{if(e.headHeight!==Ed)return{height:`${e.headHeight}px`}},u=()=>c.status!=="loading"&&c.status!=="success"&&!e.disabled,a=p=>{const v=+(e.pullDistance||e.headHeight);return p>v&&(p<v*2?p=v+(p-v)/2:p=v*1.5+(p-v*2)/4),Math.round(p)},l=(p,v)=>{const b=+(e.pullDistance||e.headHeight);c.distance=p,v?c.status="loading":p===0?c.status="normal":p<b?c.status="pulling":c.status="loosing",t("change",{status:c.status,distance:p})},h=()=>{const{status:p}=c;return p==="normal"?"":e[`${p}Text`]||Bg(p)},g=()=>{const{status:p,distance:v}=c;if(n[p])return n[p]({distance:v});const b=[];return Dg.includes(p)&&b.push(B("div",{class:vr("text")},[h()])),p==="loading"&&b.push(B(ni,{class:vr("loading")},{default:h})),b},E=()=>{c.status="success",setTimeout(()=>{l(0)},+e.successDuration)},y=p=>{r=v0(o.value)===0,r&&(c.duration=0,f.start(p))},m=p=>{u()&&y(p)},_=p=>{if(u()){r||y(p);const{deltaY:v}=f;f.move(p),r&&v.value>=0&&f.isVertical()&&(Yt(p),l(a(v.value)))}},x=()=>{r&&f.deltaY.value&&u()&&(c.duration=+e.animationDuration,c.status==="loosing"?(l(+e.headHeight,!0),t("update:modelValue",!0),vt(()=>t("refresh"))):l(0))};return ke(()=>e.modelValue,p=>{c.duration=+e.animationDuration,p?l(+e.headHeight,!0):n.success||e.successText?E():l(0,!1)}),ar("touchmove",_,{target:s}),()=>{var p;const v={transitionDuration:`${c.duration}ms`,transform:c.distance?`translate3d(0,${c.distance}px, 0)`:""};return B("div",{ref:i,class:vr()},[B("div",{ref:s,class:vr("track"),style:v,onTouchstartPassive:m,onTouchend:x,onTouchcancel:x},[B("div",{class:vr("head"),style:d()},[g()]),(p=n.default)==null?void 0:p.call(n)])])}}});const xd=ze(kg),[Ng,yr]=We("slider"),jg={min:Ut(0),max:Ut(100),step:Ut(1),range:Boolean,reverse:Boolean,disabled:Boolean,readonly:Boolean,vertical:Boolean,barHeight:Oe,buttonSize:Oe,activeColor:String,inactiveColor:String,modelValue:{type:[Number,Array],default:0}};var Ug=Ce({name:Ng,props:jg,emits:["change","dragEnd","dragStart","update:modelValue"],setup(e,{emit:t,slots:n}){let r,i,s;const o=le(),c=[le(),le()],f=le(),d=ds(),u=be(()=>Number(e.max)-Number(e.min)),a=be(()=>{const R=e.vertical?"width":"height";return{background:e.inactiveColor,[R]:et(e.barHeight)}}),l=R=>e.range&&Array.isArray(R),h=()=>{const{modelValue:R,min:C}=e;return l(R)?`${(R[1]-R[0])*100/u.value}%`:`${(R-Number(C))*100/u.value}%`},g=()=>{const{modelValue:R,min:C}=e;return l(R)?`${(R[0]-Number(C))*100/u.value}%`:"0%"},E=be(()=>{const C={[e.vertical?"height":"width"]:h(),background:e.activeColor};f.value&&(C.transition="none");const O=()=>e.vertical?e.reverse?"bottom":"top":e.reverse?"right":"left";return C[O()]=g(),C}),y=R=>{const C=+e.min,O=+e.max,D=+e.step;R=A0(R,C,O);const N=Math.round((R-C)/D)*D;return L0(C,N)},m=()=>{const R=e.modelValue;l(R)?s=R.map(y):s=y(R)},_=R=>{var C,O;const D=(C=R[0])!=null?C:Number(e.min),N=(O=R[1])!=null?O:Number(e.max);return D>N?[N,D]:[D,N]},x=(R,C)=>{l(R)?R=_(R).map(y):R=y(R),vl(R,e.modelValue)||t("update:modelValue",R),C&&!vl(R,s)&&t("change",R)},p=R=>{if(R.stopPropagation(),e.disabled||e.readonly)return;m();const{min:C,reverse:O,vertical:D,modelValue:N}=e,M=po(o),U=()=>D?O?M.bottom-R.clientY:R.clientY-M.top:O?M.right-R.clientX:R.clientX-M.left,Q=D?M.height:M.width,ie=Number(C)+U()/Q*u.value;if(l(N)){const[ne,de]=N,he=(ne+de)/2;ie<=he?x([ie,de],!0):x([ne,ie],!0)}else x(ie,!0)},v=R=>{e.disabled||e.readonly||(d.start(R),i=e.modelValue,m(),f.value="start")},b=R=>{if(e.disabled||e.readonly)return;f.value==="start"&&t("dragStart",R),Yt(R,!0),d.move(R),f.value="dragging";const C=po(o),O=e.vertical?d.deltaY.value:d.deltaX.value,D=e.vertical?C.height:C.width;let N=O/D*u.value;if(e.reverse&&(N=-N),l(s)){const M=e.reverse?1-r:r;i[M]=s[M]+N}else i=s+N;x(i)},w=R=>{e.disabled||e.readonly||(f.value==="dragging"&&(x(i,!0),t("dragEnd",R)),f.value="")},A=R=>typeof R=="number"?yr("button-wrapper",["left","right"][R]):yr("button-wrapper",e.reverse?"left":"right"),T=(R,C)=>{const O=f.value==="dragging";if(typeof C=="number"){const D=n[C===0?"left-button":"right-button"];let N;if(O&&Array.isArray(i)&&(N=i[0]>i[1]?r^1:r),D)return D({value:R,dragging:O,dragIndex:N})}return n.button?n.button({value:R,dragging:O}):B("div",{class:yr("button"),style:ia(e.buttonSize)},null)},P=R=>{const C=typeof R=="number"?e.modelValue[R]:e.modelValue;return B("div",{ref:c[R??0],role:"slider",class:A(R),tabindex:e.disabled?void 0:0,"aria-valuemin":e.min,"aria-valuenow":C,"aria-valuemax":e.max,"aria-disabled":e.disabled||void 0,"aria-readonly":e.readonly||void 0,"aria-orientation":e.vertical?"vertical":"horizontal",onTouchstartPassive:O=>{typeof R=="number"&&(r=R),v(O)},onTouchend:w,onTouchcancel:w,onClick:ra},[T(C,R)])};return x(e.modelValue),Qf(()=>e.modelValue),c.forEach(R=>{ar("touchmove",b,{target:R})}),()=>B("div",{ref:o,style:a.value,class:yr({vertical:e.vertical,disabled:e.disabled}),onClick:p},[B("div",{class:yr("bar"),style:E.value},[e.range?[P(0),P(1)]:P()])])}});const Vg=ze(Ug),[bd,Ml]=We("tabbar"),Hg={route:Boolean,fixed:$e,border:$e,zIndex:Oe,placeholder:Boolean,activeColor:String,beforeChange:Function,inactiveColor:String,modelValue:Ut(0),safeAreaInsetBottom:{type:Boolean,default:null}},Sd=Symbol(bd);var Kg=Ce({name:bd,props:Hg,emits:["change","update:modelValue"],setup(e,{emit:t,slots:n}){const r=le(),{linkChildren:i}=na(Sd),s=U0(r,Ml),o=()=>{var d;return(d=e.safeAreaInsetBottom)!=null?d:e.fixed},c=()=>{var d;const{fixed:u,zIndex:a,border:l}=e;return B("div",{ref:r,role:"tablist",style:sa(a),class:[Ml({fixed:u}),{[oa]:l,"van-safe-area-bottom":o()}]},[(d=n.default)==null?void 0:d.call(n)])};return i({props:e,setActive:(d,u)=>{id(e.beforeChange,{args:[d],done(){t("update:modelValue",d),t("change",d),u()}})}}),()=>e.fixed&&e.placeholder?s(c):c()}});const Wg=ze(Kg),[Gg,Vs]=We("tabbar-item"),zg=pt({},cs,{dot:Boolean,icon:String,name:Oe,badge:Oe,badgeProps:Object,iconPrefix:String});var $g=Ce({name:Gg,props:zg,emits:["click"],setup(e,{emit:t,slots:n}){const r=fs(),i=kt().proxy,{parent:s,index:o}=ls(Sd);if(!s)return;const c=be(()=>{var u;const{route:a,modelValue:l}=s.props;if(a&&"$route"in i){const{$route:h}=i,{to:g}=e,E=or(g)?g:{path:g};return!!h.matched.find(y=>{const m="path"in E&&E.path===y.path,_="name"in E&&E.name===y.name;return m||_})}return((u=e.name)!=null?u:o.value)===l}),f=u=>{var a;c.value||s.setActive((a=e.name)!=null?a:o.value,r),t("click",u)},d=()=>{if(n.icon)return n.icon({active:c.value});if(e.icon)return B(It,{name:e.icon,classPrefix:e.iconPrefix},null)};return()=>{var u;const{dot:a,badge:l}=e,{activeColor:h,inactiveColor:g}=s.props,E=c.value?h:g;return B("div",{role:"tab",class:Vs({active:c.value}),style:{color:E},tabindex:0,"aria-selected":c.value,onClick:f},[B(la,Lt({dot:a,class:Vs("icon"),content:l},e.badgeProps),{default:d}),B("div",{class:Vs("text")},[(u=n.default)==null?void 0:u.call(n,{active:c.value})])])}}});const qg=ze($g),Xg=""+new URL("paimeng-DwlxSD1J.mp3",import.meta.url).href,Yg=["src"],Jg=Ce({__name:"[...all]",setup(e){return(t,n)=>{const r=_g;return Ke(),xn(Qe,null,[B(r,{image:"error",description:"",style:{color:"white"}}),Le("audio",{src:Ee(Xg),autoplay:""},null,8,Yg)],64)}}});class ca{constructor(t){this.value={},t&&(this.value.devid=t)}static to(t){return new ca(t)}set(t){return this.value.pack={method:"set",data:t},this}get(t){return this.value.pack={method:"get",data:t},this}unwrap(){return this.value}}function wd(e){return new ca(e)}function Ad(e){return qc()?(Wh(e),!0):!1}function Hs(){const e=new Set,t=i=>{e.delete(i)};return{on:i=>{e.add(i);const s=()=>t(i);return Ad(s),{off:s}},off:t,trigger:(...i)=>Promise.all(Array.from(e).map(s=>s(...i)))}}function bt(e){return typeof e=="function"?e():Ee(e)}const Cd=typeof window<"u"&&typeof document<"u";typeof WorkerGlobalScope<"u"&&globalThis instanceof WorkerGlobalScope;const Zg=e=>typeof e<"u",go=()=>{};function Qg(e,t){function n(...r){return new Promise((i,s)=>{Promise.resolve(e(()=>t.apply(this,r),{fn:t,thisArg:this,args:r})).then(i).catch(s)})}return n}const ev=e=>e();function tv(e,t={}){let n,r,i=go;const s=c=>{clearTimeout(c),i(),i=go};return c=>{const f=bt(e),d=bt(t.maxWait);return n&&s(n),f<=0||d!==void 0&&d<=0?(r&&(s(r),r=null),Promise.resolve(c())):new Promise((u,a)=>{i=t.rejectOnCancel?a:u,d&&!r&&(r=setTimeout(()=>{n&&s(n),r=null,u(c())},d)),n=setTimeout(()=>{r&&s(r),r=null,u(c())},f)})}}function kl(e,t=!1,n="Timeout"){return new Promise((r,i)=>{setTimeout(t?()=>i(n):r,e)})}function nv(e,...t){return t.some(n=>n in e)}function Ks(...e){if(e.length!==1)return vp(...e);const t=e[0];return typeof t=="function"?Zn(mp(()=>({get:t,set:go}))):le(t)}function rv(e,t,n={}){const{eventFilter:r=ev,...i}=n;return ke(e,Qg(r,t),i)}function vo(e,t=!1){function n(a,{flush:l="sync",deep:h=!1,timeout:g,throwOnTimeout:E}={}){let y=null;const _=[new Promise(x=>{y=ke(e,p=>{a(p)!==t&&(y==null||y(),x(p))},{flush:l,deep:h,immediate:!0})})];return g!=null&&_.push(kl(g,E).then(()=>bt(e)).finally(()=>y==null?void 0:y())),Promise.race(_)}function r(a,l){if(!Me(a))return n(p=>p===a,l);const{flush:h="sync",deep:g=!1,timeout:E,throwOnTimeout:y}=l??{};let m=null;const x=[new Promise(p=>{m=ke([e,a],([v,b])=>{t!==(v===b)&&(m==null||m(),p(v))},{flush:h,deep:g,immediate:!0})})];return E!=null&&x.push(kl(E,y).then(()=>bt(e)).finally(()=>(m==null||m(),bt(e)))),Promise.race(x)}function i(a){return n(l=>!!l,a)}function s(a){return r(null,a)}function o(a){return r(void 0,a)}function c(a){return n(Number.isNaN,a)}function f(a,l){return n(h=>{const g=Array.from(h);return g.includes(a)||g.includes(bt(a))},l)}function d(a){return u(1,a)}function u(a=1,l){let h=-1;return n(()=>(h+=1,h>=a),l)}return Array.isArray(bt(e))?{toMatch:n,toContains:f,changed:d,changedTimes:u,get not(){return vo(e,!t)}}:{toMatch:n,toBe:r,toBeTruthy:i,toBeNull:s,toBeNaN:c,toBeUndefined:o,changed:d,changedTimes:u,get not(){return vo(e,!t)}}}function iv(e){return vo(e)}function sv(e,t,n={}){const{immediate:r=!0}=n,i=le(!1);let s=null;function o(){s&&(clearTimeout(s),s=null)}function c(){i.value=!1,o()}function f(...d){o(),i.value=!0,s=setTimeout(()=>{i.value=!1,s=null,e(...d)},bt(t))}return r&&(i.value=!0,Cd&&f()),Ad(c),{isPending:Zn(i),start:f,stop:c}}function Ld(e,t,n={}){const{debounce:r=0,maxWait:i=void 0,...s}=n;return rv(e,t,{...s,eventFilter:tv(r,{maxWait:i})})}const ov=Cd?window:void 0;function av(e){return JSON.parse(JSON.stringify(e))}const lv={json:"application/json",text:"text/plain"};function ji(e){return e&&nv(e,"immediate","refetch","initialData","timeout","beforeFetch","afterFetch","onFetchError","fetch","updateDataOnError")}function uv(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function Ir(e){return typeof Headers<"u"&&e instanceof Headers?Object.fromEntries(e.entries()):e}function jn(e,...t){return e==="overwrite"?async n=>{const r=t[t.length-1];return r?{...n,...await r(n)}:n}:async n=>{for(const r of t)r&&(n={...n,...await r(n)});return n}}function cv(e={}){const t=e.combination||"chain",n=e.options||{},r=e.fetchOptions||{};function i(s,...o){const c=be(()=>{const u=bt(e.baseUrl),a=bt(s);return u&&!uv(a)?dv(u,a):a});let f=n,d=r;return o.length>0&&(ji(o[0])?f={...f,...o[0],beforeFetch:jn(t,n.beforeFetch,o[0].beforeFetch),afterFetch:jn(t,n.afterFetch,o[0].afterFetch),onFetchError:jn(t,n.onFetchError,o[0].onFetchError)}:d={...d,...o[0],headers:{...Ir(d.headers)||{},...Ir(o[0].headers)||{}}}),o.length>1&&ji(o[1])&&(f={...f,...o[1],beforeFetch:jn(t,n.beforeFetch,o[1].beforeFetch),afterFetch:jn(t,n.afterFetch,o[1].afterFetch),onFetchError:jn(t,n.onFetchError,o[1].onFetchError)}),fv(c,d,f)}return i}function fv(e,...t){var n;const r=typeof AbortController=="function";let i={},s={immediate:!0,refetch:!1,timeout:0,updateDataOnError:!1};const o={method:"GET",type:"text",payload:void 0};t.length>0&&(ji(t[0])?s={...s,...t[0]}:i=t[0]),t.length>1&&ji(t[1])&&(s={...s,...t[1]});const{fetch:c=(n=ov)==null?void 0:n.fetch,initialData:f,timeout:d}=s,u=Hs(),a=Hs(),l=Hs(),h=le(!1),g=le(!1),E=le(!1),y=le(null),m=Ci(null),_=Ci(null),x=Ci(f||null),p=be(()=>r&&g.value);let v,b;const w=()=>{r&&(v==null||v.abort(),v=new AbortController,v.signal.onabort=()=>E.value=!0,i={...i,signal:v.signal})},A=M=>{g.value=M,h.value=!M};d&&(b=sv(w,d,{immediate:!1}));let T=0;const P=async(M=!1)=>{var U,Q;w(),A(!0),_.value=null,y.value=null,E.value=!1,T+=1;const ie=T,ne={method:o.method,headers:{}};if(o.payload){const oe=Ir(ne.headers),je=bt(o.payload);!o.payloadType&&je&&Object.getPrototypeOf(je)===Object.prototype&&!(je instanceof FormData)&&(o.payloadType="json"),o.payloadType&&(oe["Content-Type"]=(U=lv[o.payloadType])!=null?U:o.payloadType),ne.body=o.payloadType==="json"?JSON.stringify(je):je}let de=!1;const he={url:bt(e),options:{...ne,...i},cancel:()=>{de=!0}};if(s.beforeFetch&&Object.assign(he,await s.beforeFetch(he)),de||!c)return A(!1),Promise.resolve(null);let se=null;return b&&b.start(),c(he.url,{...ne,...he.options,headers:{...Ir(ne.headers),...Ir((Q=he.options)==null?void 0:Q.headers)}}).then(async oe=>{if(m.value=oe,y.value=oe.status,se=await oe.clone()[o.type](),!oe.ok)throw x.value=f||null,new Error(oe.statusText);return s.afterFetch&&({data:se}=await s.afterFetch({data:se,response:oe})),x.value=se,u.trigger(oe),oe}).catch(async oe=>{let je=oe.message||oe.name;if(s.onFetchError&&({error:je,data:se}=await s.onFetchError({data:se,error:oe,response:m.value})),_.value=je,s.updateDataOnError&&(x.value=se),a.trigger(oe),M)throw oe;return null}).finally(()=>{ie===T&&A(!1),b&&b.stop(),l.trigger(null)})},R=Ks(s.refetch);ke([R,Ks(e)],([M])=>M&&P(),{deep:!0});const C={isFinished:Zn(h),isFetching:Zn(g),statusCode:y,response:m,error:_,data:x,canAbort:p,aborted:E,abort:w,execute:P,onFetchResponse:u.on,onFetchError:a.on,onFetchFinally:l.on,get:O("GET"),put:O("PUT"),post:O("POST"),delete:O("DELETE"),patch:O("PATCH"),head:O("HEAD"),options:O("OPTIONS"),json:N("json"),text:N("text"),blob:N("blob"),arrayBuffer:N("arrayBuffer"),formData:N("formData")};function O(M){return(U,Q)=>{if(!g.value)return o.method=M,o.payload=U,o.payloadType=Q,Me(o.payload)&&ke([R,Ks(o.payload)],([ie])=>ie&&P(),{deep:!0}),{...C,then(ie,ne){return D().then(ie,ne)}}}}function D(){return new Promise((M,U)=>{iv(h).toBe(!0).then(()=>M(C)).catch(Q=>U(Q))})}function N(M){return()=>{if(!g.value)return o.type=M,{...C,then(U,Q){return D().then(U,Q)}}}}return s.immediate&&Promise.resolve().then(()=>P()),{...C,then(M,U){return D().then(M,U)}}}function dv(e,t){return!e.endsWith("/")&&!t.startsWith("/")?`${e}/${t}`:`${e}${t}`}function hv(e,t,n,r={}){var i,s,o;const{clone:c=!1,passive:f=!1,eventName:d,deep:u=!1,defaultValue:a,shouldEmit:l}=r,h=kt(),g=n||(h==null?void 0:h.emit)||((i=h==null?void 0:h.$emit)==null?void 0:i.bind(h))||((o=(s=h==null?void 0:h.proxy)==null?void 0:s.$emit)==null?void 0:o.bind(h==null?void 0:h.proxy));let E=d;t||(t="modelValue"),E=E||`update:${t.toString()}`;const y=x=>c?typeof c=="function"?c(x):av(x):x,m=()=>Zg(e[t])?y(e[t]):a,_=x=>{l?l(x)&&g(E,x):g(E,x)};if(f){const x=m(),p=le(x);let v=!1;return ke(()=>e[t],b=>{v||(v=!0,p.value=y(b),vt(()=>v=!1))}),ke(p,b=>{!v&&(b!==e[t]||u)&&_(b)},{deep:u}),p}else return be({get(){return m()},set(x){_(x)}})}function Rd(e,t,n={}){const r={};for(const i in e)r[i]=hv(e,i,t,n);return r}const S=globalThis.__edger__;var Nl;(function(e){e.EVENT_SERVER="EVENT_SERVER",e.EVENT_CONTAINER="EVENT_CONTAINER",e.MAIN_DESKTOP="MAIN_DESKTOP",e.TRUST_ZONE="TRUST_ZONE"})(Nl||(Nl={}));const tr=(e="Not Support")=>Promise.reject({message:e,status:"error"}),Y=e=>e?e.then(t=>{var n;return console.log(e,t),((n=t==null?void 0:t.result)==null?void 0:n.status)==="error"?tr(t.result.message||"Error"):t==null?void 0:t.payload}):tr();function pv(e){var t,n;try{if(e.speed||(e.speed=1),(e.headless===void 0||e.headless===null)&&(e.headless=!1),[.5,1,1.5,2].includes(e.speed)===!1)return Promise.reject(new Error("speed "));if(e.mode||(e.mode="repeat_mode_all"),!["repeat_mode_one","repeat_mode_all","repeat_mode_random"].includes(e.mode))return Promise.reject(new Error("mode "));if(!e.files.length)return Promise.reject(new Error("files "));for(const r of e.files){if(!r.url)return Promise.reject(new Error("files  url "));if(!r.name)return Promise.reject(new Error("files  name "))}if(e!=null&&e.toolbar&&e.toolbar.length)for(const r of e.toolbar){if(!r.icon)return Promise.reject(new Error("toolbar  icon "));if(!r.code)return Promise.reject(new Error("toolbar  code "));if(!r.label)return Promise.reject(new Error("toolbar  label "))}return Y((n=(t=S==null?void 0:S.audio)==null?void 0:t.play)==null?void 0:n.call(t,e))}catch(r){return Promise.reject(r)}}function mv(){var e,t;return Y((t=(e=S==null?void 0:S.audio)==null?void 0:e.pause)==null?void 0:t.call(e))}function _v(){var e,t;return Y((t=(e=S==null?void 0:S.audio)==null?void 0:e.resume)==null?void 0:t.call(e))}function gv(){var e,t;return Y((t=(e=S==null?void 0:S.audio)==null?void 0:e.destroy)==null?void 0:t.call(e))}function vv(e){var t,n;return Y((n=(t=S==null?void 0:S.audio)==null?void 0:t.delete)==null?void 0:n.call(t,e))}function yv(e){var t,n;return Y((n=(t=S==null?void 0:S.audio)==null?void 0:t.setSpeed)==null?void 0:n.call(t,e))}function Ev(e){var t,n;return Y((n=(t=S==null?void 0:S.audio)==null?void 0:t.setMode)==null?void 0:n.call(t,e))}function xv(){var e,t;return Y((t=(e=S==null?void 0:S.audio)==null?void 0:e.previous)==null?void 0:t.call(e))}function bv(){var e,t;return Y((t=(e=S==null?void 0:S.audio)==null?void 0:e.next)==null?void 0:t.call(e))}function Sv(e,t){var n,r;return Y((r=(n=S==null?void 0:S.audio)==null?void 0:n.setPosition)==null?void 0:r.call(n,e,t))}function wv(e){var t,n;return Y((n=(t=S==null?void 0:S.audio)==null?void 0:t.append)==null?void 0:n.call(t,e))}function Av(e){var t,n;if(e!=null&&e.toolbar&&e.toolbar.length)for(const r of e.toolbar){if(!r.icon)return Promise.reject(new Error("toolbar  icon "));if(!r.code)return Promise.reject(new Error("toolbar  code "));if(!r.label)return Promise.reject(new Error("toolbar  label "))}return Y((n=(t=S==null?void 0:S.audio)==null?void 0:t.setToolbar)==null?void 0:n.call(t,e))}const Cv=(e,t)=>{var n,r;(n=S==null?void 0:S.audio)!=null&&n.addEventListener?(r=S.audio)==null||r.addEventListener(e,t):console.error("audio addEventListener not supported.")},Lv=(e,t)=>{var n,r;(n=S==null?void 0:S.audio)!=null&&n.removeEventListener?(r=S.audio)==null||r.removeEventListener(e,t):console.error("audio removeEventListener not supported.")},Rv=e=>{var t,n;(t=S==null?void 0:S.audio)!=null&&t.removeAllListeners?(n=S.audio)==null||n.removeAllListeners(e):console.error("audio removeAllListeners not supported.")},Tv={play:pv,pause:mv,resume:_v,destroy:gv,delete:vv,setSpeed:yv,setMode:Ev,previous:xv,next:bv,setPosition:Sv,append:wv,setToolbar:Av,addEventListener:Cv,removeEventListener:Lv,removeAllListeners:Rv};var Se;(function(e){e[e.onlyTop=1]="onlyTop",e[e.preferTop=2]="preferTop",e[e.desktop=3]="desktop"})(Se||(Se={}));const ot={active:[],deactive:[],login:[],logout:[],pay:[],orientation:[],network:[],swipe:[],token:[],permission:[],wallpaper:[],theme:[],language:[],safeArea:[],download:[],verify:[],keyboardHeight:[],event_job_start:[],event_job_pause:[],event_job_resume:[],event_job_cancel:[],event_job_done:[],event_job_error:[],event_job_progress:[],event_job_timeout:[],event_album_change:[],event_media_player_change:[],event_media_player_delete:[],event_media_player_export:[],event_service_pause:[],event_service_resume:[],event_service_status:[],event_service_delete:[],status:[],pause:[],resume:[],delete:[],change:[],close:[],select:[],start:[],cancel:[],retry:[],done:[],error:[],progress:[],connect_mode:[]};window.addEventListener("message",e=>{const t=e.data.cmd;ot[t]&&(ot[t].forEach((n,r)=>{if(typeof n=="function")if(n.__edger_uid__){const i=e.data.uid;n.__edger_uid__===i&&(n(e.data.payload,e.data.error),n.__edger_done__=!0)}else n(e.data.payload,e.data.error)}),ot[t]=ot[t].filter(n=>n.__edger_done__!==!0))});const Td=(e,t)=>{const n=e;ot[n]?ot[n].push(t):ot[n]=[t]},Pn=(e,t=Se.preferTop)=>{t===Se.preferTop?window.parent===window.parent.parent?(console.warn("No app shell, downgrade to desktop",e),window.parent.postMessage({...e},"*")):window.parent.parent.postMessage({...e},"*"):t===Se.onlyTop?window.parent===window.parent.parent?console.warn("No app shell, ignore message",e):window.parent.parent.postMessage({...e},"*"):window.parent.postMessage({...e},"*")};let Ov=0;const Re=(e,t,n={timeout:5e3,ignoreResponse:!0,deliverStrategy:Se.preferTop,disableTimeout:!1},r="")=>{if(!e)throw new Error("Illegal cmd");const{timeout:i=1e3,ignoreResponse:s=!0,deliverStrategy:o,disableTimeout:c=!1}=n;return new Promise((f,d)=>{if(s)Pn({cmd:e,payload:t,ts:Date.now()},o),f(void 0);else{const u=`${Math.random()}-${Date.now()}-${Ov++}`,a=function(l,h){h?(console.error("error",h),d({error:h})):f(l)};a.__edger_uid__=u,Td(e,a),Pn({cmd:e,payload:t,uid:u,ts:Date.now(),scope:r},o)}})},Pv=(e,t)=>{const n=ot[e];n?(n.push(t),Re("__edgeros_register_event__",{action:e},{deliverStrategy:Se.desktop,ignoreResponse:!0})):console.warn(`The action you specified is unknown: ${e}`)};function Iv(e,t){if(typeof t!="function")throw new TypeError("listener must be a function");const n=ot[e];return n&&(n.push(t),Re("__edgeros_register_event__",{action:e},{deliverStrategy:Se.desktop,ignoreResponse:!0})),this}function Fv(e,t){if(typeof t!="function")throw new TypeError("listener must be a function");return ot[e]&&(ot[e]=ot[e].filter(n=>n!==t)),this}function Bv(e){return e?ot[e]&&(ot[e]=[]):Object.keys(ot).forEach(t=>{ot[t]&&(ot[t]=[])}),this}function Dv(e){const t=e;return this.removeAllListeners(t)}const Mv=e=>Re("qrscan",{...e},{deliverStrategy:Se.preferTop,ignoreResponse:!1,timeout:5*60*1e3,disableTimeout:!0}),kv=()=>Re("contacts",{},{deliverStrategy:Se.preferTop,ignoreResponse:!1,timeout:5*10*1e3}),Nv=()=>{var e,t;return Y((t=(e=S==null?void 0:S.system)==null?void 0:e.getVolume)==null?void 0:t.call(e))},jv=()=>{var e,t;return Y((t=(e=S==null?void 0:S.system)==null?void 0:e.networkInfo)==null?void 0:t.call(e))},jl=(e,t)=>{var n,r;(n=S==null?void 0:S.system)!=null&&n.addEventListener?(r=S.system)==null||r.addEventListener(e,t):console.error("mobile addEventListener not supported.")},Uv=(e,t)=>{var n,r;(n=S==null?void 0:S.system)!=null&&n.removeEventListener?(r=S.system)==null||r.removeEventListener(e,t):console.error("mobile removeEventListener not supported.")},Vv=e=>{var t,n;(t=S==null?void 0:S.system)!=null&&t.removeAllListeners?(n=S.system)==null||n.removeAllListeners(e):console.error("mobile removeAllListeners not supported.")},Hv={qrscan:Mv,contacts:kv,getVolume:Nv,networkInfo:jv,onAction:jl,addEventListener:jl,removeEventListener:Uv,removeAllListeners:Vv},Kv=e=>Re("payRequest",e,{deliverStrategy:Se.desktop,ignoreResponse:!1,timeout:2*60*1e3}),Wv=(e,t=!1)=>Re("apps",{appids:e,ico:t},{deliverStrategy:Se.desktop,ignoreResponse:!1}),Gv=(e,t)=>Re("open",{target:e,letter:t},{deliverStrategy:Se.desktop,ignoreResponse:!1,timeout:2*60*1e3}),zv=e=>(window.__title=e,Re("title",{title:e},{deliverStrategy:Se.desktop,ignoreResponse:!1,timeout:5*1e3})),$v=()=>Re("language",{},{deliverStrategy:Se.desktop,ignoreResponse:!1}),qv=e=>Re("openInBrowser",{url:e},{deliverStrategy:Se.desktop,ignoreResponse:!1}),Xv=e=>{var n,r,i;const t=window.__edger__;return Y((i=(r=(n=t==null?void 0:t.app)==null?void 0:n.view)==null?void 0:r.navigate)==null?void 0:i.call(r,e))},Yv=e=>{var n,r;const t=window.__edger__;return Y((r=(n=t==null?void 0:t.app)==null?void 0:n.callThirdPartyApp)==null?void 0:r.call(n,e))},Jv=()=>Re("connectMode",{},{ignoreResponse:!1,deliverStrategy:Se.preferTop,disableTimeout:!0}),Zv=()=>{Re("__edgeros_register__",{},{deliverStrategy:Se.desktop,ignoreResponse:!0}),Re("__edgeros_register__",{},{deliverStrategy:Se.onlyTop,ignoreResponse:!0})},Qv=e=>Re("setOrientation",{type:"lock",orientation:e},{deliverStrategy:Se.preferTop,ignoreResponse:!1}),ey=()=>Re("setOrientation",{type:"unlock"},{deliverStrategy:Se.preferTop,ignoreResponse:!1}),ty=()=>Re("orientation",{},{deliverStrategy:Se.preferTop,ignoreResponse:!1}),ny=()=>Re("user",{},{ignoreResponse:!1,timeout:5e3,deliverStrategy:Se.desktop}),ry=e=>Re("reqPerms",e,{ignoreResponse:!1,timeout:2*60*1e3,deliverStrategy:Se.desktop}),iy=e=>Re("permission",{data:e||null},{ignoreResponse:!1,timeout:5*1e3,deliverStrategy:Se.desktop}),sy=e=>{var t,n;return Y((n=(t=S==null?void 0:S.permissionTexts)==null?void 0:t.register)==null?void 0:n.call(t,e))},oy=e=>{var t,n;return Y((n=(t=S==null?void 0:S.permissionTexts)==null?void 0:t.unregister)==null?void 0:n.call(t,e))},ay=()=>{var e,t;return Y((t=(e=S==null?void 0:S.permissionTexts)==null?void 0:e.query)==null?void 0:t.call(e))},ly={register:sy,unregister:oy,query:ay},uy=()=>Re("network",{},{ignoreResponse:!1,deliverStrategy:Se.preferTop}),_t={height:0,activeElement:{el:null,originToBottomHeight:0}};function cy(){_t.height=0,_t.activeElement.el=null,_t.activeElement.originToBottomHeight=0}const fy=(e="#app",t=".van-dialog")=>window.addEventListener("message",r=>{if(r.data.cmd==="keyboardHeight"){let i=0,s=document.querySelector(e);const o=document.documentElement.clientHeight||document.body.clientHeight,c=document.activeElement;let f=document.activeElement;const d=+r.data.payload.keyboardHeight,u=document.querySelectorAll(t),a=Array.from(u).filter(h=>h.style.display!=="none")[0],l=a&&a.style.display!=="none";if(l&&(s=a,f=a,i=f.getBoundingClientRect().top),s.style.transition||(s.style.transition="margin-top .3s ease-in-out"),d||(cy(),s.style.marginTop="0px"),d>0&&c&&(c.tagName.toUpperCase()==="INPUT"||c.tagName.toUpperCase()==="TEXTAREA")){let h=!1,g=o-f.getBoundingClientRect().bottom;if(_t.height){const E=_t.activeElement.originToBottomHeight;if(E){let y=0;try{y=parseFloat(getComputedStyle(s).marginTop.replace(/[px ]/g,""))}catch(p){console.error("keyboard marginTop",p)}let m=o-c.getBoundingClientRect().bottom+y,_=0,x=40;_t.activeElement.el&&(x=10,_=o-_t.activeElement.el.getBoundingClientRect().bottom+y-_t.activeElement.originToBottomHeight),m=m-_,h=Math.abs(m-E)>x,h?g=m:g=E}}if(!h&&d<=_t.height&&_t.height-d<150)return;if(h||g<d){_t.activeElement.el=c,_t.activeElement.originToBottomHeight=g,_t.height=d;let E=g-d;i>0&&(E=i-Math.abs(E)>25?E:25-i),E>=0&&(E=0),s.style.marginTop=E+"px",l||Pn({cmd:"switchStatusBar",payload:"hide"},Se.onlyTop)}}else s.style.marginTop="0px",u.length&&Array.from(u).forEach(h=>h.style.marginTop="0px"),Pn({cmd:"switchStatusBar",payload:"show"},Se.onlyTop)}}),dy=()=>Re("version",{},{ignoreResponse:!1,timeout:5e3,deliverStrategy:Se.desktop}),hy=()=>Re("token",{},{ignoreResponse:!1,timeout:5e3,deliverStrategy:Se.desktop}),py=()=>Re("letter",{},{ignoreResponse:!1,timeout:5e3,deliverStrategy:Se.desktop}),my=()=>{Re("ping",{},{ignoreResponse:!0,timeout:5e3,deliverStrategy:Se.desktop})},_y=(e=10)=>{setInterval(()=>my(),e*1e3)},gy=["outApp","logout","desktop","route"];let Ft=[],rt=-1;function Od(){Ft=[],rt=-1}function vy(e){let t=e.current;location.hash&&location.hash[0]==="#"&&(t="#"+t),history.pushState(e,"",t)}function yy(){gy.forEach(e=>{const t={...history.state,mark:e};vy(t),Ft.push(t),rt++})}function Ey(){Ft=Ft.slice(0,rt+1),Ft.push(history.state),rt++}function xy(){Ft.splice(rt,1,history.state)}const Ul=(e,t)=>e.mark&&t.mark?JSON.stringify(e)===JSON.stringify(t):JSON.stringify({...e,mark:""})===JSON.stringify({...t,mark:""});function by(){if(history.state.mark==="desktop"){rt=2,history.go(1);return}if(history.state.mark==="logout"){rt=1,history.go(2);return}if(history.state.mark==="outApp"){rt=0,history.go(3);return}let e=-1;for(let t=rt-1;t>0&&e===-1;t--)Ul(Ft[t],history.state)&&(e=t);for(let t=rt+1;t<Ft.length&&e===-1;t++)Ul(Ft[t],history.state)&&(e=t);rt=e,rt===-1&&history.go(1)}function Sy(){const e=[...Ft],t=rt;Od();for(let r=0;r<e.length;r++)history.pushState(e[r],"",e[r].current);const n=t-e.length+1;n&&history.go(n)}let Fr=!0;function wy(){window.addEventListener("message",e=>{const{cmd:t}=e.data;t==="active"?(Fr=!0,Sy()):t==="deactive"&&(Fr=!1)})}function Ay(){const e=t=>{const n=history[t];return function(r,i,s){n.call(history,r,i,s);const o=new Event(t);window.dispatchEvent(o)}};history.pushState=e("pushState"),history.replaceState=e("replaceState"),window.addEventListener("pushState",()=>{Fr&&Ey()}),window.addEventListener("replaceState",()=>{Fr&&xy()}),window.addEventListener("popstate",()=>{Fr&&by()})}function Cy(e){var t,n,r;return((t=history.state.current)==null?void 0:t.split("?")[0])===e?"forward":((n=history.state.forward)==null?void 0:n.split("?")[0])===e?"backward":(((r=history.state.back)==null?void 0:r.split("?")[0])===e,"forward")}function Ly(){return rt>3?rt-3:0}function Ry(e){const t=Ft.findIndex(n=>n.current===e);return t<0?(console.warn("not find current route"),0):t>rt?0:rt-t}function Ty(){var e;window._routerInitialized||(window._routerInitialized=Symbol(),Od(),yy(),Ay(),((e=window==null?void 0:window.__edger_env__)==null?void 0:e.env)!=="edgerapp"&&wy())}const Oy={init:Ty,direction:Cy,historyDepth:Ry,historyLength:Ly},Py=e=>Re("openAppInWorld",{target:{id:e}},{ignoreResponse:!1,timeout:2*60*1e3,deliverStrategy:Se.desktop}),Iy=()=>{var e;(e=S==null?void 0:S.enableHistoryNavigation)==null||e.call(S)},Fy=(e=!0)=>{var t;(t=S==null?void 0:S.enableCustomNavigation)==null||t.call(S,e)},By=()=>Re("theme",{},{ignoreResponse:!1,timeout:5e3,deliverStrategy:Se.preferTop}),Dy=()=>Re("env",{},{ignoreResponse:!1,timeout:5e3,deliverStrategy:Se.preferTop}).then(e=>{const t=e;return t.env==="mobile"&&(t.env="edgerapp"),t}),My=()=>Re("deviceInfo",{},{ignoreResponse:!1,timeout:5e3,deliverStrategy:Se.preferTop}).then(e=>e),Vl=["top","left","right","bottom"],Ui={};let fa,St,yi;function da(){return!("CSS"in window)||typeof CSS.supports!="function"?St="":CSS.supports("top: env(safe-area-inset-top)")?St="env":CSS.supports("top: constant(safe-area-inset-top)")?St="constant":St="",St}function Pd(){if(St=typeof St=="string"?St:da(),!St){Vl.forEach(s=>{Ui[s]=0});return}function e(s,o){const c=s.style;Object.keys(o).forEach(f=>{const d=o[f];c[f]=d})}const t=[];function n(s){s?t.push(s):t.forEach(o=>{o()})}let r=!1;try{const s=Object.defineProperty({},"passive",{get:function(){r={passive:!0}}});window.addEventListener("test",null,s)}catch{}function i(s,o){const c=document.createElement("div"),f=document.createElement("div"),d=document.createElement("div"),u=document.createElement("div"),a=100,l=1e4,h={position:"absolute",width:a+"px",height:"200px",boxSizing:"border-box",overflow:"hidden",paddingBottom:`${St}(safe-area-inset-${o})`};e(c,h),e(f,h),e(d,{transition:"0s",animation:"none",width:"400px",height:"400px"}),e(u,{transition:"0s",animation:"none",width:"250%",height:"250%"}),c.appendChild(d),f.appendChild(u),s.appendChild(c),s.appendChild(f),n(()=>{c.scrollTop=f.scrollTop=l;let E=c.scrollTop,y=f.scrollTop;function m(){this.scrollTop!==(this===c?E:y)&&(c.scrollTop=f.scrollTop=l,E=c.scrollTop,y=f.scrollTop,ky(o))}c.addEventListener("scroll",m,r),f.addEventListener("scroll",m,r)});const g=getComputedStyle(c);Object.defineProperty(Ui,o,{configurable:!0,get(){return parseFloat(g.paddingBottom)}})}yi=document.createElement("div"),e(yi,{position:"absolute",left:"0",top:"0",width:"0",height:"0",zIndex:"-1",overflow:"hidden",visibility:"hidden"}),Vl.forEach(s=>{i(yi,s)}),document.body.appendChild(yi),n(),fa=!0}function Ei(e){return fa||Pd(),Ui[e]}const xi=[];function ky(e){xi.length||setTimeout(()=>{const t={};xi.forEach(n=>{t[n]=Ui[n]}),xi.length=0,Vi.forEach(n=>{n(t)})},0),xi.push(e)}const Vi=[];function Ny(e){da()&&(fa||Pd(),typeof e=="function"&&Vi.push(e))}function jy(e){const t=Vi.indexOf(e);t>=0&&Vi.splice(t,1)}const $t={get support(){return(typeof St=="string"?St:da()).length!=0},get top(){return Ei("top")},get left(){return Ei("left")},get right(){return Ei("right")},get bottom(){return Ei("bottom")},onChange:Ny,offChange:jy},Id=["top","left","right","bottom"];let yo=!1;const Uy=()=>{const e={top:$t.top,left:$t.left,right:$t.right,bottom:$t.bottom};Id.forEach(t=>document.body.style.setProperty(`--edger-safe-area-inset-${t}`,`${e[t]}px`))},Fd=()=>(yo||Uy(),Re("safeArea",{},{ignoreResponse:!1,timeout:5e3,deliverStrategy:Se.desktop}).then(({safeAreaInsets:t})=>(Id.forEach(n=>document.body.style.setProperty(`--edger-safe-area-inset-${n}`,`${t[n]}px`)),yo=!0,{safeAreaInsets:t})).catch(()=>({safeAreaInsets:{top:$t.top,left:$t.left,right:$t.right,bottom:$t.bottom}}))),Hl=()=>{$t.onChange(e=>{if(!yo){const t=Object.keys(e);Array.isArray(t)&&t.length&&t.forEach(n=>{document.body.style.setProperty(`--edger-safe-area-inset-${n}`,`${e[n]}px`)})}}),Fd()};document.body?Hl():window.addEventListener("load",()=>{Hl()});const Vy=(e,t,n)=>Re("downloadFile",{uri:e,options:t,headers:n},{deliverStrategy:Se.preferTop,ignoreResponse:!1,timeout:10*1e3}).then(r=>{const{id:i,status:s,path:o}=r;return{id:i,status:s,path:o}}),Hy=e=>Re("downloadAbort",{id:e},{deliverStrategy:Se.preferTop,ignoreResponse:!1,timeout:10*1e3}).then(t=>({success:t})).catch(()=>({success:!1})),Ky=e=>Re("downloadState",{id:e},{deliverStrategy:Se.preferTop,ignoreResponse:!1,timeout:10*1e3}).then(t=>(delete t.packageName,{...t})),Wy=e=>Re("downloadFile",{id:e},{deliverStrategy:Se.preferTop,ignoreResponse:!1,timeout:10*1e3}).then(t=>{const{id:n,status:r}=t;return{id:n,status:r}}),Gy=e=>Re("openFile",{id:e},{deliverStrategy:Se.preferTop,ignoreResponse:!1,timeout:10*1e3}).then(t=>({success:t})).catch(()=>({success:!1})),zy=e=>{var t,n;return Y((n=(t=S==null?void 0:S.fs)==null?void 0:t.showMediaSelector)==null?void 0:n.call(t,e))},$y=()=>{var e,t;return Y((t=(e=S==null?void 0:S.fs)==null?void 0:e.releaseMediaSelector)==null?void 0:t.call(e))},qy=e=>{var t,n;return Y((n=(t=S==null?void 0:S.fs)==null?void 0:t.showFileSelector)==null?void 0:n.call(t,e))},Xy=e=>{var t,n;return Y((n=(t=S==null?void 0:S.fs)==null?void 0:t.dumpDir)==null?void 0:n.call(t,e))},Yy=e=>{var t,n;return Y((n=(t=S==null?void 0:S.fs)==null?void 0:t.readAsBase64)==null?void 0:n.call(t,e))},Jy=e=>{var t,n;return Y((n=(t=S==null?void 0:S.fs)==null?void 0:t.stat)==null?void 0:n.call(t,e))},Zy=e=>{var t,n;return Y((n=(t=S==null?void 0:S.fs)==null?void 0:t.save)==null?void 0:n.call(t,e))},Kl={open:Gy,showMediaSelector:zy,releaseMediaSelector:$y,showFileSelector:qy,dumpDir:Xy,readAsBase64:Yy,stat:Jy,save:Zy};function ps(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=Math.random()*16|0;return(e=="x"?t:t&3|8).toString(16)})}class Qy{constructor(t,n){mt(this,"type");mt(this,"config");mt(this,"id");mt(this,"listeners",new Map);this.type=t,this.config=n,this.id=ps()}getId(){return this.id}present(){var t,n;if(!this.config)return tr("Parameter error");if(this.config.clickOverlayToClose??(this.config.clickOverlayToClose=!1),this.type==="bottom_sheet_btn"){const r=this.config;r.multiple??(r.multiple=!1),r.content.forEach(i=>{i!=null&&i.label&&(i.labelColor??(i.labelColor="#0077fa"),i.labelBgColor??(i.labelBgColor="#eaf5ff"))})}return Y((n=(t=S==null?void 0:S.dialog)==null?void 0:t.present)==null?void 0:n.call(t,this.id,this.type,this.config))}update(t){var n,r;return Y((r=(n=S==null?void 0:S.dialog)==null?void 0:n.update)==null?void 0:r.call(n,this.id,this.type,t))}dismiss(){var t,n;return Y((n=(t=S==null?void 0:S.dialog)==null?void 0:t.dismiss)==null?void 0:n.call(t,this.id))}onAction(t,n){var r,i;if((r=S==null?void 0:S.dialog)!=null&&r.addEventListener){const s=o=>{o.id===this.id&&n(o)};(i=S.dialog)==null||i.addEventListener(t,s),this.listeners.set(n,{event:t,listener:s})}else console.error("dialog addEventListener not supported.")}addEventListener(t,n){var r,i;if((r=S==null?void 0:S.dialog)!=null&&r.addEventListener){const s=o=>{o.id===this.id&&n(o)};(i=S.dialog)==null||i.addEventListener(t,s),this.listeners.set(n,{event:t,listener:s})}else console.error("dialog addEventListener not supported.")}removeEventListener(t,n){var i,s;const r=this.listeners.get(n);r&&((i=S==null?void 0:S.dialog)!=null&&i.removeEventListener)?(s=S.dialog)==null||s.removeEventListener(t,r==null?void 0:r.listener):console.error("dialog addEventListener not supported.")}removeAllListeners(t){var n;(n=S==null?void 0:S.dialog)!=null&&n.removeAllListeners?this.listeners.forEach((r,i)=>{var s,o;t?r.event===t&&((o=S.dialog)==null||o.removeEventListener(t,r.listener)):(s=S.dialog)==null||s.removeEventListener(t,r.listener)}):console.error("dialog addEventListener not supported.")}}const Wl=(e,t)=>{var n,r;(n=S==null?void 0:S.dialog)!=null&&n.addEventListener?(r=S.dialog)==null||r.addEventListener(e,t):console.error("dialog addEventListener not supported.")},eE=(e,t)=>{var n,r;(n=S==null?void 0:S.dialog)!=null&&n.removeEventListener?(r=S.dialog)==null||r.removeEventListener(e,t):console.error("dialog removeEventListener not supported.")},tE=e=>{var t,n;(t=S==null?void 0:S.dialog)!=null&&t.removeAllListeners?(n=S.dialog)==null||n.removeAllListeners(e):console.error("dialog removeAllListeners not supported.")},nE=(e,t)=>new Qy(e,t),rE={create:nE,onAction:Wl,addEventListener:Wl,removeEventListener:eE,removeAllListeners:tE};class iE{present(t,n={}){var r,i;return(n==null?void 0:n.duration)??(n.duration=3e3),(n==null?void 0:n.position)??(n.position="top"),Y((i=(r=S==null?void 0:S.toast)==null?void 0:r.present)==null?void 0:i.call(r,t,{...n,actions:n.actions?[n.actions]:void 0}))}addEventListener(t,n){var r,i;(r=S==null?void 0:S.toast)!=null&&r.addEventListener?(i=S.toast)==null||i.addEventListener(t,n):console.error("toast addEventListener not supported.")}removeEventListener(t,n){var r,i;(r=S==null?void 0:S.toast)!=null&&r.removeEventListener?(i=S.toast)==null||i.removeEventListener(t,n):console.error("toast removeEventListener not supported.")}removeAllListeners(t){var n,r;(n=S==null?void 0:S.toast)!=null&&n.removeAllListeners?(r=S.toast)==null||r.removeAllListeners(t):console.error("toast removeAllListeners not supported.")}}const sE=new iE,pn=window.__edger__;function bi(e,t,n={}){return pn!=null&&pn.notice?(n??(n={}),n.singleton??(n.singleton=!0),n.duration??(n.duration=3e3),n.closable??(n.closable=!1),pn.notice.present(t,e,n)):tr()}class oE{info(t,n){return bi("info",t,n)}success(t,n){return bi("success",t,n)}warning(t,n){return bi("warning",t,n)}error(t,n){return bi("error",t,n)}dismiss(t){return pn!=null&&pn.notify?pn.notice.dismiss(t):Promise.reject(Error("Not Support"))}}const aE=new oE;class lE{constructor(t=0){mt(this,"duration");mt(this,"id");this.duration=t,this.id=ps()}present(){var t,n;return Y((n=(t=S==null?void 0:S.loading)==null?void 0:t.present)==null?void 0:n.call(t,this.id,this.duration))}dismiss(){var t,n;return Y((n=(t=S==null?void 0:S.loading)==null?void 0:t.dismiss)==null?void 0:n.call(t,this.id))}}const uE=e=>new lE(e),cE={create:uE};class fE{constructor(){}address(t,n){var r,i;return Y((i=(r=S==null?void 0:S.geo)==null?void 0:r.address)==null?void 0:i.call(r,t,n))}}const dE=new fE,hE=()=>Re("verifySecurity",null,{deliverStrategy:Se.desktop,ignoreResponse:!1,timeout:2*60*1e3}),pE="1.2.1",mE=()=>S!=null&&S.setHeaders?S.setHeaders({version:pE}):tr(),ii=e=>!(S!=null&&S.haptics)||!S.haptics[e]?tr():S.haptics[e](),_E=()=>ii("impactMedium"),gE=()=>ii("impactHeavy"),vE=()=>ii("impactLight"),yE=()=>ii("impactTick"),EE=()=>ii("vibrate"),xE=Object.freeze(Object.defineProperty({__proto__:null,impactHeavy:gE,impactLight:vE,impactMedium:_E,impactTick:yE,vibrate:EE},Symbol.toStringTag,{value:"Module"})),bE=["start","pause","resume","cancel","retry","resume","done","error","progress"];bE.forEach(e=>{S==null||S.on(`job_${e}`,t=>{Pn(t)})});const SE=(e,t,n)=>{var r,i;return Y((i=(r=S==null?void 0:S.job)==null?void 0:r.create)==null?void 0:i.call(r,e,t,n))},wE=e=>{var t,n;return Y((n=(t=S==null?void 0:S.job)==null?void 0:t.get)==null?void 0:n.call(t,e))},AE=(e,t)=>{var n,r;return Y((r=(n=S==null?void 0:S.job)==null?void 0:n.cancel)==null?void 0:r.call(n,e,t))},CE=(e,t)=>{var n,r;return Y((r=(n=S==null?void 0:S.job)==null?void 0:n.pause)==null?void 0:r.call(n,e,t))},LE=(e,t,n)=>{var r,i;return Y((i=(r=S==null?void 0:S.job)==null?void 0:r.resume)==null?void 0:i.call(r,e,t,n))},RE=(e,t,n)=>{var r,i;return Y((i=(r=S==null?void 0:S.job)==null?void 0:r.retry)==null?void 0:i.call(r,e,t,n))},TE=()=>{var e,t;return Y((t=(e=S==null?void 0:S.job)==null?void 0:e.errorSummary)==null?void 0:t.call(e))},OE=(e,t)=>{var n,r;return Y((r=(n=S==null?void 0:S.job)==null?void 0:n.updateStatus)==null?void 0:r.call(n,e,t))},PE=(e,t)=>{var n,r,i;return Y((i=(r=(n=S==null?void 0:S.job)==null?void 0:n.history)==null?void 0:r.query)==null?void 0:i.call(r,e,t))},IE=e=>{var t,n,r;return Y((r=(n=(t=S==null?void 0:S.job)==null?void 0:t.history)==null?void 0:n.count)==null?void 0:r.call(n,e))},FE=e=>{var t,n,r;return Y((r=(n=(t=S==null?void 0:S.job)==null?void 0:t.history)==null?void 0:n.delete)==null?void 0:r.call(n,e))},BE=e=>{var t,n,r;return Y((r=(n=(t=S==null?void 0:S.job)==null?void 0:t.history)==null?void 0:n.deleteAll)==null?void 0:r.call(n,e))},Gl=(e,t)=>{var n,r;(n=S==null?void 0:S.job)!=null&&n.addEventListener?(r=S.job)==null||r.addEventListener(e,t):console.error("job addEventListener not supported.")},DE=(e,t)=>{var n,r;(n=S==null?void 0:S.job)!=null&&n.removeEventListener?(r=S.job)==null||r.removeEventListener(e,t):console.error("job removeEventListener not supported.")},ME=e=>{var t,n;(t=S==null?void 0:S.job)!=null&&t.removeAllListeners?(n=S.job)==null||n.removeAllListeners(e):console.error("job removeAllListeners not supported.")},kE={query:PE,count:IE,delete:FE,deleteAll:BE},NE={create:SE,get:wE,cancel:AE,pause:CE,resume:LE,retry:RE,errorSummary:TE,updateStatus:OE,history:kE,onAction:Gl,addEventListener:Gl,removeEventListener:DE,removeAllListeners:ME};S==null||S.on("event_album_change",e=>{Pn(e)});const jE=()=>{var e,t;return Y((t=(e=S==null?void 0:S.album)==null?void 0:e.query)==null?void 0:t.call(e))},UE=e=>{var t,n;return Y((n=(t=S==null?void 0:S.album)==null?void 0:t.dir)==null?void 0:n.call(t,e))},VE=(e,t={})=>{var n,r;return Y((r=(n=S==null?void 0:S.album)==null?void 0:n.save)==null?void 0:r.call(n,{...e,headers:t}))},zl=(e,t)=>{var n,r;(n=S==null?void 0:S.album)!=null&&n.addEventListener?(r=S.album)==null||r.addEventListener(e,t):console.error("album addEventListener not supported.")},HE=(e,t)=>{var n,r;(n=S==null?void 0:S.album)!=null&&n.removeEventListener?(r=S.album)==null||r.removeEventListener(e,t):console.error("album removeEventListener not supported.")},KE=e=>{var t,n;(t=S==null?void 0:S.album)!=null&&t.removeAllListeners?(n=S.album)==null||n.removeAllListeners(e):console.error("album removeAllListeners not supported.")},WE={query:jE,dir:UE,save:VE,onAction:zl,addEventListener:zl,removeEventListener:HE,removeAllListeners:KE};class GE{constructor(t){mt(this,"id");mt(this,"options");mt(this,"addEventListener",(t,n)=>{var r,i;(r=S==null?void 0:S.media)!=null&&r.addEventListener?(i=S.media)==null||i.addEventListener(t,n):console.error("media addEventListener not supported.")});mt(this,"onAction",this.addEventListener);mt(this,"removeEventListener",(t,n)=>{var r,i;(r=S==null?void 0:S.media)!=null&&r.removeEventListener?(i=S.media)==null||i.removeEventListener(t,n):console.error("media removeEventListener not supported.")});mt(this,"removeAllListeners",t=>{var n,r;(n=S==null?void 0:S.media)!=null&&n.removeAllListeners?(r=S.media)==null||r.removeAllListeners(t):console.error("media removeAllListeners not supported.")});this.id=ps(),this.options=t}play(t){var r,i,s,o;const n={...this.options,position:(r=this.options)==null?void 0:r.position,toolbar:(i=this.options)==null?void 0:i.toolbarItems,toolbarItems:void 0,sourceFrame:t};return Y((o=(s=S==null?void 0:S.media)==null?void 0:s.play)==null?void 0:o.call(s,this.id,n))}toolbar(t){var n,r;return Y((r=(n=S==null?void 0:S.media)==null?void 0:n.updateToolbar)==null?void 0:r.call(n,this.id,t)).then(i=>(i!=null&&i.playerId&&delete i.playerId,i))}update(t,n,r=!0,i=!0){var o,c;const s={playerId:this.id,index:t,file:n,loading:r,showError:i};return Y((c=(o=S==null?void 0:S.media)==null?void 0:o.update)==null?void 0:c.call(o,s))}layout(t){var r,i;return Y((i=(r=S==null?void 0:S.media)==null?void 0:r.updateLayout)==null?void 0:i.call(r,this.id,0,t))}append(t,n){var r,i;return Y((i=(r=S==null?void 0:S.media)==null?void 0:r.append)==null?void 0:i.call(r,this.id,{direction:n,files:t}))}drop(t){var n,r;return Y((r=(n=S==null?void 0:S.media)==null?void 0:n.drop)==null?void 0:r.call(n,this.id,t))}close(t){var n,r;return Y((r=(n=S==null?void 0:S.media)==null?void 0:n.close)==null?void 0:r.call(n,this.id,t))}setMode(t){var r,i;const n={...t,playerId:this.id};return Y((i=(r=S==null?void 0:S.media)==null?void 0:r.setMode)==null?void 0:i.call(r,n))}setCasterControls(t){var r,i;const n={...t,playerId:this.id};return Y((i=(r=S==null?void 0:S.media)==null?void 0:r.setCasterControls)==null?void 0:i.call(r,n))}scrollTo(t){var r,i;const n={...t,playerId:this.id};return Y((i=(r=S==null?void 0:S.media)==null?void 0:r.scrollTo)==null?void 0:i.call(r,n))}updateAttributes(t){var r,i;const n={...t,playerId:this.id};return Y((i=(r=S==null?void 0:S.media)==null?void 0:r.updateAttributes)==null?void 0:i.call(r,n))}}const zE=e=>new GE(e),$E={player:zE},$l=window.__edger__,qE={init:()=>Promise.resolve(),ready:()=>Promise.resolve(),reload:()=>Promise.resolve()},XE=$l?$l.lifecycle:qE,YE=e=>{var t,n;return Y((n=(t=S==null?void 0:S.service)==null?void 0:t.create)==null?void 0:n.call(t,e))},JE=e=>{var t,n;return Y((n=(t=S==null?void 0:S.service)==null?void 0:t.run)==null?void 0:n.call(t,e))},ZE=e=>{var t,n;return Y((n=(t=S==null?void 0:S.service)==null?void 0:t.pause)==null?void 0:n.call(t,e))},QE=e=>{var t,n;return Y((n=(t=S==null?void 0:S.service)==null?void 0:t.resume)==null?void 0:n.call(t,e))},ex=()=>{var e,t;return Y((t=(e=S==null?void 0:S.service)==null?void 0:e.query)==null?void 0:t.call(e))},tx=e=>{var t,n;return Y((n=(t=S==null?void 0:S.service)==null?void 0:t.delete)==null?void 0:n.call(t,e))},nx=e=>{var t,n;return Y((n=(t=S==null?void 0:S.service)==null?void 0:t.status)==null?void 0:n.call(t,e))},ql=(e,t)=>{var n,r;(n=S==null?void 0:S.service)!=null&&n.addEventListener?(r=S.service)==null||r.addEventListener(e,t):console.error("service addEventListener not supported.")},rx=(e,t)=>{var n,r;(n=S==null?void 0:S.service)!=null&&n.removeEventListener?(r=S.service)==null||r.removeEventListener(e,t):console.error("service removeEventListener not supported.")},ix=e=>{var t,n;(t=S==null?void 0:S.service)!=null&&t.removeAllListeners?(n=S.service)==null||n.removeAllListeners(e):console.error("service removeAllListeners not supported.")},sx={create:YE,run:JE,pause:ZE,resume:QE,query:ex,remove:tx,status:nx,onAction:ql,addEventListener:ql,removeEventListener:rx,removeAllListeners:ix},ox=()=>{var t,n;const e=window.__edger__;return Y((n=(t=e==null?void 0:e.app)==null?void 0:t.layout)==null?void 0:n.call(t))},ax=e=>{var t,n;return Y((n=(t=S==null?void 0:S.ssdp)==null?void 0:t.init)==null?void 0:n.call(t,e))},lx=()=>{var e,t;return Y((t=(e=S==null?void 0:S.ssdp)==null?void 0:e.start)==null?void 0:t.call(e))},ux=()=>{var e,t;return Y((t=(e=S==null?void 0:S.ssdp)==null?void 0:e.stop)==null?void 0:t.call(e))},cx=()=>{var e,t;return Y((t=(e=S==null?void 0:S.ssdp)==null?void 0:e.destroy)==null?void 0:t.call(e))},fx=()=>{var e,t;return Y((t=(e=S==null?void 0:S.ssdp)==null?void 0:e.getStatus)==null?void 0:t.call(e))},Xl=(e,t)=>{var n,r;(n=S==null?void 0:S.ssdp)!=null&&n.addEventListener?(r=S.ssdp)==null||r.addEventListener(e,t):console.error("ssdp addEventListener not supported.")},dx=(e,t)=>{var n,r;(n=S==null?void 0:S.ssdp)!=null&&n.removeEventListener?(r=S.ssdp)==null||r.removeEventListener(e,t):console.error("ssdp removeEventListener not supported.")},hx=e=>{var t,n;(t=S==null?void 0:S.ssdp)!=null&&t.removeAllListeners?(n=S.ssdp)==null||n.removeAllListeners(e):console.error("ssdp removeAllListeners not supported.")},px={init:ax,start:lx,stop:ux,destroy:cx,getStatus:fx,onAction:Xl,addEventListener:Xl,removeEventListener:dx,removeAllListeners:hx},mx=e=>{var t,n;return Y((n=(t=S==null?void 0:S.caster)==null?void 0:t.start)==null?void 0:n.call(t,e))},_x=()=>{var e,t;return Y((t=(e=S==null?void 0:S.caster)==null?void 0:e.stop)==null?void 0:t.call(e))},gx=()=>{var e,t;return Y((t=(e=S==null?void 0:S.caster)==null?void 0:e.getStatus)==null?void 0:t.call(e))},Yl=(e,t)=>{var n,r;(n=S==null?void 0:S.caster)!=null&&n.addEventListener?(r=S.caster)==null||r.addEventListener(e,t):console.error("caster addEventListener not supported.")},vx=(e,t)=>{var n,r;(n=S==null?void 0:S.caster)!=null&&n.removeEventListener?(r=S.caster)==null||r.removeEventListener(e,t):console.error("caster removeEventListener not supported.")},yx=e=>{var t,n;(t=S==null?void 0:S.caster)!=null&&t.removeAllListeners?(n=S.caster)==null||n.removeAllListeners(e):console.error("caster removeAllListeners not supported.")},Ex={start:mx,stop:_x,getStatus:gx,onAction:Yl,addEventListener:Yl,removeEventListener:vx,removeAllListeners:yx},Jl={name:"app.navigate",_name:"app.view.navigate",input:{path:!0,queryParams:!0},output:{success:!0}},xx={[Jl.name]:Jl},Zl={name:"audio",event:{change:!0,status:!0,action:!0}},Ql={name:"audio.play",input:{index:!0,position:!0,autoPlay:!0,speed:!0,mode:!0,headless:!0,files:{id:!0,title:!0,url:!0,author:!0,cover:!0,size:!0,headers:!0},toolbar:{icon:!0,code:!0,label:!0,disabled:!0,position:!0,labelColor:!0,labelBgColor:!0}}},eu={name:"audio.setToolbar",input:{toolbar:{icon:!0,code:!0,label:!0,disabled:!0,position:!0,labelColor:!0,labelBgColor:!0}},output:{code:!0,id:!0}},tu={name:"audio.destroy"},nu={name:"audio.delete",input:{index:!0},output:{}},bx={[Ql.name]:Ql,[eu.name]:eu,[Zl.name]:Zl,[tu.name]:tu,[nu.name]:nu},ru={name:"float",event:{click:!0}},iu={name:"float.show",input:{labelColor:!0,labelBgColor:!0,backgroundColor:!0,icon:!0,drag:!0,position:{x:!0,y:!0},margin:{top:!0,left:!0,right:!0,bottom:!0}},output:{id:!0}},su={name:"float.hide",input:{id:!0}},ou={name:"float.animate",input:{id:!0,animation:!0}},au={name:"float.update",input:{id:!0,labelColor:!0,labelBgColor:!0,backgroundColor:!0,icon:!0,drag:!0,position:{top:!0,left:!0,right:!0,bottom:!0}}},Sx={[iu.name]:iu,[su.name]:su,[ru.name]:ru,[ou.name]:ou,[au.name]:au},lu={name:"keepAlive.start"},uu={name:"keepAlive.update"},cu={name:"keepAlive.stop"},wx={[lu.name]:lu,[uu.name]:uu,[cu.name]:cu},fu={name:"media.player",_name:"media.play",input:{files:{title:!0,id:!0,type:!0,url:!0,thumbnailUrl:!0,livePhotoUrl:!0,headers:!0},position:{key:!0,value:!0},animation:!0,positionFileId:!0,toolbarItems:{icon:!0,code:!0,label:!0,disabled:!0,position:!0,labelColor:!0,labelBgColor:!0},mode:!0,_files:"info.files",_position:"info.position",_toolbarItems:"info.toolbarItems",_mode:"info.mode"},event:{change:!0,close:!0,status:!0,action:!0,casterControls:!0}},du={name:"media.player.play",_name:"media.play",input:{offsetX:!0,offsetY:!0,width:!0,height:!0}},hu={name:"media.player.toolbar",_name:"media.updateToolbar",input:{icon:!0,code:!0,label:!0,disabled:!0,position:!0,labelColor:!0,labelBgColor:!0},output:{code:!0,id:!0}},pu={name:"media.player.update",_name:"media.update",input:{index:!0,file:{title:!0,id:!0,type:!0,url:!0,thumbnailUrl:!0,livePhotoUrl:!0,headers:!0},loading:!0,showError:!0}},mu={name:"media.player.layout",_name:"media.updateLayout",input:{title:!0,subtitle:!0,alignment:!0,animation:{mode:!0,config:{duration:!0,repeatCount:!0}}}},_u={name:"media.player.append",_name:"media.append",input:{files:{title:!0,id:!0,type:!0,url:!0,thumbnailUrl:!0,livePhotoUrl:!0,headers:!0},direction:!0}},gu={name:"media.player.drop",_name:"media.drop",input:{id:!0}},vu={name:"media.player.close",_name:"media.close",input:{options:{animation:!0}}},yu={name:"media.player.setMode",_name:"media.setMode",input:{mode:!0}},Eu={name:"media.player.setCasterControls",_name:"media.setCasterControls",input:{status:!0,duration:!0,progress:!0,playerId:!0}},xu={name:"media.player.scrollTo",_name:"media.scrollTo",input:{positionFileId:!0}},bu={name:"media.player.updateAttributes",_name:"media.updateAttributes",input:{attributes:{key:!0,value:!0}}},Ax={[fu.name]:fu,[du.name]:du,[hu.name]:hu,[pu.name]:pu,[mu.name]:mu,[_u.name]:_u,[gu.name]:gu,[vu.name]:vu,[yu.name]:yu,[Eu.name]:Eu,[xu.name]:xu,[bu.name]:bu},Su={name:"mobile.qrscan",_name:"system.qrscan"},wu={name:"mobile.contacts",_name:"system.contacts"},Au={name:"mobile.getVolume",_name:"system.getVolume"},Cu={name:"mobile.networkInfo",_name:"system.networkInfo"},Lu={name:"mobile.onAction",_name:"system.addEventListener"},Ru={name:"mobile.addEventListener",_name:"system.addEventListener"},Tu={name:"mobile.removeEventListener",_name:"system.removeEventListener"},Ou={name:"mobile.removeAllListeners",_name:"system.removeAllListeners"},Cx={[Su.name]:Su,[wu.name]:wu,[Au.name]:Au,[Cu.name]:Cu,[Lu.name]:Lu,[Ru.name]:Ru,[Tu.name]:Tu,[Ou.name]:Ou},Pu={name:"multiplePanel",event:{change:!0,close:!0,status:!0,action:!0}},Iu={name:"multiplePanel.open",input:{maxSelectedNum:!0,positionFileId:!0,files:{id:!0,url:!0,thumbnailUrl:!0,fileName:!0,fileType:!0,fileDesc:!0,width:!0,height:!0,selected:!0,headers:!0},groups:{icon:!0,label:!0,disabled:!0,items:{icon:!0,code:!0,label:!0,disabled:!0,labelColor:!0,labelBgColor:!0}}}},Fu={name:"multiplePanel.close"},Bu={name:"multiplePanel.append",input:{files:{id:!0,url:!0,thumbnailUrl:!0,fileName:!0,fileType:!0,fileDesc:!0,width:!0,height:!0,selected:!0,headers:!0}}},Du={name:"multiplePanel.get",output:{ids:!0}},Mu={name:"multiplePanel.updateGroups",input:{groups:{icon:!0,label:!0,disabled:!0,items:{icon:!0,code:!0,label:!0,disabled:!0,labelColor:!0,labelBgColor:!0}}}},Lx={[Iu.name]:Iu,[Fu.name]:Fu,[Bu.name]:Bu,[Du.name]:Du,[Mu.name]:Mu,[Pu.name]:Pu},ku={name:"permissionTexts.register",input:{params:{type:!0,code:!0,dialogContent:!0,drawerContent:!0}},output:{success:!0}},Nu={name:"permissionTexts.unregister",input:{params:{type:!0,code:!0}},output:{success:!0}},ju={name:"permissionTexts.query",output:{result:{type:!0,code:!0,dialogContent:!0,drawerContent:!0}}},Rx={[ku.name]:ku,[Nu.name]:Nu,[ju.name]:ju},Uu={name:"filePreview",event:{status:!0}},Vu={name:"filePreview.open",input:{files:{id:!0,name:!0,type:!0,url:!0,createTime:!0,modifyTime:!0,size:!0,headers:!0},positionFileId:!0}},Hu={name:"filePreview.close"},Ku={name:"filePreview.addEventListener"},Wu={name:"filePreview.removeEventListener"},Gu={name:"filePreview.removeAllListeners"},zu={[Uu.name]:Uu,[Vu.name]:Vu,[Hu.name]:Hu,[Ku.name]:Ku,[Wu.name]:Wu,[Gu.name]:Gu},$u={name:"share",event:{status:!0}},qu={name:"share.open",input:{channelType:!0,contentType:!0,content:{id:!0,name:!0,url:!0,headers:!0,title:!0,imgUrl:!0,size:!0}}},Xu={name:"share.addEventListener"},Yu={name:"share.removeEventListener"},Ju={name:"share.removeAllListeners"},Tx={[$u.name]:$u,[qu.name]:qu,[Xu.name]:Xu,[Yu.name]:Yu,[Ju.name]:Ju},Zu={name:"fs.save"},Qu={name:"fs.open"},ec={name:"fs.showFileSelector"},tc={name:"fs.showMediaSelector"},nc={name:"fs.releaseMediaSelector"},rc={name:"fs.dumpDir"},ic={name:"fs.readAsBase64"},sc={name:"fs.stat"},Ox={[Zu.name]:Zu,[Qu.name]:Qu,[ec.name]:ec,[tc.name]:tc,[nc.name]:nc,[rc.name]:rc,[ic.name]:ic,[sc.name]:sc},Px={...xx,...bx,...Ax,...Lx,...Rx,...Cx,...wx,...zu,...Tx,...Sx,...zu,...Ox};function oc(e,t){try{if(!t)throw new Error("caps is null");const n=e.split(".");let r=t;for(;n.length;){const i=n.shift();if(r=r[i],r===void 0)return!1}return!0}catch(n){return console.error("checkKeyExist",n),!1}}function Ix(e,t){try{if(!t)throw new Error("schema is null");const n=e.split(".");let r=t,i=[];for(;n.length;){const s=n.shift();`_${s}`in r?i.push(r[`_${s}`]):i.push(s),r=r[s]}return i.join(".")}catch(n){return console.error("mapToInternalSdkInput",n),""}}function Fx(e,t){var n;try{const r=Px[e.name];if(!r)return!1;let i=e.name;if("_name"in r&&(i=r._name),!(t!=null&&t.canIUse({name:i})))return!1;if(e.input){if(!oc(e.input,r.input))return!1;const s=Ix(e.input,r.input);if(!s||!(t!=null&&t.canIUse({name:i,input:s})))return!1}return!(e.output&&!oc(e.output,r.output)||e.event&&(!((n=r.event)!=null&&n[e.event])||!(t!=null&&t.canIUse({name:i,event:e.event}))))}catch(r){return console.error("schema format",r),!1}}function Bx(e){return Fx(e,S)}function Dx(e){var t,n;return Y((n=(t=S==null?void 0:S.multiplePanel)==null?void 0:t.open)==null?void 0:n.call(t,e))}function Mx(){var e,t;return Y((t=(e=S==null?void 0:S.multiplePanel)==null?void 0:e.close)==null?void 0:t.call(e))}function kx(e){var t,n;return Y((n=(t=S==null?void 0:S.multiplePanel)==null?void 0:t.append)==null?void 0:n.call(t,e))}function Nx(){var e,t;return Y((t=(e=S==null?void 0:S.multiplePanel)==null?void 0:e.get)==null?void 0:t.call(e))}function jx(e){var t,n;return Y((n=(t=S==null?void 0:S.multiplePanel)==null?void 0:t.updateGroups)==null?void 0:n.call(t,e))}const Ux=(e,t)=>{var n,r;(n=S==null?void 0:S.multiplePanel)!=null&&n.addEventListener?(r=S.multiplePanel)==null||r.addEventListener(e,t):console.error("multiplePanel addEventListener not supported.")},Vx=(e,t)=>{var n,r;(n=S==null?void 0:S.multiplePanel)!=null&&n.removeEventListener?(r=S.multiplePanel)==null||r.removeEventListener(e,t):console.error("multiplePanel removeEventListener not supported.")},Hx=e=>{var t,n;(t=S==null?void 0:S.multiplePanel)!=null&&t.removeAllListeners?(n=S.multiplePanel)==null||n.removeAllListeners(e):console.error("multiplePanel removeAllListeners not supported.")},Kx={open:Dx,close:Mx,get:Nx,append:kx,updateGroups:jx,addEventListener:Ux,removeEventListener:Vx,removeAllListeners:Hx};class Wx{start(){var t,n;return Y((n=(t=S==null?void 0:S.keepAlive)==null?void 0:t.start)==null?void 0:n.call(t))}update(){var t,n;return Y((n=(t=S==null?void 0:S.keepAlive)==null?void 0:t.update)==null?void 0:n.call(t))}stop(){var t,n;return Y((n=(t=S==null?void 0:S.keepAlive)==null?void 0:t.stop)==null?void 0:n.call(t))}}const Gx=new Wx;function zx(e){var r,i;let t=ps();e.id&&(t=e.id);let n={...e,id:t};return Y((i=(r=S==null?void 0:S.float)==null?void 0:r.show)==null?void 0:i.call(r,n))}function $x(e){var t,n;return Y((n=(t=S==null?void 0:S.float)==null?void 0:t.hide)==null?void 0:n.call(t,e))}function qx(e){var t,n;return Y((n=(t=S==null?void 0:S.float)==null?void 0:t.animate)==null?void 0:n.call(t,e))}function Xx(e){var t,n;return Y((n=(t=S==null?void 0:S.float)==null?void 0:t.update)==null?void 0:n.call(t,e))}const Yx=(e,t)=>{var n,r;(n=S==null?void 0:S.float)!=null&&n.addEventListener?(r=S.float)==null||r.addEventListener(e,t):console.error("float addEventListener not supported.")},Jx=(e,t)=>{var n,r;(n=S==null?void 0:S.float)!=null&&n.removeEventListener?(r=S.float)==null||r.removeEventListener(e,t):console.error("float removeEventListener not supported.")},Zx=e=>{var t,n;(t=S==null?void 0:S.float)!=null&&t.removeAllListeners?(n=S.float)==null||n.removeAllListeners(e):console.error("float removeAllListeners not supported.")},Qx={show:zx,hide:$x,update:Xx,animate:qx,addEventListener:Yx,removeEventListener:Jx,removeAllListeners:Zx};class eb{open(t){var n,r;return Y((r=(n=S==null?void 0:S.filePreview)==null?void 0:n.open)==null?void 0:r.call(n,t))}close(){var t,n;return Y((n=(t=S==null?void 0:S.filePreview)==null?void 0:t.close)==null?void 0:n.call(t))}addEventListener(t,n){var r,i;(r=S==null?void 0:S.filePreview)!=null&&r.addEventListener?(i=S.filePreview)==null||i.addEventListener(t,n):console.error("filePreview addEventListener not supported.")}onAction(t,n){var r,i;(r=S==null?void 0:S.filePreview)!=null&&r.addEventListener?(i=S.filePreview)==null||i.addEventListener(t,n):console.error("filePreview onAction not supported.")}removeEventListener(t,n){var r,i;(r=S==null?void 0:S.filePreview)!=null&&r.removeEventListener?(i=S.filePreview)==null||i.removeEventListener(t,n):console.error("filePreview removeEventListener not supported.")}removeAllListeners(t){var n,r;(n=S==null?void 0:S.filePreview)!=null&&n.removeAllListeners?(r=S.filePreview)==null||r.removeAllListeners(t):console.error("filePreview removeAllListeners not supported.")}}const tb=new eb;class nb{open(t){var n,r;return Y((r=(n=S==null?void 0:S.share)==null?void 0:n.open)==null?void 0:r.call(n,t))}addEventListener(t,n){var r,i;(r=S==null?void 0:S.share)!=null&&r.addEventListener?(i=S.share)==null||i.addEventListener(t,n):console.error("share addEventListener not supported.")}removeEventListener(t,n){var r,i;(r=S==null?void 0:S.share)!=null&&r.removeEventListener?(i=S.share)==null||i.removeEventListener(t,n):console.error("share removeEventListener not supported.")}removeAllListeners(t){var n,r;(n=S==null?void 0:S.share)!=null&&n.removeAllListeners?(r=S.share)==null||r.removeAllListeners(t):console.error("share removeAllListeners not supported.")}}const rb=new nb;function ib(){var e,t;return Y((t=(e=S==null?void 0:S.eap)==null?void 0:e.eviewHideAll)==null?void 0:t.call(e))}const sb={eviewHideAll:ib},ob={open:Gv,appworld:Py,letter:py,browser:qv,title:zv,layout:ox,navigate:Xv,callThirdPartyApp:Yv},ab={request:ry,fetch:iy},lb={download:Vy,abort:Hy,state:Ky,retry:Wy},ub={state:ty,lock:Qv,unlock:ey},cb={pay:Kv},fb={safeArea:Fd},db={verify:hE},Bt={_on:Td,_off:Dv,_emit:Pn,_cmd:Re,onAction:Pv,addEventListener:Iv,removeEventListener:Fv,removeAllListeners:Bv,user:ny,avoidKeyboardOverlay:fy,audio:Tv,app:ob,notify:aE,mobile:Hv,permission:ab,permissionTexts:ly,payment:cb,apps:Wv,connectMode:Jv,orientation:ub,network:uy,language:$v,version:dy,token:hy,enableHistoryNavigation:Iy,enableCustomNavigation:Fy,theme:By,env:Dy,deviceInfo:My,layout:fb,downloadTask:lb,filesystem:Kl,fs:Kl,loading:cE,dialog:rE,toast:sE,geo:dE,album:WE,job:NE,security:db,router:Oy,haptics:xE,media:$E,lifecycle:XE,service:sx,ssdp:px,caster:Ex,canIUse:Bx,multiplePanel:Kx,keepAlive:Gx,float:Qx,filePreview:tb,share:rb,eap:sb};_y(30);Zv();mE();const Bd="%[a-f0-9]{2}",ac=new RegExp("("+Bd+")|([^%]+?)","gi"),lc=new RegExp("("+Bd+")+","gi");function Eo(e,t){try{return[decodeURIComponent(e.join(""))]}catch{}if(e.length===1)return e;t=t||1;const n=e.slice(0,t),r=e.slice(t);return Array.prototype.concat.call([],Eo(n),Eo(r))}function hb(e){try{return decodeURIComponent(e)}catch{let t=e.match(ac)||[];for(let n=1;n<t.length;n++)e=Eo(t,n).join(""),t=e.match(ac)||[];return e}}function pb(e){const t={"%FE%FF":"","%FF%FE":""};let n=lc.exec(e);for(;n;){try{t[n[0]]=decodeURIComponent(n[0])}catch{const i=hb(n[0]);i!==n[0]&&(t[n[0]]=i)}n=lc.exec(e)}t["%C2"]="";const r=Object.keys(t);for(const i of r)e=e.replace(new RegExp(i,"g"),t[i]);return e}function mb(e){if(typeof e!="string")throw new TypeError("Expected `encodedURI` to be of type `string`, got `"+typeof e+"`");try{return decodeURIComponent(e)}catch{return pb(e)}}function Dd(e,t){if(!(typeof e=="string"&&typeof t=="string"))throw new TypeError("Expected the arguments to be of type `string`");if(e===""||t==="")return[];const n=e.indexOf(t);return n===-1?[]:[e.slice(0,n),e.slice(n+t.length)]}function _b(e,t){const n={};if(Array.isArray(t))for(const r of t){const i=Object.getOwnPropertyDescriptor(e,r);i!=null&&i.enumerable&&Object.defineProperty(n,r,i)}else for(const r of Reflect.ownKeys(e)){const i=Object.getOwnPropertyDescriptor(e,r);if(i.enumerable){const s=e[r];t(r,s,e)&&Object.defineProperty(n,r,i)}}return n}const gb=e=>e==null,vb=e=>encodeURIComponent(e).replaceAll(/[!'()*]/g,t=>`%${t.charCodeAt(0).toString(16).toUpperCase()}`),xo=Symbol("encodeFragmentIdentifier");function yb(e){switch(e.arrayFormat){case"index":return t=>(n,r)=>{const i=n.length;return r===void 0||e.skipNull&&r===null||e.skipEmptyString&&r===""?n:r===null?[...n,[qe(t,e),"[",i,"]"].join("")]:[...n,[qe(t,e),"[",qe(i,e),"]=",qe(r,e)].join("")]};case"bracket":return t=>(n,r)=>r===void 0||e.skipNull&&r===null||e.skipEmptyString&&r===""?n:r===null?[...n,[qe(t,e),"[]"].join("")]:[...n,[qe(t,e),"[]=",qe(r,e)].join("")];case"colon-list-separator":return t=>(n,r)=>r===void 0||e.skipNull&&r===null||e.skipEmptyString&&r===""?n:r===null?[...n,[qe(t,e),":list="].join("")]:[...n,[qe(t,e),":list=",qe(r,e)].join("")];case"comma":case"separator":case"bracket-separator":{const t=e.arrayFormat==="bracket-separator"?"[]=":"=";return n=>(r,i)=>i===void 0||e.skipNull&&i===null||e.skipEmptyString&&i===""?r:(i=i===null?"":i,r.length===0?[[qe(n,e),t,qe(i,e)].join("")]:[[r,qe(i,e)].join(e.arrayFormatSeparator)])}default:return t=>(n,r)=>r===void 0||e.skipNull&&r===null||e.skipEmptyString&&r===""?n:r===null?[...n,qe(t,e)]:[...n,[qe(t,e),"=",qe(r,e)].join("")]}}function Eb(e){let t;switch(e.arrayFormat){case"index":return(n,r,i)=>{if(t=/\[(\d*)]$/.exec(n),n=n.replace(/\[\d*]$/,""),!t){i[n]=r;return}i[n]===void 0&&(i[n]={}),i[n][t[1]]=r};case"bracket":return(n,r,i)=>{if(t=/(\[])$/.exec(n),n=n.replace(/\[]$/,""),!t){i[n]=r;return}if(i[n]===void 0){i[n]=[r];return}i[n]=[...i[n],r]};case"colon-list-separator":return(n,r,i)=>{if(t=/(:list)$/.exec(n),n=n.replace(/:list$/,""),!t){i[n]=r;return}if(i[n]===void 0){i[n]=[r];return}i[n]=[...i[n],r]};case"comma":case"separator":return(n,r,i)=>{const s=typeof r=="string"&&r.includes(e.arrayFormatSeparator),o=typeof r=="string"&&!s&&zt(r,e).includes(e.arrayFormatSeparator);r=o?zt(r,e):r;const c=s||o?r.split(e.arrayFormatSeparator).map(f=>zt(f,e)):r===null?r:zt(r,e);i[n]=c};case"bracket-separator":return(n,r,i)=>{const s=/(\[])$/.test(n);if(n=n.replace(/\[]$/,""),!s){i[n]=r&&zt(r,e);return}const o=r===null?[]:r.split(e.arrayFormatSeparator).map(c=>zt(c,e));if(i[n]===void 0){i[n]=o;return}i[n]=[...i[n],...o]};default:return(n,r,i)=>{if(i[n]===void 0){i[n]=r;return}i[n]=[...[i[n]].flat(),r]}}}function Md(e){if(typeof e!="string"||e.length!==1)throw new TypeError("arrayFormatSeparator must be single character string")}function qe(e,t){return t.encode?t.strict?vb(e):encodeURIComponent(e):e}function zt(e,t){return t.decode?mb(e):e}function kd(e){return Array.isArray(e)?e.sort():typeof e=="object"?kd(Object.keys(e)).sort((t,n)=>Number(t)-Number(n)).map(t=>e[t]):e}function Nd(e){const t=e.indexOf("#");return t!==-1&&(e=e.slice(0,t)),e}function xb(e){let t="";const n=e.indexOf("#");return n!==-1&&(t=e.slice(n)),t}function uc(e,t){return t.parseNumbers&&!Number.isNaN(Number(e))&&typeof e=="string"&&e.trim()!==""?e=Number(e):t.parseBooleans&&e!==null&&(e.toLowerCase()==="true"||e.toLowerCase()==="false")&&(e=e.toLowerCase()==="true"),e}function ha(e){e=Nd(e);const t=e.indexOf("?");return t===-1?"":e.slice(t+1)}function pa(e,t){t={decode:!0,sort:!0,arrayFormat:"none",arrayFormatSeparator:",",parseNumbers:!1,parseBooleans:!1,...t},Md(t.arrayFormatSeparator);const n=Eb(t),r=Object.create(null);if(typeof e!="string"||(e=e.trim().replace(/^[?#&]/,""),!e))return r;for(const i of e.split("&")){if(i==="")continue;const s=t.decode?i.replaceAll("+"," "):i;let[o,c]=Dd(s,"=");o===void 0&&(o=s),c=c===void 0?null:["comma","separator","bracket-separator"].includes(t.arrayFormat)?c:zt(c,t),n(zt(o,t),c,r)}for(const[i,s]of Object.entries(r))if(typeof s=="object"&&s!==null)for(const[o,c]of Object.entries(s))s[o]=uc(c,t);else r[i]=uc(s,t);return t.sort===!1?r:(t.sort===!0?Object.keys(r).sort():Object.keys(r).sort(t.sort)).reduce((i,s)=>{const o=r[s];return i[s]=o&&typeof o=="object"&&!Array.isArray(o)?kd(o):o,i},Object.create(null))}function jd(e,t){if(!e)return"";t={encode:!0,strict:!0,arrayFormat:"none",arrayFormatSeparator:",",...t},Md(t.arrayFormatSeparator);const n=o=>t.skipNull&&gb(e[o])||t.skipEmptyString&&e[o]==="",r=yb(t),i={};for(const[o,c]of Object.entries(e))n(o)||(i[o]=c);const s=Object.keys(i);return t.sort!==!1&&s.sort(t.sort),s.map(o=>{const c=e[o];return c===void 0?"":c===null?qe(o,t):Array.isArray(c)?c.length===0&&t.arrayFormat==="bracket-separator"?qe(o,t)+"[]":c.reduce(r(o),[]).join("&"):qe(o,t)+"="+qe(c,t)}).filter(o=>o.length>0).join("&")}function Ud(e,t){var i;t={decode:!0,...t};let[n,r]=Dd(e,"#");return n===void 0&&(n=e),{url:((i=n==null?void 0:n.split("?"))==null?void 0:i[0])??"",query:pa(ha(e),t),...t&&t.parseFragmentIdentifier&&r?{fragmentIdentifier:zt(r,t)}:{}}}function Vd(e,t){t={encode:!0,strict:!0,[xo]:!0,...t};const n=Nd(e.url).split("?")[0]||"",r=ha(e.url),i={...pa(r,{sort:!1}),...e.query};let s=jd(i,t);s&&(s=`?${s}`);let o=xb(e.url);if(typeof e.fragmentIdentifier=="string"){const c=new URL(n);c.hash=e.fragmentIdentifier,o=t[xo]?c.hash:`#${e.fragmentIdentifier}`}return`${n}${s}${o}`}function Hd(e,t,n){n={parseFragmentIdentifier:!0,[xo]:!1,...n};const{url:r,query:i,fragmentIdentifier:s}=Ud(e,n);return Vd({url:r,query:_b(i,t),fragmentIdentifier:s},n)}function bb(e,t,n){const r=Array.isArray(t)?i=>!t.includes(i):(i,s)=>!t(i,s);return Hd(e,r,n)}const Sb=Object.freeze(Object.defineProperty({__proto__:null,exclude:bb,extract:ha,parse:pa,parseUrl:Ud,pick:Hd,stringify:jd,stringifyUrl:Vd},Symbol.toStringTag,{value:"Module"})),Hi=le({token:"",srand:""}),ms=be(()=>({"edger-token":Hi.value.token,"edger-srand":Hi.value.srand})),wb=be(()=>Sb.stringify(ms.value));async function Ab(){Bt.onAction("token",n=>{const{token:r,srand:i}=n;Hi.value={token:r,srand:i}});const{token:e,srand:t}=await Bt.token();Hi.value={token:e,srand:t}}const Vr=cv({combination:"overwrite",options:{async beforeFetch({options:e}){return e.headers={...e.headers,...ms.value},{options:e}}}}),Cb={class:"custom-button"},Lb={class:"custom-button start-btn"},Rb={class:"custom-button end-btn"},Tb=Ce({__name:"DeviceLight",props:{data:null,devid:null},emits:["update:data"],setup(e,{emit:t}){const n=e,r=t,{data:i}=Rd(n,r),s=be({get(){return i.value.state==="on"},set(f){i.value.state=f?"on":"off"}}),o=be({get(){return`#${i.value.color.map(f=>f.toString(16).padStart(2,"0")).join("")}`},set(f){i.value.color=[Number.parseInt(f.slice(1,3),16),Number.parseInt(f.slice(3,5),16),Number.parseInt(f.slice(5,7),16)]}}),c=be({get(){return[i.value.start,i.value.end]},set(f){[i.value.start,i.value.end]=f}});return Ld(i,()=>{Vr("/api/device/control").post({value:wd(n.devid).set({...i.value,start:c.value[0],end:c.value[1]}).value}).json()},{debounce:300,maxWait:1e3,deep:!0}),(f,d)=>{const u=pd,a=lr,l=Vg,h=ri;return Ke(),at(h,{inset:""},{default:me(()=>[B(a,{title:""},{default:me(()=>[B(u,{modelValue:Ee(s),"onUpdate:modelValue":d[0]||(d[0]=g=>Me(s)?s.value=g:null)},null,8,["modelValue"])]),_:1}),B(a,{title:""},{label:me(()=>[B(l,{modelValue:Ee(i).bright,"onUpdate:modelValue":d[1]||(d[1]=g=>Ee(i).bright=g),"mt-2em":"",max:"255"},{button:me(()=>[Le("div",Cb,ft(Ee(i).bright),1)]),_:1},8,["modelValue"])]),_:1}),B(a,{title:""},{default:me(()=>[Xr(Le("input",{"onUpdate:modelValue":d[2]||(d[2]=g=>Me(o)?o.value=g:null),type:"color"},null,512),[[Zm,Ee(o)]])]),_:1}),B(a,{title:""},{label:me(()=>[B(l,{modelValue:Ee(c),"onUpdate:modelValue":d[3]||(d[3]=g=>Me(c)?c.value=g:null),range:"","mt-2em":"",max:"150"},{"left-button":me(()=>[Le("div",Lb,ft(Ee(c)[0]),1)]),"right-button":me(()=>[Le("div",Rb,ft(Ee(c)[1]),1)]),_:1},8,["modelValue"])]),_:1})]),_:1})}}}),Ob=Ce({__name:"DevicePlug",props:{state:null,devid:null},emits:["update:state"],setup(e,{emit:t}){const n=e,r=t,{state:i}=Rd(n,r),s=be({get(){return i.value==="on"},set(o){i.value=o?"on":"off"}});return Ld(i,()=>{Vr("/api/device/control").post({value:wd(n.devid).set({state:i.value}).value}).json()},{debounce:300,maxWait:1e3}),(o,c)=>{const f=pd,d=lr,u=ri;return Ke(),at(u,{inset:""},{default:me(()=>[B(d,{title:""},{default:me(()=>[B(f,{modelValue:Ee(s),"onUpdate:modelValue":c[0]||(c[0]=a=>Me(s)?s.value=a:null)},null,8,["modelValue"])]),_:1})]),_:1})}}}),Pb={"w-100vw":""},Ib=Ce({__name:"action",setup(e){const t={plug:"i-iconoir:plug-type-g","light.belt":"i-material-symbols:lightbulb-outline-rounded"},n=le([]),{isFetching:r,data:i,execute:s}=Vr("/api/device/list").json(),o=le({list:[]});xf(async()=>{o.value.list=i.value.list||[]});function c(){s()}return(f,d)=>{const u=md,a=Ob,l=Tb,h=fg,g=og,E=ri,y=xd;return Ke(),at(y,{modelValue:Ee(r),"onUpdate:modelValue":d[1]||(d[1]=m=>Me(r)?r.value=m:null),onRefresh:c},{default:me(()=>[Le("div",Pb,[B(E,{title:""},{default:me(()=>[B(g,{modelValue:Ee(n),"onUpdate:modelValue":d[0]||(d[0]=m=>Me(n)?n.value=m:null),title:""},{default:me(()=>[(Ke(!0),xn(Qe,null,Rf(Ee(o).list||[],(m,_)=>(Ke(),at(h,{key:_,label:m.devid,name:_,disabled:!m.online||null},{title:me(()=>[Xt(ft(m.label)+" ",1),B(u,{type:m.online?"success":"danger",plain:""},{default:me(()=>[Xt(ft(m.online?"":""),1)]),_:2},1032,["type"])]),icon:me(()=>[Le("span",{class:Jn(t[m.type]),"m-auto":"","mr-0.5em":"","text-lg":""},null,2)]),default:me(()=>[Xt(" "+ft(m.state)+" ",1),m.type==="plug"?(Ke(),at(a,{key:0,state:m.state.state,"onUpdate:state":x=>m.state.state=x,devid:m.devid},null,8,["state","onUpdate:state","devid"])):(Ke(),at(l,{key:1,data:m.state,"onUpdate:data":x=>m.state=x,devid:m.devid},null,8,["data","onUpdate:data","devid"]))]),_:2},1032,["label","name","disabled"]))),128))]),_:1},8,["modelValue"])]),_:1})])]),_:1},8,["modelValue"])}}});function Kd(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function Fb(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var n=function r(){return this instanceof r?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};n.prototype=t.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(e).forEach(function(r){var i=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(n,r,i.get?i:{enumerable:!0,get:function(){return e[r]}})}),n}var Wd={exports:{}};(function(e,t){(function(r,i){e.exports=i()})(self,function(){return function(){var n={"./node_modules/es6-promise/dist/es6-promise.js":function(o,c,f){/*!
 * @overview es6-promise - a tiny implementation of Promises/A+.
 * @copyright Copyright (c) 2014 Yehuda Katz, Tom Dale, Stefan Penner and contributors (Conversion to ES6 API by Jake Archibald)
 * @license   Licensed under MIT license
 *            See https://raw.githubusercontent.com/stefanpenner/es6-promise/master/LICENSE
 * @version   v4.2.8+1e68dce6
 */(function(d,u){o.exports=u()})(this,function(){function d(j){var $=typeof j;return j!==null&&($==="object"||$==="function")}function u(j){return typeof j=="function"}var a=void 0;Array.isArray?a=Array.isArray:a=function(j){return Object.prototype.toString.call(j)==="[object Array]"};var l=a,h=0,g=void 0,E=void 0,y=function($,Z){O[h]=$,O[h+1]=Z,h+=2,h===2&&(E?E(D):M())};function m(j){E=j}function _(j){y=j}var x=typeof window<"u"?window:void 0,p=x||{},v=p.MutationObserver||p.WebKitMutationObserver,b=typeof self>"u"&&typeof process<"u"&&{}.toString.call(process)==="[object process]",w=typeof Uint8ClampedArray<"u"&&typeof importScripts<"u"&&typeof MessageChannel<"u";function A(){return function(){return process.nextTick(D)}}function T(){return typeof g<"u"?function(){g(D)}:C()}function P(){var j=0,$=new v(D),Z=document.createTextNode("");return $.observe(Z,{characterData:!0}),function(){Z.data=j=++j%2}}function R(){var j=new MessageChannel;return j.port1.onmessage=D,function(){return j.port2.postMessage(0)}}function C(){var j=setTimeout;return function(){return j(D,1)}}var O=new Array(1e3);function D(){for(var j=0;j<h;j+=2){var $=O[j],Z=O[j+1];$(Z),O[j]=void 0,O[j+1]=void 0}h=0}function N(){try{var j=Function("return this")().require("vertx");return g=j.runOnLoop||j.runOnContext,T()}catch{return C()}}var M=void 0;b?M=A():v?M=P():w?M=R():x===void 0?M=N():M=C();function U(j,$){var Z=this,ue=new this.constructor(ne);ue[ie]===void 0&&X(ue);var ge=Z._state;if(ge){var we=arguments[ge-1];y(function(){return K(ge,ue,we,Z._result)})}else I(Z,ue,j,$);return ue}function Q(j){var $=this;if(j&&typeof j=="object"&&j.constructor===$)return j;var Z=new $(ne);return z(Z,j),Z}var ie=Math.random().toString(36).substring(2);function ne(){}var de=void 0,he=1,se=2;function oe(){return new TypeError("You cannot resolve a promise with itself")}function je(){return new TypeError("A promises callback cannot return that same promise.")}function ve(j,$,Z,ue){try{j.call($,Z,ue)}catch(ge){return ge}}function F(j,$,Z){y(function(ue){var ge=!1,we=ve(Z,$,function(Fe){ge||(ge=!0,$!==Fe?z(ue,Fe):re(ue,Fe))},function(Fe){ge||(ge=!0,L(ue,Fe))},"Settle: "+(ue._label||" unknown promise"));!ge&&we&&(ge=!0,L(ue,we))},j)}function W(j,$){$._state===he?re(j,$._result):$._state===se?L(j,$._result):I($,void 0,function(Z){return z(j,Z)},function(Z){return L(j,Z)})}function V(j,$,Z){$.constructor===j.constructor&&Z===U&&$.constructor.resolve===Q?W(j,$):Z===void 0?re(j,$):u(Z)?F(j,$,Z):re(j,$)}function z(j,$){if(j===$)L(j,oe());else if(d($)){var Z=void 0;try{Z=$.then}catch(ue){L(j,ue);return}V(j,$,Z)}else re(j,$)}function ae(j){j._onerror&&j._onerror(j._result),k(j)}function re(j,$){j._state===de&&(j._result=$,j._state=he,j._subscribers.length!==0&&y(k,j))}function L(j,$){j._state===de&&(j._state=se,j._result=$,y(ae,j))}function I(j,$,Z,ue){var ge=j._subscribers,we=ge.length;j._onerror=null,ge[we]=$,ge[we+he]=Z,ge[we+se]=ue,we===0&&j._state&&y(k,j)}function k(j){var $=j._subscribers,Z=j._state;if($.length!==0){for(var ue=void 0,ge=void 0,we=j._result,Fe=0;Fe<$.length;Fe+=3)ue=$[Fe],ge=$[Fe+Z],ue?K(Z,ue,ge,we):ge(we);j._subscribers.length=0}}function K(j,$,Z,ue){var ge=u(Z),we=void 0,Fe=void 0,tt=!0;if(ge){try{we=Z(ue)}catch(bn){tt=!1,Fe=bn}if($===we){L($,je());return}}else we=ue;$._state!==de||(ge&&tt?z($,we):tt===!1?L($,Fe):j===he?re($,we):j===se&&L($,we))}function H(j,$){try{$(function(ue){z(j,ue)},function(ue){L(j,ue)})}catch(Z){L(j,Z)}}var q=0;function ee(){return q++}function X(j){j[ie]=q++,j._state=void 0,j._result=void 0,j._subscribers=[]}function J(){return new Error("Array Methods must be provided an Array")}var G=function(){function j($,Z){this._instanceConstructor=$,this.promise=new $(ne),this.promise[ie]||X(this.promise),l(Z)?(this.length=Z.length,this._remaining=Z.length,this._result=new Array(this.length),this.length===0?re(this.promise,this._result):(this.length=this.length||0,this._enumerate(Z),this._remaining===0&&re(this.promise,this._result))):L(this.promise,J())}return j.prototype._enumerate=function(Z){for(var ue=0;this._state===de&&ue<Z.length;ue++)this._eachEntry(Z[ue],ue)},j.prototype._eachEntry=function(Z,ue){var ge=this._instanceConstructor,we=ge.resolve;if(we===Q){var Fe=void 0,tt=void 0,bn=!1;try{Fe=Z.then}catch(Ss){bn=!0,tt=Ss}if(Fe===U&&Z._state!==de)this._settledAt(Z._state,ue,Z._result);else if(typeof Fe!="function")this._remaining--,this._result[ue]=Z;else if(ge===ye){var bs=new ge(ne);bn?L(bs,tt):V(bs,Z,Fe),this._willSettleAt(bs,ue)}else this._willSettleAt(new ge(function(Ss){return Ss(Z)}),ue)}else this._willSettleAt(we(Z),ue)},j.prototype._settledAt=function(Z,ue,ge){var we=this.promise;we._state===de&&(this._remaining--,Z===se?L(we,ge):this._result[ue]=ge),this._remaining===0&&re(we,this._result)},j.prototype._willSettleAt=function(Z,ue){var ge=this;I(Z,void 0,function(we){return ge._settledAt(he,ue,we)},function(we){return ge._settledAt(se,ue,we)})},j}();function te(j){return new G(this,j).promise}function ce(j){var $=this;return l(j)?new $(function(Z,ue){for(var ge=j.length,we=0;we<ge;we++)$.resolve(j[we]).then(Z,ue)}):new $(function(Z,ue){return ue(new TypeError("You must pass an array to race."))})}function fe(j){var $=this,Z=new $(ne);return L(Z,j),Z}function _e(){throw new TypeError("You must pass a resolver function as the first argument to the promise constructor")}function Ae(){throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.")}var ye=function(){function j($){this[ie]=ee(),this._result=this._state=void 0,this._subscribers=[],ne!==$&&(typeof $!="function"&&_e(),this instanceof j?H(this,$):Ae())}return j.prototype.catch=function(Z){return this.then(null,Z)},j.prototype.finally=function(Z){var ue=this,ge=ue.constructor;return u(Z)?ue.then(function(we){return ge.resolve(Z()).then(function(){return we})},function(we){return ge.resolve(Z()).then(function(){throw we})}):ue.then(Z,Z)},j}();ye.prototype.then=U,ye.all=te,ye.race=ce,ye.resolve=Q,ye.reject=fe,ye._setScheduler=m,ye._setAsap=_,ye._asap=y;function Ue(){var j=void 0;if(typeof f.g<"u")j=f.g;else if(typeof self<"u")j=self;else try{j=Function("return this")()}catch{throw new Error("polyfill failed because global object is unavailable in this environment")}var $=j.Promise;if($){var Z=null;try{Z=Object.prototype.toString.call($.resolve())}catch{}if(Z==="[object Promise]"&&!$.cast)return}j.Promise=ye}return ye.polyfill=Ue,ye.Promise=ye,ye})},"./node_modules/events/events.js":function(o){var c=typeof Reflect=="object"?Reflect:null,f=c&&typeof c.apply=="function"?c.apply:function(C,O,D){return Function.prototype.apply.call(C,O,D)},d;c&&typeof c.ownKeys=="function"?d=c.ownKeys:Object.getOwnPropertySymbols?d=function(C){return Object.getOwnPropertyNames(C).concat(Object.getOwnPropertySymbols(C))}:d=function(C){return Object.getOwnPropertyNames(C)};function u(R){console&&console.warn&&console.warn(R)}var a=Number.isNaN||function(C){return C!==C};function l(){l.init.call(this)}o.exports=l,o.exports.once=A,l.EventEmitter=l,l.prototype._events=void 0,l.prototype._eventsCount=0,l.prototype._maxListeners=void 0;var h=10;function g(R){if(typeof R!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof R)}Object.defineProperty(l,"defaultMaxListeners",{enumerable:!0,get:function(){return h},set:function(R){if(typeof R!="number"||R<0||a(R))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+R+".");h=R}}),l.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},l.prototype.setMaxListeners=function(C){if(typeof C!="number"||C<0||a(C))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+C+".");return this._maxListeners=C,this};function E(R){return R._maxListeners===void 0?l.defaultMaxListeners:R._maxListeners}l.prototype.getMaxListeners=function(){return E(this)},l.prototype.emit=function(C){for(var O=[],D=1;D<arguments.length;D++)O.push(arguments[D]);var N=C==="error",M=this._events;if(M!==void 0)N=N&&M.error===void 0;else if(!N)return!1;if(N){var U;if(O.length>0&&(U=O[0]),U instanceof Error)throw U;var Q=new Error("Unhandled error."+(U?" ("+U.message+")":""));throw Q.context=U,Q}var ie=M[C];if(ie===void 0)return!1;if(typeof ie=="function")f(ie,this,O);else for(var ne=ie.length,de=v(ie,ne),D=0;D<ne;++D)f(de[D],this,O);return!0};function y(R,C,O,D){var N,M,U;if(g(O),M=R._events,M===void 0?(M=R._events=Object.create(null),R._eventsCount=0):(M.newListener!==void 0&&(R.emit("newListener",C,O.listener?O.listener:O),M=R._events),U=M[C]),U===void 0)U=M[C]=O,++R._eventsCount;else if(typeof U=="function"?U=M[C]=D?[O,U]:[U,O]:D?U.unshift(O):U.push(O),N=E(R),N>0&&U.length>N&&!U.warned){U.warned=!0;var Q=new Error("Possible EventEmitter memory leak detected. "+U.length+" "+String(C)+" listeners added. Use emitter.setMaxListeners() to increase limit");Q.name="MaxListenersExceededWarning",Q.emitter=R,Q.type=C,Q.count=U.length,u(Q)}return R}l.prototype.addListener=function(C,O){return y(this,C,O,!1)},l.prototype.on=l.prototype.addListener,l.prototype.prependListener=function(C,O){return y(this,C,O,!0)};function m(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function _(R,C,O){var D={fired:!1,wrapFn:void 0,target:R,type:C,listener:O},N=m.bind(D);return N.listener=O,D.wrapFn=N,N}l.prototype.once=function(C,O){return g(O),this.on(C,_(this,C,O)),this},l.prototype.prependOnceListener=function(C,O){return g(O),this.prependListener(C,_(this,C,O)),this},l.prototype.removeListener=function(C,O){var D,N,M,U,Q;if(g(O),N=this._events,N===void 0)return this;if(D=N[C],D===void 0)return this;if(D===O||D.listener===O)--this._eventsCount===0?this._events=Object.create(null):(delete N[C],N.removeListener&&this.emit("removeListener",C,D.listener||O));else if(typeof D!="function"){for(M=-1,U=D.length-1;U>=0;U--)if(D[U]===O||D[U].listener===O){Q=D[U].listener,M=U;break}if(M<0)return this;M===0?D.shift():b(D,M),D.length===1&&(N[C]=D[0]),N.removeListener!==void 0&&this.emit("removeListener",C,Q||O)}return this},l.prototype.off=l.prototype.removeListener,l.prototype.removeAllListeners=function(C){var O,D,N;if(D=this._events,D===void 0)return this;if(D.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):D[C]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete D[C]),this;if(arguments.length===0){var M=Object.keys(D),U;for(N=0;N<M.length;++N)U=M[N],U!=="removeListener"&&this.removeAllListeners(U);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(O=D[C],typeof O=="function")this.removeListener(C,O);else if(O!==void 0)for(N=O.length-1;N>=0;N--)this.removeListener(C,O[N]);return this};function x(R,C,O){var D=R._events;if(D===void 0)return[];var N=D[C];return N===void 0?[]:typeof N=="function"?O?[N.listener||N]:[N]:O?w(N):v(N,N.length)}l.prototype.listeners=function(C){return x(this,C,!0)},l.prototype.rawListeners=function(C){return x(this,C,!1)},l.listenerCount=function(R,C){return typeof R.listenerCount=="function"?R.listenerCount(C):p.call(R,C)},l.prototype.listenerCount=p;function p(R){var C=this._events;if(C!==void 0){var O=C[R];if(typeof O=="function")return 1;if(O!==void 0)return O.length}return 0}l.prototype.eventNames=function(){return this._eventsCount>0?d(this._events):[]};function v(R,C){for(var O=new Array(C),D=0;D<C;++D)O[D]=R[D];return O}function b(R,C){for(;C+1<R.length;C++)R[C]=R[C+1];R.pop()}function w(R){for(var C=new Array(R.length),O=0;O<C.length;++O)C[O]=R[O].listener||R[O];return C}function A(R,C){return new Promise(function(O,D){function N(U){R.removeListener(C,M),D(U)}function M(){typeof R.removeListener=="function"&&R.removeListener("error",N),O([].slice.call(arguments))}P(R,C,M,{once:!0}),C!=="error"&&T(R,N,{once:!0})})}function T(R,C,O){typeof R.on=="function"&&P(R,"error",C,O)}function P(R,C,O,D){if(typeof R.on=="function")D.once?R.once(C,O):R.on(C,O);else if(typeof R.addEventListener=="function")R.addEventListener(C,function N(M){D.once&&R.removeEventListener(C,N),O(M)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof R)}},"./node_modules/webworkify-webpack/index.js":function(o,c,f){function d(m){var _={};function x(v){if(_[v])return _[v].exports;var b=_[v]={i:v,l:!1,exports:{}};return m[v].call(b.exports,b,b.exports,x),b.l=!0,b.exports}x.m=m,x.c=_,x.i=function(v){return v},x.d=function(v,b,w){x.o(v,b)||Object.defineProperty(v,b,{configurable:!1,enumerable:!0,get:w})},x.r=function(v){Object.defineProperty(v,"__esModule",{value:!0})},x.n=function(v){var b=v&&v.__esModule?function(){return v.default}:function(){return v};return x.d(b,"a",b),b},x.o=function(v,b){return Object.prototype.hasOwnProperty.call(v,b)},x.p="/",x.oe=function(v){throw console.error(v),v};var p=x(x.s=ENTRY_MODULE);return p.default||p}var u="[\\.|\\-|\\+|\\w|/|@]+",a="\\(\\s*(/\\*.*?\\*/)?\\s*.*?("+u+").*?\\)";function l(m){return(m+"").replace(/[.?*+^$[\]\\(){}|-]/g,"\\$&")}function h(m){return!isNaN(1*m)}function g(m,_,x){var p={};p[x]=[];var v=_.toString(),b=v.match(/^function\s?\w*\(\w+,\s*\w+,\s*(\w+)\)/);if(!b)return p;for(var w=b[1],A=new RegExp("(\\\\n|\\W)"+l(w)+a,"g"),T;T=A.exec(v);)T[3]!=="dll-reference"&&p[x].push(T[3]);for(A=new RegExp("\\("+l(w)+'\\("(dll-reference\\s('+u+'))"\\)\\)'+a,"g");T=A.exec(v);)m[T[2]]||(p[x].push(T[1]),m[T[2]]=f(T[1]).m),p[T[2]]=p[T[2]]||[],p[T[2]].push(T[4]);for(var P=Object.keys(p),R=0;R<P.length;R++)for(var C=0;C<p[P[R]].length;C++)h(p[P[R]][C])&&(p[P[R]][C]=1*p[P[R]][C]);return p}function E(m){var _=Object.keys(m);return _.reduce(function(x,p){return x||m[p].length>0},!1)}function y(m,_){for(var x={main:[_]},p={main:[]},v={main:{}};E(x);)for(var b=Object.keys(x),w=0;w<b.length;w++){var A=b[w],T=x[A],P=T.pop();if(v[A]=v[A]||{},!(v[A][P]||!m[A][P])){v[A][P]=!0,p[A]=p[A]||[],p[A].push(P);for(var R=g(m,m[A][P],A),C=Object.keys(R),O=0;O<C.length;O++)x[C[O]]=x[C[O]]||[],x[C[O]]=x[C[O]].concat(R[C[O]])}}return p}o.exports=function(m,_){_=_||{};var x={main:f.m},p=_.all?{main:Object.keys(x.main)}:y(x,m),v="";Object.keys(p).filter(function(P){return P!=="main"}).forEach(function(P){for(var R=0;p[P][R];)R++;p[P].push(R),x[P][R]="(function(module, exports, __webpack_require__) { module.exports = __webpack_require__; })",v=v+"var "+P+" = ("+d.toString().replace("ENTRY_MODULE",JSON.stringify(R))+")({"+p[P].map(function(C){return""+JSON.stringify(C)+": "+x[P][C].toString()}).join(",")+`});
`}),v=v+"new (("+d.toString().replace("ENTRY_MODULE",JSON.stringify(m))+")({"+p.main.map(function(P){return""+JSON.stringify(P)+": "+x.main[P].toString()}).join(",")+"}))(self);";var b=new window.Blob([v],{type:"text/javascript"});if(_.bare)return b;var w=window.URL||window.webkitURL||window.mozURL||window.msURL,A=w.createObjectURL(b),T=new window.Worker(A);return T.objectURL=A,T}},"./src/config.js":function(o,c,f){f.r(c),f.d(c,{defaultConfig:function(){return d},createDefaultConfig:function(){return u}});var d={enableWorker:!1,enableStashBuffer:!0,stashInitialSize:void 0,isLive:!1,lazyLoad:!0,lazyLoadMaxDuration:3*60,lazyLoadRecoverDuration:30,deferLoadAfterSourceOpen:!0,autoCleanupMaxBackwardDuration:3*60,autoCleanupMinBackwardDuration:2*60,statisticsInfoReportInterval:600,fixAudioTimestampGap:!0,accurateSeek:!1,seekType:"range",seekParamStart:"bstart",seekParamEnd:"bend",rangeLoadZeroStart:!1,customSeekHandler:void 0,reuseRedirectedURL:!1,headers:void 0,customLoader:void 0};function u(){return Object.assign({},d)}},"./src/core/features.js":function(o,c,f){f.r(c);var d=f("./src/io/io-controller.js"),u=f("./src/config.js"),a=function(){function l(){}return l.supportMSEH264Playback=function(){return window.MediaSource&&window.MediaSource.isTypeSupported('video/mp4; codecs="avc1.42E01E,mp4a.40.2"')},l.supportNetworkStreamIO=function(){var h=new d.default({},(0,u.createDefaultConfig)()),g=h.loaderType;return h.destroy(),g=="fetch-stream-loader"||g=="xhr-moz-chunked-loader"},l.getNetworkLoaderTypeName=function(){var h=new d.default({},(0,u.createDefaultConfig)()),g=h.loaderType;return h.destroy(),g},l.supportNativeMediaPlayback=function(h){l.videoElement==null&&(l.videoElement=window.document.createElement("video"));var g=l.videoElement.canPlayType(h);return g==="probably"||g=="maybe"},l.getFeatureList=function(){var h={mseFlvPlayback:!1,mseLiveFlvPlayback:!1,networkStreamIO:!1,networkLoaderName:"",nativeMP4H264Playback:!1,nativeWebmVP8Playback:!1,nativeWebmVP9Playback:!1};return h.mseFlvPlayback=l.supportMSEH264Playback(),h.networkStreamIO=l.supportNetworkStreamIO(),h.networkLoaderName=l.getNetworkLoaderTypeName(),h.mseLiveFlvPlayback=h.mseFlvPlayback&&h.networkStreamIO,h.nativeMP4H264Playback=l.supportNativeMediaPlayback('video/mp4; codecs="avc1.42001E, mp4a.40.2"'),h.nativeWebmVP8Playback=l.supportNativeMediaPlayback('video/webm; codecs="vp8.0, vorbis"'),h.nativeWebmVP9Playback=l.supportNativeMediaPlayback('video/webm; codecs="vp9"'),h},l}();c.default=a},"./src/core/media-info.js":function(o,c,f){f.r(c);var d=function(){function u(){this.mimeType=null,this.duration=null,this.hasAudio=null,this.hasVideo=null,this.audioCodec=null,this.videoCodec=null,this.audioDataRate=null,this.videoDataRate=null,this.audioSampleRate=null,this.audioChannelCount=null,this.width=null,this.height=null,this.fps=null,this.profile=null,this.level=null,this.refFrames=null,this.chromaFormat=null,this.sarNum=null,this.sarDen=null,this.metadata=null,this.segments=null,this.segmentCount=null,this.hasKeyframesIndex=null,this.keyframesIndex=null}return u.prototype.isComplete=function(){var a=this.hasAudio===!1||this.hasAudio===!0&&this.audioCodec!=null&&this.audioSampleRate!=null&&this.audioChannelCount!=null,l=this.hasVideo===!1||this.hasVideo===!0&&this.videoCodec!=null&&this.width!=null&&this.height!=null&&this.fps!=null&&this.profile!=null&&this.level!=null&&this.refFrames!=null&&this.chromaFormat!=null&&this.sarNum!=null&&this.sarDen!=null;return this.mimeType!=null&&this.duration!=null&&this.metadata!=null&&this.hasKeyframesIndex!=null&&a&&l},u.prototype.isSeekable=function(){return this.hasKeyframesIndex===!0},u.prototype.getNearestKeyframe=function(a){if(this.keyframesIndex==null)return null;var l=this.keyframesIndex,h=this._search(l.times,a);return{index:h,milliseconds:l.times[h],fileposition:l.filepositions[h]}},u.prototype._search=function(a,l){var h=0,g=a.length-1,E=0,y=0,m=g;for(l<a[0]&&(h=0,y=m+1);y<=m;)if(E=y+Math.floor((m-y)/2),E===g||l>=a[E]&&l<a[E+1]){h=E;break}else a[E]<l?y=E+1:m=E-1;return h},u}();c.default=d},"./src/core/media-segment-info.js":function(o,c,f){f.r(c),f.d(c,{SampleInfo:function(){return d},MediaSegmentInfo:function(){return u},IDRSampleList:function(){return a},MediaSegmentInfoList:function(){return l}});var d=function(){function h(g,E,y,m,_){this.dts=g,this.pts=E,this.duration=y,this.originalDts=m,this.isSyncPoint=_,this.fileposition=null}return h}(),u=function(){function h(){this.beginDts=0,this.endDts=0,this.beginPts=0,this.endPts=0,this.originalBeginDts=0,this.originalEndDts=0,this.syncPoints=[],this.firstSample=null,this.lastSample=null}return h.prototype.appendSyncPoint=function(g){g.isSyncPoint=!0,this.syncPoints.push(g)},h}(),a=function(){function h(){this._list=[]}return h.prototype.clear=function(){this._list=[]},h.prototype.appendArray=function(g){var E=this._list;g.length!==0&&(E.length>0&&g[0].originalDts<E[E.length-1].originalDts&&this.clear(),Array.prototype.push.apply(E,g))},h.prototype.getLastSyncPointBeforeDts=function(g){if(this._list.length==0)return null;var E=this._list,y=0,m=E.length-1,_=0,x=0,p=m;for(g<E[0].dts&&(y=0,x=p+1);x<=p;)if(_=x+Math.floor((p-x)/2),_===m||g>=E[_].dts&&g<E[_+1].dts){y=_;break}else E[_].dts<g?x=_+1:p=_-1;return this._list[y]},h}(),l=function(){function h(g){this._type=g,this._list=[],this._lastAppendLocation=-1}return Object.defineProperty(h.prototype,"type",{get:function(){return this._type},enumerable:!1,configurable:!0}),Object.defineProperty(h.prototype,"length",{get:function(){return this._list.length},enumerable:!1,configurable:!0}),h.prototype.isEmpty=function(){return this._list.length===0},h.prototype.clear=function(){this._list=[],this._lastAppendLocation=-1},h.prototype._searchNearestSegmentBefore=function(g){var E=this._list;if(E.length===0)return-2;var y=E.length-1,m=0,_=0,x=y,p=0;if(g<E[0].originalBeginDts)return p=-1,p;for(;_<=x;)if(m=_+Math.floor((x-_)/2),m===y||g>E[m].lastSample.originalDts&&g<E[m+1].originalBeginDts){p=m;break}else E[m].originalBeginDts<g?_=m+1:x=m-1;return p},h.prototype._searchNearestSegmentAfter=function(g){return this._searchNearestSegmentBefore(g)+1},h.prototype.append=function(g){var E=this._list,y=g,m=this._lastAppendLocation,_=0;m!==-1&&m<E.length&&y.originalBeginDts>=E[m].lastSample.originalDts&&(m===E.length-1||m<E.length-1&&y.originalBeginDts<E[m+1].originalBeginDts)?_=m+1:E.length>0&&(_=this._searchNearestSegmentBefore(y.originalBeginDts)+1),this._lastAppendLocation=_,this._list.splice(_,0,y)},h.prototype.getLastSegmentBefore=function(g){var E=this._searchNearestSegmentBefore(g);return E>=0?this._list[E]:null},h.prototype.getLastSampleBefore=function(g){var E=this.getLastSegmentBefore(g);return E!=null?E.lastSample:null},h.prototype.getLastSyncPointBefore=function(g){for(var E=this._searchNearestSegmentBefore(g),y=this._list[E].syncPoints;y.length===0&&E>0;)E--,y=this._list[E].syncPoints;return y.length>0?y[y.length-1]:null},h}()},"./src/core/mse-controller.js":function(o,c,f){f.r(c);var d=f("./node_modules/events/events.js"),u=f.n(d),a=f("./src/utils/logger.js"),l=f("./src/utils/browser.js"),h=f("./src/core/mse-events.js"),g=f("./src/core/media-segment-info.js"),E=f("./src/utils/exception.js"),y=function(){function m(_){this.TAG="MSEController",this._config=_,this._emitter=new(u()),this._config.isLive&&this._config.autoCleanupSourceBuffer==null&&(this._config.autoCleanupSourceBuffer=!0),this.e={onSourceOpen:this._onSourceOpen.bind(this),onSourceEnded:this._onSourceEnded.bind(this),onSourceClose:this._onSourceClose.bind(this),onSourceBufferError:this._onSourceBufferError.bind(this),onSourceBufferUpdateEnd:this._onSourceBufferUpdateEnd.bind(this)},this._mediaSource=null,this._mediaSourceObjectURL=null,this._mediaElement=null,this._isBufferFull=!1,this._hasPendingEos=!1,this._requireSetMediaDuration=!1,this._pendingMediaDuration=0,this._pendingSourceBufferInit=[],this._mimeTypes={video:null,audio:null},this._sourceBuffers={video:null,audio:null},this._lastInitSegments={video:null,audio:null},this._pendingSegments={video:[],audio:[]},this._pendingRemoveRanges={video:[],audio:[]},this._idrList=new g.IDRSampleList}return m.prototype.destroy=function(){(this._mediaElement||this._mediaSource)&&this.detachMediaElement(),this.e=null,this._emitter.removeAllListeners(),this._emitter=null},m.prototype.on=function(_,x){this._emitter.addListener(_,x)},m.prototype.off=function(_,x){this._emitter.removeListener(_,x)},m.prototype.attachMediaElement=function(_){if(this._mediaSource)throw new E.IllegalStateException("MediaSource has been attached to an HTMLMediaElement!");var x=this._mediaSource=new window.MediaSource;x.addEventListener("sourceopen",this.e.onSourceOpen),x.addEventListener("sourceended",this.e.onSourceEnded),x.addEventListener("sourceclose",this.e.onSourceClose),this._mediaElement=_,this._mediaSourceObjectURL=window.URL.createObjectURL(this._mediaSource),_.src=this._mediaSourceObjectURL},m.prototype.detachMediaElement=function(){if(this._mediaSource){var _=this._mediaSource;for(var x in this._sourceBuffers){var p=this._pendingSegments[x];p.splice(0,p.length),this._pendingSegments[x]=null,this._pendingRemoveRanges[x]=null,this._lastInitSegments[x]=null;var v=this._sourceBuffers[x];if(v){if(_.readyState!=="closed"){try{_.removeSourceBuffer(v)}catch(b){a.default.e(this.TAG,b.message)}v.removeEventListener("error",this.e.onSourceBufferError),v.removeEventListener("updateend",this.e.onSourceBufferUpdateEnd)}this._mimeTypes[x]=null,this._sourceBuffers[x]=null}}if(_.readyState==="open")try{_.endOfStream()}catch(b){a.default.e(this.TAG,b.message)}_.removeEventListener("sourceopen",this.e.onSourceOpen),_.removeEventListener("sourceended",this.e.onSourceEnded),_.removeEventListener("sourceclose",this.e.onSourceClose),this._pendingSourceBufferInit=[],this._isBufferFull=!1,this._idrList.clear(),this._mediaSource=null}this._mediaElement&&(this._mediaElement.src="",this._mediaElement.removeAttribute("src"),this._mediaElement=null),this._mediaSourceObjectURL&&(window.URL.revokeObjectURL(this._mediaSourceObjectURL),this._mediaSourceObjectURL=null)},m.prototype.appendInitSegment=function(_,x){if(!this._mediaSource||this._mediaSource.readyState!=="open"){this._pendingSourceBufferInit.push(_),this._pendingSegments[_.type].push(_);return}var p=_,v=""+p.container;p.codec&&p.codec.length>0&&(v+=";codecs="+p.codec);var b=!1;if(a.default.v(this.TAG,"Received Initialization Segment, mimeType: "+v),this._lastInitSegments[p.type]=p,v!==this._mimeTypes[p.type]){if(this._mimeTypes[p.type])a.default.v(this.TAG,"Notice: "+p.type+" mimeType changed, origin: "+this._mimeTypes[p.type]+", target: "+v);else{b=!0;try{var w=this._sourceBuffers[p.type]=this._mediaSource.addSourceBuffer(v);w.addEventListener("error",this.e.onSourceBufferError),w.addEventListener("updateend",this.e.onSourceBufferUpdateEnd)}catch(A){a.default.e(this.TAG,A.message),this._emitter.emit(h.default.ERROR,{code:A.code,msg:A.message});return}}this._mimeTypes[p.type]=v}x||this._pendingSegments[p.type].push(p),b||this._sourceBuffers[p.type]&&!this._sourceBuffers[p.type].updating&&this._doAppendSegments(),l.default.safari&&p.container==="audio/mpeg"&&p.mediaDuration>0&&(this._requireSetMediaDuration=!0,this._pendingMediaDuration=p.mediaDuration/1e3,this._updateMediaSourceDuration())},m.prototype.appendMediaSegment=function(_){var x=_;this._pendingSegments[x.type].push(x),this._config.autoCleanupSourceBuffer&&this._needCleanupSourceBuffer()&&this._doCleanupSourceBuffer();var p=this._sourceBuffers[x.type];p&&!p.updating&&!this._hasPendingRemoveRanges()&&this._doAppendSegments()},m.prototype.seek=function(_){for(var x in this._sourceBuffers)if(this._sourceBuffers[x]){var p=this._sourceBuffers[x];if(this._mediaSource.readyState==="open")try{p.abort()}catch(P){a.default.e(this.TAG,P.message)}this._idrList.clear();var v=this._pendingSegments[x];if(v.splice(0,v.length),this._mediaSource.readyState!=="closed"){for(var b=0;b<p.buffered.length;b++){var w=p.buffered.start(b),A=p.buffered.end(b);this._pendingRemoveRanges[x].push({start:w,end:A})}if(p.updating||this._doRemoveRanges(),l.default.safari){var T=this._lastInitSegments[x];T&&(this._pendingSegments[x].push(T),p.updating||this._doAppendSegments())}}}},m.prototype.endOfStream=function(){var _=this._mediaSource,x=this._sourceBuffers;if(!_||_.readyState!=="open"){_&&_.readyState==="closed"&&this._hasPendingSegments()&&(this._hasPendingEos=!0);return}x.video&&x.video.updating||x.audio&&x.audio.updating?this._hasPendingEos=!0:(this._hasPendingEos=!1,_.endOfStream())},m.prototype.getNearestKeyframe=function(_){return this._idrList.getLastSyncPointBeforeDts(_)},m.prototype._needCleanupSourceBuffer=function(){if(!this._config.autoCleanupSourceBuffer)return!1;var _=this._mediaElement.currentTime;for(var x in this._sourceBuffers){var p=this._sourceBuffers[x];if(p){var v=p.buffered;if(v.length>=1&&_-v.start(0)>=this._config.autoCleanupMaxBackwardDuration)return!0}}return!1},m.prototype._doCleanupSourceBuffer=function(){var _=this._mediaElement.currentTime;for(var x in this._sourceBuffers){var p=this._sourceBuffers[x];if(p){for(var v=p.buffered,b=!1,w=0;w<v.length;w++){var A=v.start(w),T=v.end(w);if(A<=_&&_<T+3){if(_-A>=this._config.autoCleanupMaxBackwardDuration){b=!0;var P=_-this._config.autoCleanupMinBackwardDuration;this._pendingRemoveRanges[x].push({start:A,end:P})}}else T<_&&(b=!0,this._pendingRemoveRanges[x].push({start:A,end:T}))}b&&!p.updating&&this._doRemoveRanges()}}},m.prototype._updateMediaSourceDuration=function(){var _=this._sourceBuffers;if(!(this._mediaElement.readyState===0||this._mediaSource.readyState!=="open")&&!(_.video&&_.video.updating||_.audio&&_.audio.updating)){var x=this._mediaSource.duration,p=this._pendingMediaDuration;p>0&&(isNaN(x)||p>x)&&(a.default.v(this.TAG,"Update MediaSource duration from "+x+" to "+p),this._mediaSource.duration=p),this._requireSetMediaDuration=!1,this._pendingMediaDuration=0}},m.prototype._doRemoveRanges=function(){for(var _ in this._pendingRemoveRanges)if(!(!this._sourceBuffers[_]||this._sourceBuffers[_].updating))for(var x=this._sourceBuffers[_],p=this._pendingRemoveRanges[_];p.length&&!x.updating;){var v=p.shift();x.remove(v.start,v.end)}},m.prototype._doAppendSegments=function(){var _=this._pendingSegments;for(var x in _)if(!(!this._sourceBuffers[x]||this._sourceBuffers[x].updating)&&_[x].length>0){var p=_[x].shift();if(p.timestampOffset){var v=this._sourceBuffers[x].timestampOffset,b=p.timestampOffset/1e3,w=Math.abs(v-b);w>.1&&(a.default.v(this.TAG,"Update MPEG audio timestampOffset from "+v+" to "+b),this._sourceBuffers[x].timestampOffset=b),delete p.timestampOffset}if(!p.data||p.data.byteLength===0)continue;try{this._sourceBuffers[x].appendBuffer(p.data),this._isBufferFull=!1,x==="video"&&p.hasOwnProperty("info")&&this._idrList.appendArray(p.info.syncPoints)}catch(A){this._pendingSegments[x].unshift(p),A.code===22?(this._isBufferFull||this._emitter.emit(h.default.BUFFER_FULL),this._isBufferFull=!0):(a.default.e(this.TAG,A.message),this._emitter.emit(h.default.ERROR,{code:A.code,msg:A.message}))}}},m.prototype._onSourceOpen=function(){if(a.default.v(this.TAG,"MediaSource onSourceOpen"),this._mediaSource.removeEventListener("sourceopen",this.e.onSourceOpen),this._pendingSourceBufferInit.length>0)for(var _=this._pendingSourceBufferInit;_.length;){var x=_.shift();this.appendInitSegment(x,!0)}this._hasPendingSegments()&&this._doAppendSegments(),this._emitter.emit(h.default.SOURCE_OPEN)},m.prototype._onSourceEnded=function(){a.default.v(this.TAG,"MediaSource onSourceEnded")},m.prototype._onSourceClose=function(){a.default.v(this.TAG,"MediaSource onSourceClose"),this._mediaSource&&this.e!=null&&(this._mediaSource.removeEventListener("sourceopen",this.e.onSourceOpen),this._mediaSource.removeEventListener("sourceended",this.e.onSourceEnded),this._mediaSource.removeEventListener("sourceclose",this.e.onSourceClose))},m.prototype._hasPendingSegments=function(){var _=this._pendingSegments;return _.video.length>0||_.audio.length>0},m.prototype._hasPendingRemoveRanges=function(){var _=this._pendingRemoveRanges;return _.video.length>0||_.audio.length>0},m.prototype._onSourceBufferUpdateEnd=function(){this._requireSetMediaDuration?this._updateMediaSourceDuration():this._hasPendingRemoveRanges()?this._doRemoveRanges():this._hasPendingSegments()?this._doAppendSegments():this._hasPendingEos&&this.endOfStream(),this._emitter.emit(h.default.UPDATE_END)},m.prototype._onSourceBufferError=function(_){a.default.e(this.TAG,"SourceBuffer Error: "+_)},m}();c.default=y},"./src/core/mse-events.js":function(o,c,f){f.r(c);var d={ERROR:"error",SOURCE_OPEN:"source_open",UPDATE_END:"update_end",BUFFER_FULL:"buffer_full"};c.default=d},"./src/core/transmuxer.js":function(o,c,f){f.r(c);var d=f("./node_modules/events/events.js"),u=f.n(d),a=f("./node_modules/webworkify-webpack/index.js"),l=f.n(a),h=f("./src/utils/logger.js"),g=f("./src/utils/logging-control.js"),E=f("./src/core/transmuxing-controller.js"),y=f("./src/core/transmuxing-events.js"),m=f("./src/core/media-info.js"),_=function(){function x(p,v){if(this.TAG="Transmuxer",this._emitter=new(u()),v.enableWorker&&typeof Worker<"u")try{this._worker=l()("./src/core/transmuxing-worker.js"),this._workerDestroying=!1,this._worker.addEventListener("message",this._onWorkerMessage.bind(this)),this._worker.postMessage({cmd:"init",param:[p,v]}),this.e={onLoggingConfigChanged:this._onLoggingConfigChanged.bind(this)},g.default.registerListener(this.e.onLoggingConfigChanged),this._worker.postMessage({cmd:"logging_config",param:g.default.getConfig()})}catch{h.default.e(this.TAG,"Error while initialize transmuxing worker, fallback to inline transmuxing"),this._worker=null,this._controller=new E.default(p,v)}else this._controller=new E.default(p,v);if(this._controller){var b=this._controller;b.on(y.default.IO_ERROR,this._onIOError.bind(this)),b.on(y.default.DEMUX_ERROR,this._onDemuxError.bind(this)),b.on(y.default.INIT_SEGMENT,this._onInitSegment.bind(this)),b.on(y.default.MEDIA_SEGMENT,this._onMediaSegment.bind(this)),b.on(y.default.LOADING_COMPLETE,this._onLoadingComplete.bind(this)),b.on(y.default.RECOVERED_EARLY_EOF,this._onRecoveredEarlyEof.bind(this)),b.on(y.default.MEDIA_INFO,this._onMediaInfo.bind(this)),b.on(y.default.METADATA_ARRIVED,this._onMetaDataArrived.bind(this)),b.on(y.default.SCRIPTDATA_ARRIVED,this._onScriptDataArrived.bind(this)),b.on(y.default.STATISTICS_INFO,this._onStatisticsInfo.bind(this)),b.on(y.default.RECOMMEND_SEEKPOINT,this._onRecommendSeekpoint.bind(this))}}return x.prototype.destroy=function(){this._worker?this._workerDestroying||(this._workerDestroying=!0,this._worker.postMessage({cmd:"destroy"}),g.default.removeListener(this.e.onLoggingConfigChanged),this.e=null):(this._controller.destroy(),this._controller=null),this._emitter.removeAllListeners(),this._emitter=null},x.prototype.on=function(p,v){this._emitter.addListener(p,v)},x.prototype.off=function(p,v){this._emitter.removeListener(p,v)},x.prototype.hasWorker=function(){return this._worker!=null},x.prototype.open=function(){this._worker?this._worker.postMessage({cmd:"start"}):this._controller.start()},x.prototype.close=function(){this._worker?this._worker.postMessage({cmd:"stop"}):this._controller.stop()},x.prototype.seek=function(p){this._worker?this._worker.postMessage({cmd:"seek",param:p}):this._controller.seek(p)},x.prototype.pause=function(){this._worker?this._worker.postMessage({cmd:"pause"}):this._controller.pause()},x.prototype.resume=function(){this._worker?this._worker.postMessage({cmd:"resume"}):this._controller.resume()},x.prototype._onInitSegment=function(p,v){var b=this;Promise.resolve().then(function(){b._emitter.emit(y.default.INIT_SEGMENT,p,v)})},x.prototype._onMediaSegment=function(p,v){var b=this;Promise.resolve().then(function(){b._emitter.emit(y.default.MEDIA_SEGMENT,p,v)})},x.prototype._onLoadingComplete=function(){var p=this;Promise.resolve().then(function(){p._emitter.emit(y.default.LOADING_COMPLETE)})},x.prototype._onRecoveredEarlyEof=function(){var p=this;Promise.resolve().then(function(){p._emitter.emit(y.default.RECOVERED_EARLY_EOF)})},x.prototype._onMediaInfo=function(p){var v=this;Promise.resolve().then(function(){v._emitter.emit(y.default.MEDIA_INFO,p)})},x.prototype._onMetaDataArrived=function(p){var v=this;Promise.resolve().then(function(){v._emitter.emit(y.default.METADATA_ARRIVED,p)})},x.prototype._onScriptDataArrived=function(p){var v=this;Promise.resolve().then(function(){v._emitter.emit(y.default.SCRIPTDATA_ARRIVED,p)})},x.prototype._onStatisticsInfo=function(p){var v=this;Promise.resolve().then(function(){v._emitter.emit(y.default.STATISTICS_INFO,p)})},x.prototype._onIOError=function(p,v){var b=this;Promise.resolve().then(function(){b._emitter.emit(y.default.IO_ERROR,p,v)})},x.prototype._onDemuxError=function(p,v){var b=this;Promise.resolve().then(function(){b._emitter.emit(y.default.DEMUX_ERROR,p,v)})},x.prototype._onRecommendSeekpoint=function(p){var v=this;Promise.resolve().then(function(){v._emitter.emit(y.default.RECOMMEND_SEEKPOINT,p)})},x.prototype._onLoggingConfigChanged=function(p){this._worker&&this._worker.postMessage({cmd:"logging_config",param:p})},x.prototype._onWorkerMessage=function(p){var v=p.data,b=v.data;if(v.msg==="destroyed"||this._workerDestroying){this._workerDestroying=!1,this._worker.terminate(),this._worker=null;return}switch(v.msg){case y.default.INIT_SEGMENT:case y.default.MEDIA_SEGMENT:this._emitter.emit(v.msg,b.type,b.data);break;case y.default.LOADING_COMPLETE:case y.default.RECOVERED_EARLY_EOF:this._emitter.emit(v.msg);break;case y.default.MEDIA_INFO:Object.setPrototypeOf(b,m.default.prototype),this._emitter.emit(v.msg,b);break;case y.default.METADATA_ARRIVED:case y.default.SCRIPTDATA_ARRIVED:case y.default.STATISTICS_INFO:this._emitter.emit(v.msg,b);break;case y.default.IO_ERROR:case y.default.DEMUX_ERROR:this._emitter.emit(v.msg,b.type,b.info);break;case y.default.RECOMMEND_SEEKPOINT:this._emitter.emit(v.msg,b);break;case"logcat_callback":h.default.emitter.emit("log",b.type,b.logcat);break}},x}();c.default=_},"./src/core/transmuxing-controller.js":function(o,c,f){f.r(c);var d=f("./node_modules/events/events.js"),u=f.n(d),a=f("./src/utils/logger.js"),l=f("./src/utils/browser.js"),h=f("./src/core/media-info.js"),g=f("./src/demux/flv-demuxer.js"),E=f("./src/remux/mp4-remuxer.js"),y=f("./src/demux/demux-errors.js"),m=f("./src/io/io-controller.js"),_=f("./src/core/transmuxing-events.js"),x=function(){function p(v,b){this.TAG="TransmuxingController",this._emitter=new(u()),this._config=b,v.segments||(v.segments=[{duration:v.duration,filesize:v.filesize,url:v.url}]),typeof v.cors!="boolean"&&(v.cors=!0),typeof v.withCredentials!="boolean"&&(v.withCredentials=!1),this._mediaDataSource=v,this._currentSegmentIndex=0;var w=0;this._mediaDataSource.segments.forEach(function(A){A.timestampBase=w,w+=A.duration,A.cors=v.cors,A.withCredentials=v.withCredentials,b.referrerPolicy&&(A.referrerPolicy=b.referrerPolicy)}),!isNaN(w)&&this._mediaDataSource.duration!==w&&(this._mediaDataSource.duration=w),this._mediaInfo=null,this._demuxer=null,this._remuxer=null,this._ioctl=null,this._pendingSeekTime=null,this._pendingResolveSeekPoint=null,this._statisticsReporter=null}return p.prototype.destroy=function(){this._mediaInfo=null,this._mediaDataSource=null,this._statisticsReporter&&this._disableStatisticsReporter(),this._ioctl&&(this._ioctl.destroy(),this._ioctl=null),this._demuxer&&(this._demuxer.destroy(),this._demuxer=null),this._remuxer&&(this._remuxer.destroy(),this._remuxer=null),this._emitter.removeAllListeners(),this._emitter=null},p.prototype.on=function(v,b){this._emitter.addListener(v,b)},p.prototype.off=function(v,b){this._emitter.removeListener(v,b)},p.prototype.start=function(){this._loadSegment(0),this._enableStatisticsReporter()},p.prototype._loadSegment=function(v,b){this._currentSegmentIndex=v;var w=this._mediaDataSource.segments[v],A=this._ioctl=new m.default(w,this._config,v);A.onError=this._onIOException.bind(this),A.onSeeked=this._onIOSeeked.bind(this),A.onComplete=this._onIOComplete.bind(this),A.onRedirect=this._onIORedirect.bind(this),A.onRecoveredEarlyEof=this._onIORecoveredEarlyEof.bind(this),b?this._demuxer.bindDataSource(this._ioctl):A.onDataArrival=this._onInitChunkArrival.bind(this),A.open(b)},p.prototype.stop=function(){this._internalAbort(),this._disableStatisticsReporter()},p.prototype._internalAbort=function(){this._ioctl&&(this._ioctl.destroy(),this._ioctl=null)},p.prototype.pause=function(){this._ioctl&&this._ioctl.isWorking()&&(this._ioctl.pause(),this._disableStatisticsReporter())},p.prototype.resume=function(){this._ioctl&&this._ioctl.isPaused()&&(this._ioctl.resume(),this._enableStatisticsReporter())},p.prototype.seek=function(v){if(!(this._mediaInfo==null||!this._mediaInfo.isSeekable())){var b=this._searchSegmentIndexContains(v);if(b===this._currentSegmentIndex){var w=this._mediaInfo.segments[b];if(w==null)this._pendingSeekTime=v;else{var A=w.getNearestKeyframe(v);this._remuxer.seek(A.milliseconds),this._ioctl.seek(A.fileposition),this._pendingResolveSeekPoint=A.milliseconds}}else{var T=this._mediaInfo.segments[b];if(T==null)this._pendingSeekTime=v,this._internalAbort(),this._remuxer.seek(),this._remuxer.insertDiscontinuity(),this._loadSegment(b);else{var A=T.getNearestKeyframe(v);this._internalAbort(),this._remuxer.seek(v),this._remuxer.insertDiscontinuity(),this._demuxer.resetMediaInfo(),this._demuxer.timestampBase=this._mediaDataSource.segments[b].timestampBase,this._loadSegment(b,A.fileposition),this._pendingResolveSeekPoint=A.milliseconds,this._reportSegmentMediaInfo(b)}}this._enableStatisticsReporter()}},p.prototype._searchSegmentIndexContains=function(v){for(var b=this._mediaDataSource.segments,w=b.length-1,A=0;A<b.length;A++)if(v<b[A].timestampBase){w=A-1;break}return w},p.prototype._onInitChunkArrival=function(v,b){var w=this,A=null,T=0;if(b>0)this._demuxer.bindDataSource(this._ioctl),this._demuxer.timestampBase=this._mediaDataSource.segments[this._currentSegmentIndex].timestampBase,T=this._demuxer.parseChunks(v,b);else if((A=g.default.probe(v)).match){this._demuxer=new g.default(A,this._config),this._remuxer||(this._remuxer=new E.default(this._config));var P=this._mediaDataSource;P.duration!=null&&!isNaN(P.duration)&&(this._demuxer.overridedDuration=P.duration),typeof P.hasAudio=="boolean"&&(this._demuxer.overridedHasAudio=P.hasAudio),typeof P.hasVideo=="boolean"&&(this._demuxer.overridedHasVideo=P.hasVideo),this._demuxer.timestampBase=P.segments[this._currentSegmentIndex].timestampBase,this._demuxer.onError=this._onDemuxException.bind(this),this._demuxer.onMediaInfo=this._onMediaInfo.bind(this),this._demuxer.onMetaDataArrived=this._onMetaDataArrived.bind(this),this._demuxer.onScriptDataArrived=this._onScriptDataArrived.bind(this),this._remuxer.bindDataSource(this._demuxer.bindDataSource(this._ioctl)),this._remuxer.onInitSegment=this._onRemuxerInitSegmentArrival.bind(this),this._remuxer.onMediaSegment=this._onRemuxerMediaSegmentArrival.bind(this),T=this._demuxer.parseChunks(v,b)}else A=null,a.default.e(this.TAG,"Non-FLV, Unsupported media type!"),Promise.resolve().then(function(){w._internalAbort()}),this._emitter.emit(_.default.DEMUX_ERROR,y.default.FORMAT_UNSUPPORTED,"Non-FLV, Unsupported media type"),T=0;return T},p.prototype._onMediaInfo=function(v){var b=this;this._mediaInfo==null&&(this._mediaInfo=Object.assign({},v),this._mediaInfo.keyframesIndex=null,this._mediaInfo.segments=[],this._mediaInfo.segmentCount=this._mediaDataSource.segments.length,Object.setPrototypeOf(this._mediaInfo,h.default.prototype));var w=Object.assign({},v);Object.setPrototypeOf(w,h.default.prototype),this._mediaInfo.segments[this._currentSegmentIndex]=w,this._reportSegmentMediaInfo(this._currentSegmentIndex),this._pendingSeekTime!=null&&Promise.resolve().then(function(){var A=b._pendingSeekTime;b._pendingSeekTime=null,b.seek(A)})},p.prototype._onMetaDataArrived=function(v){this._emitter.emit(_.default.METADATA_ARRIVED,v)},p.prototype._onScriptDataArrived=function(v){this._emitter.emit(_.default.SCRIPTDATA_ARRIVED,v)},p.prototype._onIOSeeked=function(){this._remuxer.insertDiscontinuity()},p.prototype._onIOComplete=function(v){var b=v,w=b+1;w<this._mediaDataSource.segments.length?(this._internalAbort(),this._remuxer.flushStashedSamples(),this._loadSegment(w)):(this._remuxer.flushStashedSamples(),this._emitter.emit(_.default.LOADING_COMPLETE),this._disableStatisticsReporter())},p.prototype._onIORedirect=function(v){var b=this._ioctl.extraData;this._mediaDataSource.segments[b].redirectedURL=v},p.prototype._onIORecoveredEarlyEof=function(){this._emitter.emit(_.default.RECOVERED_EARLY_EOF)},p.prototype._onIOException=function(v,b){a.default.e(this.TAG,"IOException: type = "+v+", code = "+b.code+", msg = "+b.msg),this._emitter.emit(_.default.IO_ERROR,v,b),this._disableStatisticsReporter()},p.prototype._onDemuxException=function(v,b){a.default.e(this.TAG,"DemuxException: type = "+v+", info = "+b),this._emitter.emit(_.default.DEMUX_ERROR,v,b)},p.prototype._onRemuxerInitSegmentArrival=function(v,b){this._emitter.emit(_.default.INIT_SEGMENT,v,b)},p.prototype._onRemuxerMediaSegmentArrival=function(v,b){if(this._pendingSeekTime==null&&(this._emitter.emit(_.default.MEDIA_SEGMENT,v,b),this._pendingResolveSeekPoint!=null&&v==="video")){var w=b.info.syncPoints,A=this._pendingResolveSeekPoint;this._pendingResolveSeekPoint=null,l.default.safari&&w.length>0&&w[0].originalDts===A&&(A=w[0].pts),this._emitter.emit(_.default.RECOMMEND_SEEKPOINT,A)}},p.prototype._enableStatisticsReporter=function(){this._statisticsReporter==null&&(this._statisticsReporter=self.setInterval(this._reportStatisticsInfo.bind(this),this._config.statisticsInfoReportInterval))},p.prototype._disableStatisticsReporter=function(){this._statisticsReporter&&(self.clearInterval(this._statisticsReporter),this._statisticsReporter=null)},p.prototype._reportSegmentMediaInfo=function(v){var b=this._mediaInfo.segments[v],w=Object.assign({},b);w.duration=this._mediaInfo.duration,w.segmentCount=this._mediaInfo.segmentCount,delete w.segments,delete w.keyframesIndex,this._emitter.emit(_.default.MEDIA_INFO,w)},p.prototype._reportStatisticsInfo=function(){var v={};v.url=this._ioctl.currentURL,v.hasRedirect=this._ioctl.hasRedirect,v.hasRedirect&&(v.redirectedURL=this._ioctl.currentRedirectedURL),v.speed=this._ioctl.currentSpeed,v.loaderType=this._ioctl.loaderType,v.currentSegmentIndex=this._currentSegmentIndex,v.totalSegmentCount=this._mediaDataSource.segments.length,this._emitter.emit(_.default.STATISTICS_INFO,v)},p}();c.default=x},"./src/core/transmuxing-events.js":function(o,c,f){f.r(c);var d={IO_ERROR:"io_error",DEMUX_ERROR:"demux_error",INIT_SEGMENT:"init_segment",MEDIA_SEGMENT:"media_segment",LOADING_COMPLETE:"loading_complete",RECOVERED_EARLY_EOF:"recovered_early_eof",MEDIA_INFO:"media_info",METADATA_ARRIVED:"metadata_arrived",SCRIPTDATA_ARRIVED:"scriptdata_arrived",STATISTICS_INFO:"statistics_info",RECOMMEND_SEEKPOINT:"recommend_seekpoint"};c.default=d},"./src/core/transmuxing-worker.js":function(o,c,f){f.r(c);var d=f("./src/utils/logging-control.js"),u=f("./src/utils/polyfill.js"),a=f("./src/core/transmuxing-controller.js"),l=f("./src/core/transmuxing-events.js"),h=function(g){var E=null,y=C.bind(this);u.default.install(),g.addEventListener("message",function(O){switch(O.data.cmd){case"init":E=new a.default(O.data.param[0],O.data.param[1]),E.on(l.default.IO_ERROR,T.bind(this)),E.on(l.default.DEMUX_ERROR,P.bind(this)),E.on(l.default.INIT_SEGMENT,m.bind(this)),E.on(l.default.MEDIA_SEGMENT,_.bind(this)),E.on(l.default.LOADING_COMPLETE,x.bind(this)),E.on(l.default.RECOVERED_EARLY_EOF,p.bind(this)),E.on(l.default.MEDIA_INFO,v.bind(this)),E.on(l.default.METADATA_ARRIVED,b.bind(this)),E.on(l.default.SCRIPTDATA_ARRIVED,w.bind(this)),E.on(l.default.STATISTICS_INFO,A.bind(this)),E.on(l.default.RECOMMEND_SEEKPOINT,R.bind(this));break;case"destroy":E&&(E.destroy(),E=null),g.postMessage({msg:"destroyed"});break;case"start":E.start();break;case"stop":E.stop();break;case"seek":E.seek(O.data.param);break;case"pause":E.pause();break;case"resume":E.resume();break;case"logging_config":{var D=O.data.param;d.default.applyConfig(D),D.enableCallback===!0?d.default.addLogListener(y):d.default.removeLogListener(y);break}}});function m(O,D){var N={msg:l.default.INIT_SEGMENT,data:{type:O,data:D}};g.postMessage(N,[D.data])}function _(O,D){var N={msg:l.default.MEDIA_SEGMENT,data:{type:O,data:D}};g.postMessage(N,[D.data])}function x(){var O={msg:l.default.LOADING_COMPLETE};g.postMessage(O)}function p(){var O={msg:l.default.RECOVERED_EARLY_EOF};g.postMessage(O)}function v(O){var D={msg:l.default.MEDIA_INFO,data:O};g.postMessage(D)}function b(O){var D={msg:l.default.METADATA_ARRIVED,data:O};g.postMessage(D)}function w(O){var D={msg:l.default.SCRIPTDATA_ARRIVED,data:O};g.postMessage(D)}function A(O){var D={msg:l.default.STATISTICS_INFO,data:O};g.postMessage(D)}function T(O,D){g.postMessage({msg:l.default.IO_ERROR,data:{type:O,info:D}})}function P(O,D){g.postMessage({msg:l.default.DEMUX_ERROR,data:{type:O,info:D}})}function R(O){g.postMessage({msg:l.default.RECOMMEND_SEEKPOINT,data:O})}function C(O,D){g.postMessage({msg:"logcat_callback",data:{type:O,logcat:D}})}};c.default=h},"./src/demux/amf-parser.js":function(o,c,f){f.r(c);var d=f("./src/utils/logger.js"),u=f("./src/utils/utf8-conv.js"),a=f("./src/utils/exception.js"),l=function(){var g=new ArrayBuffer(2);return new DataView(g).setInt16(0,256,!0),new Int16Array(g)[0]===256}(),h=function(){function g(){}return g.parseScriptData=function(E,y,m){var _={};try{var x=g.parseValue(E,y,m),p=g.parseValue(E,y+x.size,m-x.size);_[x.data]=p.data}catch(v){d.default.e("AMF",v.toString())}return _},g.parseObject=function(E,y,m){if(m<3)throw new a.IllegalStateException("Data not enough when parse ScriptDataObject");var _=g.parseString(E,y,m),x=g.parseValue(E,y+_.size,m-_.size),p=x.objectEnd;return{data:{name:_.data,value:x.data},size:_.size+x.size,objectEnd:p}},g.parseVariable=function(E,y,m){return g.parseObject(E,y,m)},g.parseString=function(E,y,m){if(m<2)throw new a.IllegalStateException("Data not enough when parse String");var _=new DataView(E,y,m),x=_.getUint16(0,!l),p;return x>0?p=(0,u.default)(new Uint8Array(E,y+2,x)):p="",{data:p,size:2+x}},g.parseLongString=function(E,y,m){if(m<4)throw new a.IllegalStateException("Data not enough when parse LongString");var _=new DataView(E,y,m),x=_.getUint32(0,!l),p;return x>0?p=(0,u.default)(new Uint8Array(E,y+4,x)):p="",{data:p,size:4+x}},g.parseDate=function(E,y,m){if(m<10)throw new a.IllegalStateException("Data size invalid when parse Date");var _=new DataView(E,y,m),x=_.getFloat64(0,!l),p=_.getInt16(8,!l);return x+=p*60*1e3,{data:new Date(x),size:10}},g.parseValue=function(E,y,m){if(m<1)throw new a.IllegalStateException("Data not enough when parse Value");var _=new DataView(E,y,m),x=1,p=_.getUint8(0),v,b=!1;try{switch(p){case 0:v=_.getFloat64(1,!l),x+=8;break;case 1:{var w=_.getUint8(1);v=!!w,x+=1;break}case 2:{var A=g.parseString(E,y+1,m-1);v=A.data,x+=A.size;break}case 3:{v={};var T=0;for((_.getUint32(m-4,!l)&16777215)===9&&(T=3);x<m-4;){var P=g.parseObject(E,y+x,m-x-T);if(P.objectEnd)break;v[P.data.name]=P.data.value,x+=P.size}if(x<=m-3){var R=_.getUint32(x-1,!l)&16777215;R===9&&(x+=3)}break}case 8:{v={},x+=4;var T=0;for((_.getUint32(m-4,!l)&16777215)===9&&(T=3);x<m-8;){var C=g.parseVariable(E,y+x,m-x-T);if(C.objectEnd)break;v[C.data.name]=C.data.value,x+=C.size}if(x<=m-3){var R=_.getUint32(x-1,!l)&16777215;R===9&&(x+=3)}break}case 9:v=void 0,x=1,b=!0;break;case 10:{v=[];var O=_.getUint32(1,!l);x+=4;for(var D=0;D<O;D++){var N=g.parseValue(E,y+x,m-x);v.push(N.data),x+=N.size}break}case 11:{var M=g.parseDate(E,y+1,m-1);v=M.data,x+=M.size;break}case 12:{var U=g.parseString(E,y+1,m-1);v=U.data,x+=U.size;break}default:x=m,d.default.w("AMF","Unsupported AMF value type "+p)}}catch(Q){d.default.e("AMF",Q.toString())}return{data:v,size:x,objectEnd:b}},g}();c.default=h},"./src/demux/demux-errors.js":function(o,c,f){f.r(c);var d={OK:"OK",FORMAT_ERROR:"FormatError",FORMAT_UNSUPPORTED:"FormatUnsupported",CODEC_UNSUPPORTED:"CodecUnsupported"};c.default=d},"./src/demux/exp-golomb.js":function(o,c,f){f.r(c);var d=f("./src/utils/exception.js"),u=function(){function a(l){this.TAG="ExpGolomb",this._buffer=l,this._buffer_index=0,this._total_bytes=l.byteLength,this._total_bits=l.byteLength*8,this._current_word=0,this._current_word_bits_left=0}return a.prototype.destroy=function(){this._buffer=null},a.prototype._fillCurrentWord=function(){var l=this._total_bytes-this._buffer_index;if(l<=0)throw new d.IllegalStateException("ExpGolomb: _fillCurrentWord() but no bytes available");var h=Math.min(4,l),g=new Uint8Array(4);g.set(this._buffer.subarray(this._buffer_index,this._buffer_index+h)),this._current_word=new DataView(g.buffer).getUint32(0,!1),this._buffer_index+=h,this._current_word_bits_left=h*8},a.prototype.readBits=function(l){if(l>32)throw new d.InvalidArgumentException("ExpGolomb: readBits() bits exceeded max 32bits!");if(l<=this._current_word_bits_left){var h=this._current_word>>>32-l;return this._current_word<<=l,this._current_word_bits_left-=l,h}var g=this._current_word_bits_left?this._current_word:0;g=g>>>32-this._current_word_bits_left;var E=l-this._current_word_bits_left;this._fillCurrentWord();var y=Math.min(E,this._current_word_bits_left),m=this._current_word>>>32-y;return this._current_word<<=y,this._current_word_bits_left-=y,g=g<<y|m,g},a.prototype.readBool=function(){return this.readBits(1)===1},a.prototype.readByte=function(){return this.readBits(8)},a.prototype._skipLeadingZero=function(){var l;for(l=0;l<this._current_word_bits_left;l++)if(this._current_word&2147483648>>>l)return this._current_word<<=l,this._current_word_bits_left-=l,l;return this._fillCurrentWord(),l+this._skipLeadingZero()},a.prototype.readUEG=function(){var l=this._skipLeadingZero();return this.readBits(l+1)-1},a.prototype.readSEG=function(){var l=this.readUEG();return l&1?l+1>>>1:-1*(l>>>1)},a}();c.default=u},"./src/demux/flv-demuxer.js":function(o,c,f){f.r(c);var d=f("./src/utils/logger.js"),u=f("./src/demux/amf-parser.js"),a=f("./src/demux/sps-parser.js"),l=f("./src/demux/demux-errors.js"),h=f("./src/core/media-info.js"),g=f("./src/utils/exception.js");function E(m,_){return m[_]<<24|m[_+1]<<16|m[_+2]<<8|m[_+3]}var y=function(){function m(_,x){this.TAG="FLVDemuxer",this._config=x,this._onError=null,this._onMediaInfo=null,this._onMetaDataArrived=null,this._onScriptDataArrived=null,this._onTrackMetadata=null,this._onDataAvailable=null,this._dataOffset=_.dataOffset,this._firstParse=!0,this._dispatch=!1,this._hasAudio=_.hasAudioTrack,this._hasVideo=_.hasVideoTrack,this._hasAudioFlagOverrided=!1,this._hasVideoFlagOverrided=!1,this._audioInitialMetadataDispatched=!1,this._videoInitialMetadataDispatched=!1,this._mediaInfo=new h.default,this._mediaInfo.hasAudio=this._hasAudio,this._mediaInfo.hasVideo=this._hasVideo,this._metadata=null,this._audioMetadata=null,this._videoMetadata=null,this._naluLengthSize=4,this._timestampBase=0,this._timescale=1e3,this._duration=0,this._durationOverrided=!1,this._referenceFrameRate={fixed:!0,fps:23.976,fps_num:23976,fps_den:1e3},this._flvSoundRateTable=[5500,11025,22050,44100,48e3],this._mpegSamplingRates=[96e3,88200,64e3,48e3,44100,32e3,24e3,22050,16e3,12e3,11025,8e3,7350],this._mpegAudioV10SampleRateTable=[44100,48e3,32e3,0],this._mpegAudioV20SampleRateTable=[22050,24e3,16e3,0],this._mpegAudioV25SampleRateTable=[11025,12e3,8e3,0],this._mpegAudioL1BitRateTable=[0,32,64,96,128,160,192,224,256,288,320,352,384,416,448,-1],this._mpegAudioL2BitRateTable=[0,32,48,56,64,80,96,112,128,160,192,224,256,320,384,-1],this._mpegAudioL3BitRateTable=[0,32,40,48,56,64,80,96,112,128,160,192,224,256,320,-1],this._videoTrack={type:"video",id:1,sequenceNumber:0,samples:[],length:0},this._audioTrack={type:"audio",id:2,sequenceNumber:0,samples:[],length:0},this._littleEndian=function(){var p=new ArrayBuffer(2);return new DataView(p).setInt16(0,256,!0),new Int16Array(p)[0]===256}()}return m.prototype.destroy=function(){this._mediaInfo=null,this._metadata=null,this._audioMetadata=null,this._videoMetadata=null,this._videoTrack=null,this._audioTrack=null,this._onError=null,this._onMediaInfo=null,this._onMetaDataArrived=null,this._onScriptDataArrived=null,this._onTrackMetadata=null,this._onDataAvailable=null},m.probe=function(_){var x=new Uint8Array(_),p={match:!1};if(x[0]!==70||x[1]!==76||x[2]!==86||x[3]!==1)return p;var v=(x[4]&4)>>>2!==0,b=(x[4]&1)!==0,w=E(x,5);return w<9?p:{match:!0,consumed:w,dataOffset:w,hasAudioTrack:v,hasVideoTrack:b}},m.prototype.bindDataSource=function(_){return _.onDataArrival=this.parseChunks.bind(this),this},Object.defineProperty(m.prototype,"onTrackMetadata",{get:function(){return this._onTrackMetadata},set:function(_){this._onTrackMetadata=_},enumerable:!1,configurable:!0}),Object.defineProperty(m.prototype,"onMediaInfo",{get:function(){return this._onMediaInfo},set:function(_){this._onMediaInfo=_},enumerable:!1,configurable:!0}),Object.defineProperty(m.prototype,"onMetaDataArrived",{get:function(){return this._onMetaDataArrived},set:function(_){this._onMetaDataArrived=_},enumerable:!1,configurable:!0}),Object.defineProperty(m.prototype,"onScriptDataArrived",{get:function(){return this._onScriptDataArrived},set:function(_){this._onScriptDataArrived=_},enumerable:!1,configurable:!0}),Object.defineProperty(m.prototype,"onError",{get:function(){return this._onError},set:function(_){this._onError=_},enumerable:!1,configurable:!0}),Object.defineProperty(m.prototype,"onDataAvailable",{get:function(){return this._onDataAvailable},set:function(_){this._onDataAvailable=_},enumerable:!1,configurable:!0}),Object.defineProperty(m.prototype,"timestampBase",{get:function(){return this._timestampBase},set:function(_){this._timestampBase=_},enumerable:!1,configurable:!0}),Object.defineProperty(m.prototype,"overridedDuration",{get:function(){return this._duration},set:function(_){this._durationOverrided=!0,this._duration=_,this._mediaInfo.duration=_},enumerable:!1,configurable:!0}),Object.defineProperty(m.prototype,"overridedHasAudio",{set:function(_){this._hasAudioFlagOverrided=!0,this._hasAudio=_,this._mediaInfo.hasAudio=_},enumerable:!1,configurable:!0}),Object.defineProperty(m.prototype,"overridedHasVideo",{set:function(_){this._hasVideoFlagOverrided=!0,this._hasVideo=_,this._mediaInfo.hasVideo=_},enumerable:!1,configurable:!0}),m.prototype.resetMediaInfo=function(){this._mediaInfo=new h.default},m.prototype._isInitialMetadataDispatched=function(){return this._hasAudio&&this._hasVideo?this._audioInitialMetadataDispatched&&this._videoInitialMetadataDispatched:this._hasAudio&&!this._hasVideo?this._audioInitialMetadataDispatched:!this._hasAudio&&this._hasVideo?this._videoInitialMetadataDispatched:!1},m.prototype.parseChunks=function(_,x){if(!this._onError||!this._onMediaInfo||!this._onTrackMetadata||!this._onDataAvailable)throw new g.IllegalStateException("Flv: onError & onMediaInfo & onTrackMetadata & onDataAvailable callback must be specified");var p=0,v=this._littleEndian;if(x===0)if(_.byteLength>13){var b=m.probe(_);p=b.dataOffset}else return 0;if(this._firstParse){this._firstParse=!1,x+p!==this._dataOffset&&d.default.w(this.TAG,"First time parsing but chunk byteStart invalid!");var w=new DataView(_,p),A=w.getUint32(0,!v);A!==0&&d.default.w(this.TAG,"PrevTagSize0 !== 0 !!!"),p+=4}for(;p<_.byteLength;){this._dispatch=!0;var w=new DataView(_,p);if(p+11+4>_.byteLength)break;var T=w.getUint8(0),P=w.getUint32(0,!v)&16777215;if(p+11+P+4>_.byteLength)break;if(T!==8&&T!==9&&T!==18){d.default.w(this.TAG,"Unsupported tag type "+T+", skipped"),p+=11+P+4;continue}var R=w.getUint8(4),C=w.getUint8(5),O=w.getUint8(6),D=w.getUint8(7),N=O|C<<8|R<<16|D<<24,M=w.getUint32(7,!v)&16777215;M!==0&&d.default.w(this.TAG,"Meet tag which has StreamID != 0!");var U=p+11;switch(T){case 8:this._parseAudioData(_,U,P,N);break;case 9:this._parseVideoData(_,U,P,N,x+p);break;case 18:this._parseScriptData(_,U,P);break}var Q=w.getUint32(11+P,!v);Q!==11+P&&d.default.w(this.TAG,"Invalid PrevTagSize "+Q),p+=11+P+4}return this._isInitialMetadataDispatched()&&this._dispatch&&(this._audioTrack.length||this._videoTrack.length)&&this._onDataAvailable(this._audioTrack,this._videoTrack),p},m.prototype._parseScriptData=function(_,x,p){var v=u.default.parseScriptData(_,x,p);if(v.hasOwnProperty("onMetaData")){if(v.onMetaData==null||typeof v.onMetaData!="object"){d.default.w(this.TAG,"Invalid onMetaData structure!");return}this._metadata&&d.default.w(this.TAG,"Found another onMetaData tag!"),this._metadata=v;var b=this._metadata.onMetaData;if(this._onMetaDataArrived&&this._onMetaDataArrived(Object.assign({},b)),typeof b.hasAudio=="boolean"&&this._hasAudioFlagOverrided===!1&&(this._hasAudio=b.hasAudio,this._mediaInfo.hasAudio=this._hasAudio),typeof b.hasVideo=="boolean"&&this._hasVideoFlagOverrided===!1&&(this._hasVideo=b.hasVideo,this._mediaInfo.hasVideo=this._hasVideo),typeof b.audiodatarate=="number"&&(this._mediaInfo.audioDataRate=b.audiodatarate),typeof b.videodatarate=="number"&&(this._mediaInfo.videoDataRate=b.videodatarate),typeof b.width=="number"&&(this._mediaInfo.width=b.width),typeof b.height=="number"&&(this._mediaInfo.height=b.height),typeof b.duration=="number"){if(!this._durationOverrided){var w=Math.floor(b.duration*this._timescale);this._duration=w,this._mediaInfo.duration=w}}else this._mediaInfo.duration=0;if(typeof b.framerate=="number"){var A=Math.floor(b.framerate*1e3);if(A>0){var T=A/1e3;this._referenceFrameRate.fixed=!0,this._referenceFrameRate.fps=T,this._referenceFrameRate.fps_num=A,this._referenceFrameRate.fps_den=1e3,this._mediaInfo.fps=T}}if(typeof b.keyframes=="object"){this._mediaInfo.hasKeyframesIndex=!0;var P=b.keyframes;this._mediaInfo.keyframesIndex=this._parseKeyframesIndex(P),b.keyframes=null}else this._mediaInfo.hasKeyframesIndex=!1;this._dispatch=!1,this._mediaInfo.metadata=b,d.default.v(this.TAG,"Parsed onMetaData"),this._mediaInfo.isComplete()&&this._onMediaInfo(this._mediaInfo)}Object.keys(v).length>0&&this._onScriptDataArrived&&this._onScriptDataArrived(Object.assign({},v))},m.prototype._parseKeyframesIndex=function(_){for(var x=[],p=[],v=1;v<_.times.length;v++){var b=this._timestampBase+Math.floor(_.times[v]*1e3);x.push(b),p.push(_.filepositions[v])}return{times:x,filepositions:p}},m.prototype._parseAudioData=function(_,x,p,v){if(p<=1){d.default.w(this.TAG,"Flv: Invalid audio packet, missing SoundData payload!");return}if(!(this._hasAudioFlagOverrided===!0&&this._hasAudio===!1)){this._littleEndian;var b=new DataView(_,x,p),w=b.getUint8(0),A=w>>>4;if(A!==2&&A!==10){this._onError(l.default.CODEC_UNSUPPORTED,"Flv: Unsupported audio codec idx: "+A);return}var T=0,P=(w&12)>>>2;if(P>=0&&P<=4)T=this._flvSoundRateTable[P];else{this._onError(l.default.FORMAT_ERROR,"Flv: Invalid audio sample rate idx: "+P);return}var R=w&1,C=this._audioMetadata,O=this._audioTrack;if(C||(this._hasAudio===!1&&this._hasAudioFlagOverrided===!1&&(this._hasAudio=!0,this._mediaInfo.hasAudio=!0),C=this._audioMetadata={},C.type="audio",C.id=O.id,C.timescale=this._timescale,C.duration=this._duration,C.audioSampleRate=T,C.channelCount=R===0?1:2),A===10){var D=this._parseAACAudioData(_,x+1,p-1);if(D==null)return;if(D.packetType===0){C.config&&d.default.w(this.TAG,"Found another AudioSpecificConfig!");var N=D.data;C.audioSampleRate=N.samplingRate,C.channelCount=N.channelCount,C.codec=N.codec,C.originalCodec=N.originalCodec,C.config=N.config,C.refSampleDuration=1024/C.audioSampleRate*C.timescale,d.default.v(this.TAG,"Parsed AudioSpecificConfig"),this._isInitialMetadataDispatched()?this._dispatch&&(this._audioTrack.length||this._videoTrack.length)&&this._onDataAvailable(this._audioTrack,this._videoTrack):this._audioInitialMetadataDispatched=!0,this._dispatch=!1,this._onTrackMetadata("audio",C);var M=this._mediaInfo;M.audioCodec=C.originalCodec,M.audioSampleRate=C.audioSampleRate,M.audioChannelCount=C.channelCount,M.hasVideo?M.videoCodec!=null&&(M.mimeType='video/x-flv; codecs="'+M.videoCodec+","+M.audioCodec+'"'):M.mimeType='video/x-flv; codecs="'+M.audioCodec+'"',M.isComplete()&&this._onMediaInfo(M)}else if(D.packetType===1){var U=this._timestampBase+v,Q={unit:D.data,length:D.data.byteLength,dts:U,pts:U};O.samples.push(Q),O.length+=D.data.length}else d.default.e(this.TAG,"Flv: Unsupported AAC data type "+D.packetType)}else if(A===2){if(!C.codec){var N=this._parseMP3AudioData(_,x+1,p-1,!0);if(N==null)return;C.audioSampleRate=N.samplingRate,C.channelCount=N.channelCount,C.codec=N.codec,C.originalCodec=N.originalCodec,C.refSampleDuration=1152/C.audioSampleRate*C.timescale,d.default.v(this.TAG,"Parsed MPEG Audio Frame Header"),this._audioInitialMetadataDispatched=!0,this._onTrackMetadata("audio",C);var M=this._mediaInfo;M.audioCodec=C.codec,M.audioSampleRate=C.audioSampleRate,M.audioChannelCount=C.channelCount,M.audioDataRate=N.bitRate,M.hasVideo?M.videoCodec!=null&&(M.mimeType='video/x-flv; codecs="'+M.videoCodec+","+M.audioCodec+'"'):M.mimeType='video/x-flv; codecs="'+M.audioCodec+'"',M.isComplete()&&this._onMediaInfo(M)}var ie=this._parseMP3AudioData(_,x+1,p-1,!1);if(ie==null)return;var U=this._timestampBase+v,ne={unit:ie,length:ie.byteLength,dts:U,pts:U};O.samples.push(ne),O.length+=ie.length}}},m.prototype._parseAACAudioData=function(_,x,p){if(p<=1){d.default.w(this.TAG,"Flv: Invalid AAC packet, missing AACPacketType or/and Data!");return}var v={},b=new Uint8Array(_,x,p);return v.packetType=b[0],b[0]===0?v.data=this._parseAACAudioSpecificConfig(_,x+1,p-1):v.data=b.subarray(1),v},m.prototype._parseAACAudioSpecificConfig=function(_,x,p){var v=new Uint8Array(_,x,p),b=null,w=0,A=0,T=0,P=null;if(w=A=v[0]>>>3,T=(v[0]&7)<<1|v[1]>>>7,T<0||T>=this._mpegSamplingRates.length){this._onError(l.default.FORMAT_ERROR,"Flv: AAC invalid sampling frequency index!");return}var R=this._mpegSamplingRates[T],C=(v[1]&120)>>>3;if(C<0||C>=8){this._onError(l.default.FORMAT_ERROR,"Flv: AAC invalid channel configuration");return}w===5&&(P=(v[1]&7)<<1|v[2]>>>7,(v[2]&124)>>>2);var O=self.navigator.userAgent.toLowerCase();return O.indexOf("firefox")!==-1?T>=6?(w=5,b=new Array(4),P=T-3):(w=2,b=new Array(2),P=T):O.indexOf("android")!==-1?(w=2,b=new Array(2),P=T):(w=5,P=T,b=new Array(4),T>=6?P=T-3:C===1&&(w=2,b=new Array(2),P=T)),b[0]=w<<3,b[0]|=(T&15)>>>1,b[1]=(T&15)<<7,b[1]|=(C&15)<<3,w===5&&(b[1]|=(P&15)>>>1,b[2]=(P&1)<<7,b[2]|=8,b[3]=0),{config:b,samplingRate:R,channelCount:C,codec:"mp4a.40."+w,originalCodec:"mp4a.40."+A}},m.prototype._parseMP3AudioData=function(_,x,p,v){if(p<4){d.default.w(this.TAG,"Flv: Invalid MP3 packet, header missing!");return}this._littleEndian;var b=new Uint8Array(_,x,p),w=null;if(v){if(b[0]!==255)return;var A=b[1]>>>3&3,T=(b[1]&6)>>1,P=(b[2]&240)>>>4,R=(b[2]&12)>>>2,C=b[3]>>>6&3,O=C!==3?2:1,D=0,N=0,M="mp3";switch(A){case 0:D=this._mpegAudioV25SampleRateTable[R];break;case 2:D=this._mpegAudioV20SampleRateTable[R];break;case 3:D=this._mpegAudioV10SampleRateTable[R];break}switch(T){case 1:P<this._mpegAudioL3BitRateTable.length&&(N=this._mpegAudioL3BitRateTable[P]);break;case 2:P<this._mpegAudioL2BitRateTable.length&&(N=this._mpegAudioL2BitRateTable[P]);break;case 3:P<this._mpegAudioL1BitRateTable.length&&(N=this._mpegAudioL1BitRateTable[P]);break}w={bitRate:N,samplingRate:D,channelCount:O,codec:M,originalCodec:M}}else w=b;return w},m.prototype._parseVideoData=function(_,x,p,v,b){if(p<=1){d.default.w(this.TAG,"Flv: Invalid video packet, missing VideoData payload!");return}if(!(this._hasVideoFlagOverrided===!0&&this._hasVideo===!1)){var w=new Uint8Array(_,x,p)[0],A=(w&240)>>>4,T=w&15;if(T!==7){this._onError(l.default.CODEC_UNSUPPORTED,"Flv: Unsupported codec in video frame: "+T);return}this._parseAVCVideoPacket(_,x+1,p-1,v,b,A)}},m.prototype._parseAVCVideoPacket=function(_,x,p,v,b,w){if(p<4){d.default.w(this.TAG,"Flv: Invalid AVC packet, missing AVCPacketType or/and CompositionTime");return}var A=this._littleEndian,T=new DataView(_,x,p),P=T.getUint8(0),R=T.getUint32(0,!A)&16777215,C=R<<8>>8;if(P===0)this._parseAVCDecoderConfigurationRecord(_,x+4,p-4);else if(P===1)this._parseAVCVideoData(_,x+4,p-4,v,b,w,C);else if(P!==2){this._onError(l.default.FORMAT_ERROR,"Flv: Invalid video packet type "+P);return}},m.prototype._parseAVCDecoderConfigurationRecord=function(_,x,p){if(p<7){d.default.w(this.TAG,"Flv: Invalid AVCDecoderConfigurationRecord, lack of data!");return}var v=this._videoMetadata,b=this._videoTrack,w=this._littleEndian,A=new DataView(_,x,p);v?typeof v.avcc<"u"&&d.default.w(this.TAG,"Found another AVCDecoderConfigurationRecord!"):(this._hasVideo===!1&&this._hasVideoFlagOverrided===!1&&(this._hasVideo=!0,this._mediaInfo.hasVideo=!0),v=this._videoMetadata={},v.type="video",v.id=b.id,v.timescale=this._timescale,v.duration=this._duration);var T=A.getUint8(0),P=A.getUint8(1);if(A.getUint8(2),A.getUint8(3),T!==1||P===0){this._onError(l.default.FORMAT_ERROR,"Flv: Invalid AVCDecoderConfigurationRecord");return}if(this._naluLengthSize=(A.getUint8(4)&3)+1,this._naluLengthSize!==3&&this._naluLengthSize!==4){this._onError(l.default.FORMAT_ERROR,"Flv: Strange NaluLengthSizeMinusOne: "+(this._naluLengthSize-1));return}var R=A.getUint8(5)&31;if(R===0){this._onError(l.default.FORMAT_ERROR,"Flv: Invalid AVCDecoderConfigurationRecord: No SPS");return}else R>1&&d.default.w(this.TAG,"Flv: Strange AVCDecoderConfigurationRecord: SPS Count = "+R);for(var C=6,O=0;O<R;O++){var D=A.getUint16(C,!w);if(C+=2,D!==0){var N=new Uint8Array(_,x+C,D);C+=D;var M=a.default.parseSPS(N);if(O===0){v.codecWidth=M.codec_size.width,v.codecHeight=M.codec_size.height,v.presentWidth=M.present_size.width,v.presentHeight=M.present_size.height,v.profile=M.profile_string,v.level=M.level_string,v.bitDepth=M.bit_depth,v.chromaFormat=M.chroma_format,v.sarRatio=M.sar_ratio,v.frameRate=M.frame_rate,(M.frame_rate.fixed===!1||M.frame_rate.fps_num===0||M.frame_rate.fps_den===0)&&(v.frameRate=this._referenceFrameRate);var U=v.frameRate.fps_den,Q=v.frameRate.fps_num;v.refSampleDuration=v.timescale*(U/Q);for(var ie=N.subarray(1,4),ne="avc1.",de=0;de<3;de++){var he=ie[de].toString(16);he.length<2&&(he="0"+he),ne+=he}v.codec=ne;var se=this._mediaInfo;se.width=v.codecWidth,se.height=v.codecHeight,se.fps=v.frameRate.fps,se.profile=v.profile,se.level=v.level,se.refFrames=M.ref_frames,se.chromaFormat=M.chroma_format_string,se.sarNum=v.sarRatio.width,se.sarDen=v.sarRatio.height,se.videoCodec=ne,se.hasAudio?se.audioCodec!=null&&(se.mimeType='video/x-flv; codecs="'+se.videoCodec+","+se.audioCodec+'"'):se.mimeType='video/x-flv; codecs="'+se.videoCodec+'"',se.isComplete()&&this._onMediaInfo(se)}}}var oe=A.getUint8(C);if(oe===0){this._onError(l.default.FORMAT_ERROR,"Flv: Invalid AVCDecoderConfigurationRecord: No PPS");return}else oe>1&&d.default.w(this.TAG,"Flv: Strange AVCDecoderConfigurationRecord: PPS Count = "+oe);C++;for(var O=0;O<oe;O++){var D=A.getUint16(C,!w);C+=2,D!==0&&(C+=D)}v.avcc=new Uint8Array(p),v.avcc.set(new Uint8Array(_,x,p),0),d.default.v(this.TAG,"Parsed AVCDecoderConfigurationRecord"),this._isInitialMetadataDispatched()?this._dispatch&&(this._audioTrack.length||this._videoTrack.length)&&this._onDataAvailable(this._audioTrack,this._videoTrack):this._videoInitialMetadataDispatched=!0,this._dispatch=!1,this._onTrackMetadata("video",v)},m.prototype._parseAVCVideoData=function(_,x,p,v,b,w,A){for(var T=this._littleEndian,P=new DataView(_,x,p),R=[],C=0,O=0,D=this._naluLengthSize,N=this._timestampBase+v,M=w===1;O<p;){if(O+4>=p){d.default.w(this.TAG,"Malformed Nalu near timestamp "+N+", offset = "+O+", dataSize = "+p);break}var U=P.getUint32(O,!T);if(D===3&&(U>>>=8),U>p-D){d.default.w(this.TAG,"Malformed Nalus near timestamp "+N+", NaluSize > DataSize!");return}var Q=P.getUint8(O+D)&31;Q===5&&(M=!0);var ie=new Uint8Array(_,x+O,D+U),ne={type:Q,data:ie};R.push(ne),C+=ie.byteLength,O+=D+U}if(R.length){var de=this._videoTrack,he={units:R,length:C,isKeyframe:M,dts:N,cts:A,pts:N+A};M&&(he.fileposition=b),de.samples.push(he),de.length+=C}},m}();c.default=y},"./src/demux/sps-parser.js":function(o,c,f){f.r(c);var d=f("./src/demux/exp-golomb.js"),u=function(){function a(){}return a._ebsp2rbsp=function(l){for(var h=l,g=h.byteLength,E=new Uint8Array(g),y=0,m=0;m<g;m++)m>=2&&h[m]===3&&h[m-1]===0&&h[m-2]===0||(E[y]=h[m],y++);return new Uint8Array(E.buffer,0,y)},a.parseSPS=function(l){var h=a._ebsp2rbsp(l),g=new d.default(h);g.readByte();var E=g.readByte();g.readByte();var y=g.readByte();g.readUEG();var m=a.getProfileString(E),_=a.getLevelString(y),x=1,p=420,v=[0,420,422,444],b=8;if((E===100||E===110||E===122||E===244||E===44||E===83||E===86||E===118||E===128||E===138||E===144)&&(x=g.readUEG(),x===3&&g.readBits(1),x<=3&&(p=v[x]),b=g.readUEG()+8,g.readUEG(),g.readBits(1),g.readBool()))for(var w=x!==3?8:12,A=0;A<w;A++)g.readBool()&&(A<6?a._skipScalingList(g,16):a._skipScalingList(g,64));g.readUEG();var T=g.readUEG();if(T===0)g.readUEG();else if(T===1){g.readBits(1),g.readSEG(),g.readSEG();for(var P=g.readUEG(),A=0;A<P;A++)g.readSEG()}var R=g.readUEG();g.readBits(1);var C=g.readUEG(),O=g.readUEG(),D=g.readBits(1);D===0&&g.readBits(1),g.readBits(1);var N=0,M=0,U=0,Q=0,ie=g.readBool();ie&&(N=g.readUEG(),M=g.readUEG(),U=g.readUEG(),Q=g.readUEG());var ne=1,de=1,he=0,se=!0,oe=0,je=0,ve=g.readBool();if(ve){if(g.readBool()){var F=g.readByte(),W=[1,12,10,16,40,24,20,32,80,18,15,64,160,4,3,2],V=[1,11,11,11,33,11,11,11,33,11,11,33,99,3,2,1];F>0&&F<16?(ne=W[F-1],de=V[F-1]):F===255&&(ne=g.readByte()<<8|g.readByte(),de=g.readByte()<<8|g.readByte())}if(g.readBool()&&g.readBool(),g.readBool()&&(g.readBits(4),g.readBool()&&g.readBits(24)),g.readBool()&&(g.readUEG(),g.readUEG()),g.readBool()){var z=g.readBits(32),ae=g.readBits(32);se=g.readBool(),oe=ae,je=z*2,he=oe/je}}var re=1;(ne!==1||de!==1)&&(re=ne/de);var L=0,I=0;if(x===0)L=1,I=2-D;else{var k=x===3?1:2,K=x===1?2:1;L=k,I=K*(2-D)}var H=(C+1)*16,q=(2-D)*((O+1)*16);H-=(N+M)*L,q-=(U+Q)*I;var ee=Math.ceil(H*re);return g.destroy(),g=null,{profile_string:m,level_string:_,bit_depth:b,ref_frames:R,chroma_format:p,chroma_format_string:a.getChromaFormatString(p),frame_rate:{fixed:se,fps:he,fps_den:je,fps_num:oe},sar_ratio:{width:ne,height:de},codec_size:{width:H,height:q},present_size:{width:ee,height:q}}},a._skipScalingList=function(l,h){for(var g=8,E=8,y=0,m=0;m<h;m++)E!==0&&(y=l.readSEG(),E=(g+y+256)%256),g=E===0?g:E},a.getProfileString=function(l){switch(l){case 66:return"Baseline";case 77:return"Main";case 88:return"Extended";case 100:return"High";case 110:return"High10";case 122:return"High422";case 244:return"High444";default:return"Unknown"}},a.getLevelString=function(l){return(l/10).toFixed(1)},a.getChromaFormatString=function(l){switch(l){case 420:return"4:2:0";case 422:return"4:2:2";case 444:return"4:4:4";default:return"Unknown"}},a}();c.default=u},"./src/flv.js":function(o,c,f){f.r(c);var d=f("./src/utils/polyfill.js"),u=f("./src/core/features.js"),a=f("./src/io/loader.js"),l=f("./src/player/flv-player.js"),h=f("./src/player/native-player.js"),g=f("./src/player/player-events.js"),E=f("./src/player/player-errors.js"),y=f("./src/utils/logging-control.js"),m=f("./src/utils/exception.js");d.default.install();function _(b,w){var A=b;if(A==null||typeof A!="object")throw new m.InvalidArgumentException("MediaDataSource must be an javascript object!");if(!A.hasOwnProperty("type"))throw new m.InvalidArgumentException("MediaDataSource must has type field to indicate video file type!");switch(A.type){case"flv":return new l.default(A,w);default:return new h.default(A,w)}}function x(){return u.default.supportMSEH264Playback()}function p(){return u.default.getFeatureList()}var v={};v.createPlayer=_,v.isSupported=x,v.getFeatureList=p,v.BaseLoader=a.BaseLoader,v.LoaderStatus=a.LoaderStatus,v.LoaderErrors=a.LoaderErrors,v.Events=g.default,v.ErrorTypes=E.ErrorTypes,v.ErrorDetails=E.ErrorDetails,v.FlvPlayer=l.default,v.NativePlayer=h.default,v.LoggingControl=y.default,Object.defineProperty(v,"version",{enumerable:!0,get:function(){return"1.6.2"}}),c.default=v},"./src/index.js":function(o,c,f){o.exports=f("./src/flv.js").default},"./src/io/fetch-stream-loader.js":function(o,c,f){f.r(c);var d=f("./src/utils/browser.js"),u=f("./src/io/loader.js"),a=f("./src/utils/exception.js"),l=function(){var g=function(E,y){return g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(m,_){m.__proto__=_}||function(m,_){for(var x in _)Object.prototype.hasOwnProperty.call(_,x)&&(m[x]=_[x])},g(E,y)};return function(E,y){if(typeof y!="function"&&y!==null)throw new TypeError("Class extends value "+String(y)+" is not a constructor or null");g(E,y);function m(){this.constructor=E}E.prototype=y===null?Object.create(y):(m.prototype=y.prototype,new m)}}(),h=function(g){l(E,g);function E(y,m){var _=g.call(this,"fetch-stream-loader")||this;return _.TAG="FetchStreamLoader",_._seekHandler=y,_._config=m,_._needStash=!0,_._requestAbort=!1,_._contentLength=null,_._receivedLength=0,_}return E.isSupported=function(){try{var y=d.default.msedge&&d.default.version.minor>=15048,m=d.default.msedge?y:!0;return self.fetch&&self.ReadableStream&&m}catch{return!1}},E.prototype.destroy=function(){this.isWorking()&&this.abort(),g.prototype.destroy.call(this)},E.prototype.open=function(y,m){var _=this;this._dataSource=y,this._range=m;var x=y.url;this._config.reuseRedirectedURL&&y.redirectedURL!=null&&(x=y.redirectedURL);var p=this._seekHandler.getConfig(x,m),v=new self.Headers;if(typeof p.headers=="object"){var b=p.headers;for(var w in b)b.hasOwnProperty(w)&&v.append(w,b[w])}var A={method:"GET",headers:v,mode:"cors",cache:"default",referrerPolicy:"no-referrer-when-downgrade"};if(typeof this._config.headers=="object")for(var w in this._config.headers)v.append(w,this._config.headers[w]);y.cors===!1&&(A.mode="same-origin"),y.withCredentials&&(A.credentials="include"),y.referrerPolicy&&(A.referrerPolicy=y.referrerPolicy),self.AbortController&&(this._abortController=new self.AbortController,A.signal=this._abortController.signal),this._status=u.LoaderStatus.kConnecting,self.fetch(p.url,A).then(function(T){if(_._requestAbort){_._status=u.LoaderStatus.kIdle,T.body.cancel();return}if(T.ok&&T.status>=200&&T.status<=299){if(T.url!==p.url&&_._onURLRedirect){var P=_._seekHandler.removeURLParameters(T.url);_._onURLRedirect(P)}var R=T.headers.get("Content-Length");return R!=null&&(_._contentLength=parseInt(R),_._contentLength!==0&&_._onContentLengthKnown&&_._onContentLengthKnown(_._contentLength)),_._pump.call(_,T.body.getReader())}else if(_._status=u.LoaderStatus.kError,_._onError)_._onError(u.LoaderErrors.HTTP_STATUS_CODE_INVALID,{code:T.status,msg:T.statusText});else throw new a.RuntimeException("FetchStreamLoader: Http code invalid, "+T.status+" "+T.statusText)}).catch(function(T){if(!(_._abortController&&_._abortController.signal.aborted))if(_._status=u.LoaderStatus.kError,_._onError)_._onError(u.LoaderErrors.EXCEPTION,{code:-1,msg:T.message});else throw T})},E.prototype.abort=function(){if(this._requestAbort=!0,(this._status!==u.LoaderStatus.kBuffering||!d.default.chrome)&&this._abortController)try{this._abortController.abort()}catch{}},E.prototype._pump=function(y){var m=this;return y.read().then(function(_){if(_.done)if(m._contentLength!==null&&m._receivedLength<m._contentLength){m._status=u.LoaderStatus.kError;var x=u.LoaderErrors.EARLY_EOF,p={code:-1,msg:"Fetch stream meet Early-EOF"};if(m._onError)m._onError(x,p);else throw new a.RuntimeException(p.msg)}else m._status=u.LoaderStatus.kComplete,m._onComplete&&m._onComplete(m._range.from,m._range.from+m._receivedLength-1);else{if(m._abortController&&m._abortController.signal.aborted){m._status=u.LoaderStatus.kComplete;return}else if(m._requestAbort===!0)return m._status=u.LoaderStatus.kComplete,y.cancel();m._status=u.LoaderStatus.kBuffering;var v=_.value.buffer,b=m._range.from+m._receivedLength;m._receivedLength+=v.byteLength,m._onDataArrival&&m._onDataArrival(v,b,m._receivedLength),m._pump(y)}}).catch(function(_){if(m._abortController&&m._abortController.signal.aborted){m._status=u.LoaderStatus.kComplete;return}if(!(_.code===11&&d.default.msedge)){m._status=u.LoaderStatus.kError;var x=0,p=null;if((_.code===19||_.message==="network error")&&(m._contentLength===null||m._contentLength!==null&&m._receivedLength<m._contentLength)?(x=u.LoaderErrors.EARLY_EOF,p={code:_.code,msg:"Fetch stream meet Early-EOF"}):(x=u.LoaderErrors.EXCEPTION,p={code:_.code,msg:_.message}),m._onError)m._onError(x,p);else throw new a.RuntimeException(p.msg)}})},E}(u.BaseLoader);c.default=h},"./src/io/io-controller.js":function(o,c,f){f.r(c);var d=f("./src/utils/logger.js"),u=f("./src/io/speed-sampler.js"),a=f("./src/io/loader.js"),l=f("./src/io/fetch-stream-loader.js"),h=f("./src/io/xhr-moz-chunked-loader.js"),g=f("./src/io/xhr-range-loader.js"),E=f("./src/io/websocket-loader.js"),y=f("./src/io/range-seek-handler.js"),m=f("./src/io/param-seek-handler.js"),_=f("./src/utils/exception.js"),x=function(){function p(v,b,w){this.TAG="IOController",this._config=b,this._extraData=w,this._stashInitialSize=1024*384,b.stashInitialSize!=null&&b.stashInitialSize>0&&(this._stashInitialSize=b.stashInitialSize),this._stashUsed=0,this._stashSize=this._stashInitialSize,this._bufferSize=1024*1024*3,this._stashBuffer=new ArrayBuffer(this._bufferSize),this._stashByteStart=0,this._enableStash=!0,b.enableStashBuffer===!1&&(this._enableStash=!1),this._loader=null,this._loaderClass=null,this._seekHandler=null,this._dataSource=v,this._isWebSocketURL=/wss?:\/\/(.+?)/.test(v.url),this._refTotalLength=v.filesize?v.filesize:null,this._totalLength=this._refTotalLength,this._fullRequestFlag=!1,this._currentRange=null,this._redirectedURL=null,this._speedNormalized=0,this._speedSampler=new u.default,this._speedNormalizeList=[64,128,256,384,512,768,1024,1536,2048,3072,4096],this._isEarlyEofReconnecting=!1,this._paused=!1,this._resumeFrom=0,this._onDataArrival=null,this._onSeeked=null,this._onError=null,this._onComplete=null,this._onRedirect=null,this._onRecoveredEarlyEof=null,this._selectSeekHandler(),this._selectLoader(),this._createLoader()}return p.prototype.destroy=function(){this._loader.isWorking()&&this._loader.abort(),this._loader.destroy(),this._loader=null,this._loaderClass=null,this._dataSource=null,this._stashBuffer=null,this._stashUsed=this._stashSize=this._bufferSize=this._stashByteStart=0,this._currentRange=null,this._speedSampler=null,this._isEarlyEofReconnecting=!1,this._onDataArrival=null,this._onSeeked=null,this._onError=null,this._onComplete=null,this._onRedirect=null,this._onRecoveredEarlyEof=null,this._extraData=null},p.prototype.isWorking=function(){return this._loader&&this._loader.isWorking()&&!this._paused},p.prototype.isPaused=function(){return this._paused},Object.defineProperty(p.prototype,"status",{get:function(){return this._loader.status},enumerable:!1,configurable:!0}),Object.defineProperty(p.prototype,"extraData",{get:function(){return this._extraData},set:function(v){this._extraData=v},enumerable:!1,configurable:!0}),Object.defineProperty(p.prototype,"onDataArrival",{get:function(){return this._onDataArrival},set:function(v){this._onDataArrival=v},enumerable:!1,configurable:!0}),Object.defineProperty(p.prototype,"onSeeked",{get:function(){return this._onSeeked},set:function(v){this._onSeeked=v},enumerable:!1,configurable:!0}),Object.defineProperty(p.prototype,"onError",{get:function(){return this._onError},set:function(v){this._onError=v},enumerable:!1,configurable:!0}),Object.defineProperty(p.prototype,"onComplete",{get:function(){return this._onComplete},set:function(v){this._onComplete=v},enumerable:!1,configurable:!0}),Object.defineProperty(p.prototype,"onRedirect",{get:function(){return this._onRedirect},set:function(v){this._onRedirect=v},enumerable:!1,configurable:!0}),Object.defineProperty(p.prototype,"onRecoveredEarlyEof",{get:function(){return this._onRecoveredEarlyEof},set:function(v){this._onRecoveredEarlyEof=v},enumerable:!1,configurable:!0}),Object.defineProperty(p.prototype,"currentURL",{get:function(){return this._dataSource.url},enumerable:!1,configurable:!0}),Object.defineProperty(p.prototype,"hasRedirect",{get:function(){return this._redirectedURL!=null||this._dataSource.redirectedURL!=null},enumerable:!1,configurable:!0}),Object.defineProperty(p.prototype,"currentRedirectedURL",{get:function(){return this._redirectedURL||this._dataSource.redirectedURL},enumerable:!1,configurable:!0}),Object.defineProperty(p.prototype,"currentSpeed",{get:function(){return this._loaderClass===g.default?this._loader.currentSpeed:this._speedSampler.lastSecondKBps},enumerable:!1,configurable:!0}),Object.defineProperty(p.prototype,"loaderType",{get:function(){return this._loader.type},enumerable:!1,configurable:!0}),p.prototype._selectSeekHandler=function(){var v=this._config;if(v.seekType==="range")this._seekHandler=new y.default(this._config.rangeLoadZeroStart);else if(v.seekType==="param"){var b=v.seekParamStart||"bstart",w=v.seekParamEnd||"bend";this._seekHandler=new m.default(b,w)}else if(v.seekType==="custom"){if(typeof v.customSeekHandler!="function")throw new _.InvalidArgumentException("Custom seekType specified in config but invalid customSeekHandler!");this._seekHandler=new v.customSeekHandler}else throw new _.InvalidArgumentException("Invalid seekType in config: "+v.seekType)},p.prototype._selectLoader=function(){if(this._config.customLoader!=null)this._loaderClass=this._config.customLoader;else if(this._isWebSocketURL)this._loaderClass=E.default;else if(l.default.isSupported())this._loaderClass=l.default;else if(h.default.isSupported())this._loaderClass=h.default;else if(g.default.isSupported())this._loaderClass=g.default;else throw new _.RuntimeException("Your browser doesn't support xhr with arraybuffer responseType!")},p.prototype._createLoader=function(){this._loader=new this._loaderClass(this._seekHandler,this._config),this._loader.needStashBuffer===!1&&(this._enableStash=!1),this._loader.onContentLengthKnown=this._onContentLengthKnown.bind(this),this._loader.onURLRedirect=this._onURLRedirect.bind(this),this._loader.onDataArrival=this._onLoaderChunkArrival.bind(this),this._loader.onComplete=this._onLoaderComplete.bind(this),this._loader.onError=this._onLoaderError.bind(this)},p.prototype.open=function(v){this._currentRange={from:0,to:-1},v&&(this._currentRange.from=v),this._speedSampler.reset(),v||(this._fullRequestFlag=!0),this._loader.open(this._dataSource,Object.assign({},this._currentRange))},p.prototype.abort=function(){this._loader.abort(),this._paused&&(this._paused=!1,this._resumeFrom=0)},p.prototype.pause=function(){this.isWorking()&&(this._loader.abort(),this._stashUsed!==0?(this._resumeFrom=this._stashByteStart,this._currentRange.to=this._stashByteStart-1):this._resumeFrom=this._currentRange.to+1,this._stashUsed=0,this._stashByteStart=0,this._paused=!0)},p.prototype.resume=function(){if(this._paused){this._paused=!1;var v=this._resumeFrom;this._resumeFrom=0,this._internalSeek(v,!0)}},p.prototype.seek=function(v){this._paused=!1,this._stashUsed=0,this._stashByteStart=0,this._internalSeek(v,!0)},p.prototype._internalSeek=function(v,b){this._loader.isWorking()&&this._loader.abort(),this._flushStashBuffer(b),this._loader.destroy(),this._loader=null;var w={from:v,to:-1};this._currentRange={from:w.from,to:-1},this._speedSampler.reset(),this._stashSize=this._stashInitialSize,this._createLoader(),this._loader.open(this._dataSource,w),this._onSeeked&&this._onSeeked()},p.prototype.updateUrl=function(v){if(!v||typeof v!="string"||v.length===0)throw new _.InvalidArgumentException("Url must be a non-empty string!");this._dataSource.url=v},p.prototype._expandBuffer=function(v){for(var b=this._stashSize;b+1024*1024*1<v;)b*=2;if(b+=1024*1024*1,b!==this._bufferSize){var w=new ArrayBuffer(b);if(this._stashUsed>0){var A=new Uint8Array(this._stashBuffer,0,this._stashUsed),T=new Uint8Array(w,0,b);T.set(A,0)}this._stashBuffer=w,this._bufferSize=b}},p.prototype._normalizeSpeed=function(v){var b=this._speedNormalizeList,w=b.length-1,A=0,T=0,P=w;if(v<b[0])return b[0];for(;T<=P;){if(A=T+Math.floor((P-T)/2),A===w||v>=b[A]&&v<b[A+1])return b[A];b[A]<v?T=A+1:P=A-1}},p.prototype._adjustStashSize=function(v){var b=0;this._config.isLive||v<512?b=v:v>=512&&v<=1024?b=Math.floor(v*1.5):b=v*2,b>8192&&(b=8192);var w=b*1024+1024*1024*1;this._bufferSize<w&&this._expandBuffer(w),this._stashSize=b*1024},p.prototype._dispatchChunks=function(v,b){return this._currentRange.to=b+v.byteLength-1,this._onDataArrival(v,b)},p.prototype._onURLRedirect=function(v){this._redirectedURL=v,this._onRedirect&&this._onRedirect(v)},p.prototype._onContentLengthKnown=function(v){v&&this._fullRequestFlag&&(this._totalLength=v,this._fullRequestFlag=!1)},p.prototype._onLoaderChunkArrival=function(v,b,w){if(!this._onDataArrival)throw new _.IllegalStateException("IOController: No existing consumer (onDataArrival) callback!");if(!this._paused){this._isEarlyEofReconnecting&&(this._isEarlyEofReconnecting=!1,this._onRecoveredEarlyEof&&this._onRecoveredEarlyEof()),this._speedSampler.addBytes(v.byteLength);var A=this._speedSampler.lastSecondKBps;if(A!==0){var T=this._normalizeSpeed(A);this._speedNormalized!==T&&(this._speedNormalized=T,this._adjustStashSize(T))}if(this._enableStash)if(this._stashUsed===0&&this._stashByteStart===0&&(this._stashByteStart=b),this._stashUsed+v.byteLength<=this._stashSize){var C=new Uint8Array(this._stashBuffer,0,this._stashSize);C.set(new Uint8Array(v),this._stashUsed),this._stashUsed+=v.byteLength}else{var C=new Uint8Array(this._stashBuffer,0,this._bufferSize);if(this._stashUsed>0){var D=this._stashBuffer.slice(0,this._stashUsed),P=this._dispatchChunks(D,this._stashByteStart);if(P<D.byteLength){if(P>0){var O=new Uint8Array(D,P);C.set(O,0),this._stashUsed=O.byteLength,this._stashByteStart+=P}}else this._stashUsed=0,this._stashByteStart+=P;this._stashUsed+v.byteLength>this._bufferSize&&(this._expandBuffer(this._stashUsed+v.byteLength),C=new Uint8Array(this._stashBuffer,0,this._bufferSize)),C.set(new Uint8Array(v),this._stashUsed),this._stashUsed+=v.byteLength}else{var P=this._dispatchChunks(v,b);if(P<v.byteLength){var R=v.byteLength-P;R>this._bufferSize&&(this._expandBuffer(R),C=new Uint8Array(this._stashBuffer,0,this._bufferSize)),C.set(new Uint8Array(v,P),0),this._stashUsed+=R,this._stashByteStart=b+P}}}else if(this._stashUsed===0){var P=this._dispatchChunks(v,b);if(P<v.byteLength){var R=v.byteLength-P;R>this._bufferSize&&this._expandBuffer(R);var C=new Uint8Array(this._stashBuffer,0,this._bufferSize);C.set(new Uint8Array(v,P),0),this._stashUsed+=R,this._stashByteStart=b+P}}else{this._stashUsed+v.byteLength>this._bufferSize&&this._expandBuffer(this._stashUsed+v.byteLength);var C=new Uint8Array(this._stashBuffer,0,this._bufferSize);C.set(new Uint8Array(v),this._stashUsed),this._stashUsed+=v.byteLength;var P=this._dispatchChunks(this._stashBuffer.slice(0,this._stashUsed),this._stashByteStart);if(P<this._stashUsed&&P>0){var O=new Uint8Array(this._stashBuffer,P);C.set(O,0)}this._stashUsed-=P,this._stashByteStart+=P}}},p.prototype._flushStashBuffer=function(v){if(this._stashUsed>0){var b=this._stashBuffer.slice(0,this._stashUsed),w=this._dispatchChunks(b,this._stashByteStart),A=b.byteLength-w;if(w<b.byteLength)if(v)d.default.w(this.TAG,A+" bytes unconsumed data remain when flush buffer, dropped");else{if(w>0){var T=new Uint8Array(this._stashBuffer,0,this._bufferSize),P=new Uint8Array(b,w);T.set(P,0),this._stashUsed=P.byteLength,this._stashByteStart+=w}return 0}return this._stashUsed=0,this._stashByteStart=0,A}return 0},p.prototype._onLoaderComplete=function(v,b){this._flushStashBuffer(!0),this._onComplete&&this._onComplete(this._extraData)},p.prototype._onLoaderError=function(v,b){switch(d.default.e(this.TAG,"Loader error, code = "+b.code+", msg = "+b.msg),this._flushStashBuffer(!1),this._isEarlyEofReconnecting&&(this._isEarlyEofReconnecting=!1,v=a.LoaderErrors.UNRECOVERABLE_EARLY_EOF),v){case a.LoaderErrors.EARLY_EOF:{if(!this._config.isLive&&this._totalLength){var w=this._currentRange.to+1;w<this._totalLength&&(d.default.w(this.TAG,"Connection lost, trying reconnect..."),this._isEarlyEofReconnecting=!0,this._internalSeek(w,!1));return}v=a.LoaderErrors.UNRECOVERABLE_EARLY_EOF;break}case a.LoaderErrors.UNRECOVERABLE_EARLY_EOF:case a.LoaderErrors.CONNECTING_TIMEOUT:case a.LoaderErrors.HTTP_STATUS_CODE_INVALID:case a.LoaderErrors.EXCEPTION:break}if(this._onError)this._onError(v,b);else throw new _.RuntimeException("IOException: "+b.msg)},p}();c.default=x},"./src/io/loader.js":function(o,c,f){f.r(c),f.d(c,{LoaderStatus:function(){return u},LoaderErrors:function(){return a},BaseLoader:function(){return l}});var d=f("./src/utils/exception.js"),u={kIdle:0,kConnecting:1,kBuffering:2,kError:3,kComplete:4},a={OK:"OK",EXCEPTION:"Exception",HTTP_STATUS_CODE_INVALID:"HttpStatusCodeInvalid",CONNECTING_TIMEOUT:"ConnectingTimeout",EARLY_EOF:"EarlyEof",UNRECOVERABLE_EARLY_EOF:"UnrecoverableEarlyEof"},l=function(){function h(g){this._type=g||"undefined",this._status=u.kIdle,this._needStash=!1,this._onContentLengthKnown=null,this._onURLRedirect=null,this._onDataArrival=null,this._onError=null,this._onComplete=null}return h.prototype.destroy=function(){this._status=u.kIdle,this._onContentLengthKnown=null,this._onURLRedirect=null,this._onDataArrival=null,this._onError=null,this._onComplete=null},h.prototype.isWorking=function(){return this._status===u.kConnecting||this._status===u.kBuffering},Object.defineProperty(h.prototype,"type",{get:function(){return this._type},enumerable:!1,configurable:!0}),Object.defineProperty(h.prototype,"status",{get:function(){return this._status},enumerable:!1,configurable:!0}),Object.defineProperty(h.prototype,"needStashBuffer",{get:function(){return this._needStash},enumerable:!1,configurable:!0}),Object.defineProperty(h.prototype,"onContentLengthKnown",{get:function(){return this._onContentLengthKnown},set:function(g){this._onContentLengthKnown=g},enumerable:!1,configurable:!0}),Object.defineProperty(h.prototype,"onURLRedirect",{get:function(){return this._onURLRedirect},set:function(g){this._onURLRedirect=g},enumerable:!1,configurable:!0}),Object.defineProperty(h.prototype,"onDataArrival",{get:function(){return this._onDataArrival},set:function(g){this._onDataArrival=g},enumerable:!1,configurable:!0}),Object.defineProperty(h.prototype,"onError",{get:function(){return this._onError},set:function(g){this._onError=g},enumerable:!1,configurable:!0}),Object.defineProperty(h.prototype,"onComplete",{get:function(){return this._onComplete},set:function(g){this._onComplete=g},enumerable:!1,configurable:!0}),h.prototype.open=function(g,E){throw new d.NotImplementedException("Unimplemented abstract function!")},h.prototype.abort=function(){throw new d.NotImplementedException("Unimplemented abstract function!")},h}()},"./src/io/param-seek-handler.js":function(o,c,f){f.r(c);var d=function(){function u(a,l){this._startName=a,this._endName=l}return u.prototype.getConfig=function(a,l){var h=a;if(l.from!==0||l.to!==-1){var g=!0;h.indexOf("?")===-1&&(h+="?",g=!1),g&&(h+="&"),h+=this._startName+"="+l.from.toString(),l.to!==-1&&(h+="&"+this._endName+"="+l.to.toString())}return{url:h,headers:{}}},u.prototype.removeURLParameters=function(a){var l=a.split("?")[0],h=void 0,g=a.indexOf("?");g!==-1&&(h=a.substring(g+1));var E="";if(h!=null&&h.length>0)for(var y=h.split("&"),m=0;m<y.length;m++){var _=y[m].split("="),x=m>0;_[0]!==this._startName&&_[0]!==this._endName&&(x&&(E+="&"),E+=y[m])}return E.length===0?l:l+"?"+E},u}();c.default=d},"./src/io/range-seek-handler.js":function(o,c,f){f.r(c);var d=function(){function u(a){this._zeroStart=a||!1}return u.prototype.getConfig=function(a,l){var h={};if(l.from!==0||l.to!==-1){var g=void 0;l.to!==-1?g="bytes="+l.from.toString()+"-"+l.to.toString():g="bytes="+l.from.toString()+"-",h.Range=g}else this._zeroStart&&(h.Range="bytes=0-");return{url:a,headers:h}},u.prototype.removeURLParameters=function(a){return a},u}();c.default=d},"./src/io/speed-sampler.js":function(o,c,f){f.r(c);var d=function(){function u(){this._firstCheckpoint=0,this._lastCheckpoint=0,this._intervalBytes=0,this._totalBytes=0,this._lastSecondBytes=0,self.performance&&self.performance.now?this._now=self.performance.now.bind(self.performance):this._now=Date.now}return u.prototype.reset=function(){this._firstCheckpoint=this._lastCheckpoint=0,this._totalBytes=this._intervalBytes=0,this._lastSecondBytes=0},u.prototype.addBytes=function(a){this._firstCheckpoint===0?(this._firstCheckpoint=this._now(),this._lastCheckpoint=this._firstCheckpoint,this._intervalBytes+=a,this._totalBytes+=a):this._now()-this._lastCheckpoint<1e3?(this._intervalBytes+=a,this._totalBytes+=a):(this._lastSecondBytes=this._intervalBytes,this._intervalBytes=a,this._totalBytes+=a,this._lastCheckpoint=this._now())},Object.defineProperty(u.prototype,"currentKBps",{get:function(){this.addBytes(0);var a=(this._now()-this._lastCheckpoint)/1e3;return a==0&&(a=1),this._intervalBytes/a/1024},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"lastSecondKBps",{get:function(){return this.addBytes(0),this._lastSecondBytes!==0?this._lastSecondBytes/1024:this._now()-this._lastCheckpoint>=500?this.currentKBps:0},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"averageKBps",{get:function(){var a=(this._now()-this._firstCheckpoint)/1e3;return this._totalBytes/a/1024},enumerable:!1,configurable:!0}),u}();c.default=d},"./src/io/websocket-loader.js":function(o,c,f){f.r(c);var d=f("./src/io/loader.js"),u=f("./src/utils/exception.js"),a=function(){var h=function(g,E){return h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(y,m){y.__proto__=m}||function(y,m){for(var _ in m)Object.prototype.hasOwnProperty.call(m,_)&&(y[_]=m[_])},h(g,E)};return function(g,E){if(typeof E!="function"&&E!==null)throw new TypeError("Class extends value "+String(E)+" is not a constructor or null");h(g,E);function y(){this.constructor=g}g.prototype=E===null?Object.create(E):(y.prototype=E.prototype,new y)}}(),l=function(h){a(g,h);function g(){var E=h.call(this,"websocket-loader")||this;return E.TAG="WebSocketLoader",E._needStash=!0,E._ws=null,E._requestAbort=!1,E._receivedLength=0,E}return g.isSupported=function(){try{return typeof self.WebSocket<"u"}catch{return!1}},g.prototype.destroy=function(){this._ws&&this.abort(),h.prototype.destroy.call(this)},g.prototype.open=function(E){try{var y=this._ws=new self.WebSocket(E.url);y.binaryType="arraybuffer",y.onopen=this._onWebSocketOpen.bind(this),y.onclose=this._onWebSocketClose.bind(this),y.onmessage=this._onWebSocketMessage.bind(this),y.onerror=this._onWebSocketError.bind(this),this._status=d.LoaderStatus.kConnecting}catch(_){this._status=d.LoaderStatus.kError;var m={code:_.code,msg:_.message};if(this._onError)this._onError(d.LoaderErrors.EXCEPTION,m);else throw new u.RuntimeException(m.msg)}},g.prototype.abort=function(){var E=this._ws;E&&(E.readyState===0||E.readyState===1)&&(this._requestAbort=!0,E.close()),this._ws=null,this._status=d.LoaderStatus.kComplete},g.prototype._onWebSocketOpen=function(E){this._status=d.LoaderStatus.kBuffering},g.prototype._onWebSocketClose=function(E){if(this._requestAbort===!0){this._requestAbort=!1;return}this._status=d.LoaderStatus.kComplete,this._onComplete&&this._onComplete(0,this._receivedLength-1)},g.prototype._onWebSocketMessage=function(E){var y=this;if(E.data instanceof ArrayBuffer)this._dispatchArrayBuffer(E.data);else if(E.data instanceof Blob){var m=new FileReader;m.onload=function(){y._dispatchArrayBuffer(m.result)},m.readAsArrayBuffer(E.data)}else{this._status=d.LoaderStatus.kError;var _={code:-1,msg:"Unsupported WebSocket message type: "+E.data.constructor.name};if(this._onError)this._onError(d.LoaderErrors.EXCEPTION,_);else throw new u.RuntimeException(_.msg)}},g.prototype._dispatchArrayBuffer=function(E){var y=E,m=this._receivedLength;this._receivedLength+=y.byteLength,this._onDataArrival&&this._onDataArrival(y,m,this._receivedLength)},g.prototype._onWebSocketError=function(E){this._status=d.LoaderStatus.kError;var y={code:E.code,msg:E.message};if(this._onError)this._onError(d.LoaderErrors.EXCEPTION,y);else throw new u.RuntimeException(y.msg)},g}(d.BaseLoader);c.default=l},"./src/io/xhr-moz-chunked-loader.js":function(o,c,f){f.r(c);var d=f("./src/utils/logger.js"),u=f("./src/io/loader.js"),a=f("./src/utils/exception.js"),l=function(){var g=function(E,y){return g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(m,_){m.__proto__=_}||function(m,_){for(var x in _)Object.prototype.hasOwnProperty.call(_,x)&&(m[x]=_[x])},g(E,y)};return function(E,y){if(typeof y!="function"&&y!==null)throw new TypeError("Class extends value "+String(y)+" is not a constructor or null");g(E,y);function m(){this.constructor=E}E.prototype=y===null?Object.create(y):(m.prototype=y.prototype,new m)}}(),h=function(g){l(E,g);function E(y,m){var _=g.call(this,"xhr-moz-chunked-loader")||this;return _.TAG="MozChunkedLoader",_._seekHandler=y,_._config=m,_._needStash=!0,_._xhr=null,_._requestAbort=!1,_._contentLength=null,_._receivedLength=0,_}return E.isSupported=function(){try{var y=new XMLHttpRequest;return y.open("GET","https://example.com",!0),y.responseType="moz-chunked-arraybuffer",y.responseType==="moz-chunked-arraybuffer"}catch(m){return d.default.w("MozChunkedLoader",m.message),!1}},E.prototype.destroy=function(){this.isWorking()&&this.abort(),this._xhr&&(this._xhr.onreadystatechange=null,this._xhr.onprogress=null,this._xhr.onloadend=null,this._xhr.onerror=null,this._xhr=null),g.prototype.destroy.call(this)},E.prototype.open=function(y,m){this._dataSource=y,this._range=m;var _=y.url;this._config.reuseRedirectedURL&&y.redirectedURL!=null&&(_=y.redirectedURL);var x=this._seekHandler.getConfig(_,m);this._requestURL=x.url;var p=this._xhr=new XMLHttpRequest;if(p.open("GET",x.url,!0),p.responseType="moz-chunked-arraybuffer",p.onreadystatechange=this._onReadyStateChange.bind(this),p.onprogress=this._onProgress.bind(this),p.onloadend=this._onLoadEnd.bind(this),p.onerror=this._onXhrError.bind(this),y.withCredentials&&(p.withCredentials=!0),typeof x.headers=="object"){var v=x.headers;for(var b in v)v.hasOwnProperty(b)&&p.setRequestHeader(b,v[b])}if(typeof this._config.headers=="object"){var v=this._config.headers;for(var b in v)v.hasOwnProperty(b)&&p.setRequestHeader(b,v[b])}this._status=u.LoaderStatus.kConnecting,p.send()},E.prototype.abort=function(){this._requestAbort=!0,this._xhr&&this._xhr.abort(),this._status=u.LoaderStatus.kComplete},E.prototype._onReadyStateChange=function(y){var m=y.target;if(m.readyState===2){if(m.responseURL!=null&&m.responseURL!==this._requestURL&&this._onURLRedirect){var _=this._seekHandler.removeURLParameters(m.responseURL);this._onURLRedirect(_)}if(m.status!==0&&(m.status<200||m.status>299))if(this._status=u.LoaderStatus.kError,this._onError)this._onError(u.LoaderErrors.HTTP_STATUS_CODE_INVALID,{code:m.status,msg:m.statusText});else throw new a.RuntimeException("MozChunkedLoader: Http code invalid, "+m.status+" "+m.statusText);else this._status=u.LoaderStatus.kBuffering}},E.prototype._onProgress=function(y){if(this._status!==u.LoaderStatus.kError){this._contentLength===null&&y.total!==null&&y.total!==0&&(this._contentLength=y.total,this._onContentLengthKnown&&this._onContentLengthKnown(this._contentLength));var m=y.target.response,_=this._range.from+this._receivedLength;this._receivedLength+=m.byteLength,this._onDataArrival&&this._onDataArrival(m,_,this._receivedLength)}},E.prototype._onLoadEnd=function(y){if(this._requestAbort===!0){this._requestAbort=!1;return}else if(this._status===u.LoaderStatus.kError)return;this._status=u.LoaderStatus.kComplete,this._onComplete&&this._onComplete(this._range.from,this._range.from+this._receivedLength-1)},E.prototype._onXhrError=function(y){this._status=u.LoaderStatus.kError;var m=0,_=null;if(this._contentLength&&y.loaded<this._contentLength?(m=u.LoaderErrors.EARLY_EOF,_={code:-1,msg:"Moz-Chunked stream meet Early-Eof"}):(m=u.LoaderErrors.EXCEPTION,_={code:-1,msg:y.constructor.name+" "+y.type}),this._onError)this._onError(m,_);else throw new a.RuntimeException(_.msg)},E}(u.BaseLoader);c.default=h},"./src/io/xhr-range-loader.js":function(o,c,f){f.r(c);var d=f("./src/utils/logger.js"),u=f("./src/io/speed-sampler.js"),a=f("./src/io/loader.js"),l=f("./src/utils/exception.js"),h=function(){var E=function(y,m){return E=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(_,x){_.__proto__=x}||function(_,x){for(var p in x)Object.prototype.hasOwnProperty.call(x,p)&&(_[p]=x[p])},E(y,m)};return function(y,m){if(typeof m!="function"&&m!==null)throw new TypeError("Class extends value "+String(m)+" is not a constructor or null");E(y,m);function _(){this.constructor=y}y.prototype=m===null?Object.create(m):(_.prototype=m.prototype,new _)}}(),g=function(E){h(y,E);function y(m,_){var x=E.call(this,"xhr-range-loader")||this;return x.TAG="RangeLoader",x._seekHandler=m,x._config=_,x._needStash=!1,x._chunkSizeKBList=[128,256,384,512,768,1024,1536,2048,3072,4096,5120,6144,7168,8192],x._currentChunkSizeKB=384,x._currentSpeedNormalized=0,x._zeroSpeedChunkCount=0,x._xhr=null,x._speedSampler=new u.default,x._requestAbort=!1,x._waitForTotalLength=!1,x._totalLengthReceived=!1,x._currentRequestURL=null,x._currentRedirectedURL=null,x._currentRequestRange=null,x._totalLength=null,x._contentLength=null,x._receivedLength=0,x._lastTimeLoaded=0,x}return y.isSupported=function(){try{var m=new XMLHttpRequest;return m.open("GET","https://example.com",!0),m.responseType="arraybuffer",m.responseType==="arraybuffer"}catch(_){return d.default.w("RangeLoader",_.message),!1}},y.prototype.destroy=function(){this.isWorking()&&this.abort(),this._xhr&&(this._xhr.onreadystatechange=null,this._xhr.onprogress=null,this._xhr.onload=null,this._xhr.onerror=null,this._xhr=null),E.prototype.destroy.call(this)},Object.defineProperty(y.prototype,"currentSpeed",{get:function(){return this._speedSampler.lastSecondKBps},enumerable:!1,configurable:!0}),y.prototype.open=function(m,_){this._dataSource=m,this._range=_,this._status=a.LoaderStatus.kConnecting;var x=!1;this._dataSource.filesize!=null&&this._dataSource.filesize!==0&&(x=!0,this._totalLength=this._dataSource.filesize),!this._totalLengthReceived&&!x?(this._waitForTotalLength=!0,this._internalOpen(this._dataSource,{from:0,to:-1})):this._openSubRange()},y.prototype._openSubRange=function(){var m=this._currentChunkSizeKB*1024,_=this._range.from+this._receivedLength,x=_+m;this._contentLength!=null&&x-this._range.from>=this._contentLength&&(x=this._range.from+this._contentLength-1),this._currentRequestRange={from:_,to:x},this._internalOpen(this._dataSource,this._currentRequestRange)},y.prototype._internalOpen=function(m,_){this._lastTimeLoaded=0;var x=m.url;this._config.reuseRedirectedURL&&(this._currentRedirectedURL!=null?x=this._currentRedirectedURL:m.redirectedURL!=null&&(x=m.redirectedURL));var p=this._seekHandler.getConfig(x,_);this._currentRequestURL=p.url;var v=this._xhr=new XMLHttpRequest;if(v.open("GET",p.url,!0),v.responseType="arraybuffer",v.onreadystatechange=this._onReadyStateChange.bind(this),v.onprogress=this._onProgress.bind(this),v.onload=this._onLoad.bind(this),v.onerror=this._onXhrError.bind(this),m.withCredentials&&(v.withCredentials=!0),typeof p.headers=="object"){var b=p.headers;for(var w in b)b.hasOwnProperty(w)&&v.setRequestHeader(w,b[w])}if(typeof this._config.headers=="object"){var b=this._config.headers;for(var w in b)b.hasOwnProperty(w)&&v.setRequestHeader(w,b[w])}v.send()},y.prototype.abort=function(){this._requestAbort=!0,this._internalAbort(),this._status=a.LoaderStatus.kComplete},y.prototype._internalAbort=function(){this._xhr&&(this._xhr.onreadystatechange=null,this._xhr.onprogress=null,this._xhr.onload=null,this._xhr.onerror=null,this._xhr.abort(),this._xhr=null)},y.prototype._onReadyStateChange=function(m){var _=m.target;if(_.readyState===2){if(_.responseURL!=null){var x=this._seekHandler.removeURLParameters(_.responseURL);_.responseURL!==this._currentRequestURL&&x!==this._currentRedirectedURL&&(this._currentRedirectedURL=x,this._onURLRedirect&&this._onURLRedirect(x))}if(_.status>=200&&_.status<=299){if(this._waitForTotalLength)return;this._status=a.LoaderStatus.kBuffering}else if(this._status=a.LoaderStatus.kError,this._onError)this._onError(a.LoaderErrors.HTTP_STATUS_CODE_INVALID,{code:_.status,msg:_.statusText});else throw new l.RuntimeException("RangeLoader: Http code invalid, "+_.status+" "+_.statusText)}},y.prototype._onProgress=function(m){if(this._status!==a.LoaderStatus.kError){if(this._contentLength===null){var _=!1;if(this._waitForTotalLength){this._waitForTotalLength=!1,this._totalLengthReceived=!0,_=!0;var x=m.total;this._internalAbort(),x!=null&x!==0&&(this._totalLength=x)}if(this._range.to===-1?this._contentLength=this._totalLength-this._range.from:this._contentLength=this._range.to-this._range.from+1,_){this._openSubRange();return}this._onContentLengthKnown&&this._onContentLengthKnown(this._contentLength)}var p=m.loaded-this._lastTimeLoaded;this._lastTimeLoaded=m.loaded,this._speedSampler.addBytes(p)}},y.prototype._normalizeSpeed=function(m){var _=this._chunkSizeKBList,x=_.length-1,p=0,v=0,b=x;if(m<_[0])return _[0];for(;v<=b;){if(p=v+Math.floor((b-v)/2),p===x||m>=_[p]&&m<_[p+1])return _[p];_[p]<m?v=p+1:b=p-1}},y.prototype._onLoad=function(m){if(this._status!==a.LoaderStatus.kError){if(this._waitForTotalLength){this._waitForTotalLength=!1;return}this._lastTimeLoaded=0;var _=this._speedSampler.lastSecondKBps;if(_===0&&(this._zeroSpeedChunkCount++,this._zeroSpeedChunkCount>=3&&(_=this._speedSampler.currentKBps)),_!==0){var x=this._normalizeSpeed(_);this._currentSpeedNormalized!==x&&(this._currentSpeedNormalized=x,this._currentChunkSizeKB=x)}var p=m.target.response,v=this._range.from+this._receivedLength;this._receivedLength+=p.byteLength;var b=!1;this._contentLength!=null&&this._receivedLength<this._contentLength?this._openSubRange():b=!0,this._onDataArrival&&this._onDataArrival(p,v,this._receivedLength),b&&(this._status=a.LoaderStatus.kComplete,this._onComplete&&this._onComplete(this._range.from,this._range.from+this._receivedLength-1))}},y.prototype._onXhrError=function(m){this._status=a.LoaderStatus.kError;var _=0,x=null;if(this._contentLength&&this._receivedLength>0&&this._receivedLength<this._contentLength?(_=a.LoaderErrors.EARLY_EOF,x={code:-1,msg:"RangeLoader meet Early-Eof"}):(_=a.LoaderErrors.EXCEPTION,x={code:-1,msg:m.constructor.name+" "+m.type}),this._onError)this._onError(_,x);else throw new l.RuntimeException(x.msg)},y}(a.BaseLoader);c.default=g},"./src/player/flv-player.js":function(o,c,f){f.r(c);var d=f("./node_modules/events/events.js"),u=f.n(d),a=f("./src/utils/logger.js"),l=f("./src/utils/browser.js"),h=f("./src/player/player-events.js"),g=f("./src/core/transmuxer.js"),E=f("./src/core/transmuxing-events.js"),y=f("./src/core/mse-controller.js"),m=f("./src/core/mse-events.js"),_=f("./src/player/player-errors.js"),x=f("./src/config.js"),p=f("./src/utils/exception.js"),v=function(){function b(w,A){if(this.TAG="FlvPlayer",this._type="FlvPlayer",this._emitter=new(u()),this._config=(0,x.createDefaultConfig)(),typeof A=="object"&&Object.assign(this._config,A),w.type.toLowerCase()!=="flv")throw new p.InvalidArgumentException("FlvPlayer requires an flv MediaDataSource input!");w.isLive===!0&&(this._config.isLive=!0),this.e={onvLoadedMetadata:this._onvLoadedMetadata.bind(this),onvSeeking:this._onvSeeking.bind(this),onvCanPlay:this._onvCanPlay.bind(this),onvStalled:this._onvStalled.bind(this),onvProgress:this._onvProgress.bind(this)},self.performance&&self.performance.now?this._now=self.performance.now.bind(self.performance):this._now=Date.now,this._pendingSeekTime=null,this._requestSetTime=!1,this._seekpointRecord=null,this._progressChecker=null,this._mediaDataSource=w,this._mediaElement=null,this._msectl=null,this._transmuxer=null,this._mseSourceOpened=!1,this._hasPendingLoad=!1,this._receivedCanPlay=!1,this._mediaInfo=null,this._statisticsInfo=null;var T=l.default.chrome&&(l.default.version.major<50||l.default.version.major===50&&l.default.version.build<2661);this._alwaysSeekKeyframe=!!(T||l.default.msedge||l.default.msie),this._alwaysSeekKeyframe&&(this._config.accurateSeek=!1)}return b.prototype.destroy=function(){this._progressChecker!=null&&(window.clearInterval(this._progressChecker),this._progressChecker=null),this._transmuxer&&this.unload(),this._mediaElement&&this.detachMediaElement(),this.e=null,this._mediaDataSource=null,this._emitter.removeAllListeners(),this._emitter=null},b.prototype.on=function(w,A){var T=this;w===h.default.MEDIA_INFO?this._mediaInfo!=null&&Promise.resolve().then(function(){T._emitter.emit(h.default.MEDIA_INFO,T.mediaInfo)}):w===h.default.STATISTICS_INFO&&this._statisticsInfo!=null&&Promise.resolve().then(function(){T._emitter.emit(h.default.STATISTICS_INFO,T.statisticsInfo)}),this._emitter.addListener(w,A)},b.prototype.off=function(w,A){this._emitter.removeListener(w,A)},b.prototype.attachMediaElement=function(w){var A=this;if(this._mediaElement=w,w.addEventListener("loadedmetadata",this.e.onvLoadedMetadata),w.addEventListener("seeking",this.e.onvSeeking),w.addEventListener("canplay",this.e.onvCanPlay),w.addEventListener("stalled",this.e.onvStalled),w.addEventListener("progress",this.e.onvProgress),this._msectl=new y.default(this._config),this._msectl.on(m.default.UPDATE_END,this._onmseUpdateEnd.bind(this)),this._msectl.on(m.default.BUFFER_FULL,this._onmseBufferFull.bind(this)),this._msectl.on(m.default.SOURCE_OPEN,function(){A._mseSourceOpened=!0,A._hasPendingLoad&&(A._hasPendingLoad=!1,A.load())}),this._msectl.on(m.default.ERROR,function(T){A._emitter.emit(h.default.ERROR,_.ErrorTypes.MEDIA_ERROR,_.ErrorDetails.MEDIA_MSE_ERROR,T)}),this._msectl.attachMediaElement(w),this._pendingSeekTime!=null)try{w.currentTime=this._pendingSeekTime,this._pendingSeekTime=null}catch{}},b.prototype.detachMediaElement=function(){this._mediaElement&&(this._msectl.detachMediaElement(),this._mediaElement.removeEventListener("loadedmetadata",this.e.onvLoadedMetadata),this._mediaElement.removeEventListener("seeking",this.e.onvSeeking),this._mediaElement.removeEventListener("canplay",this.e.onvCanPlay),this._mediaElement.removeEventListener("stalled",this.e.onvStalled),this._mediaElement.removeEventListener("progress",this.e.onvProgress),this._mediaElement=null),this._msectl&&(this._msectl.destroy(),this._msectl=null)},b.prototype.load=function(){var w=this;if(!this._mediaElement)throw new p.IllegalStateException("HTMLMediaElement must be attached before load()!");if(this._transmuxer)throw new p.IllegalStateException("FlvPlayer.load() has been called, please call unload() first!");if(!this._hasPendingLoad){if(this._config.deferLoadAfterSourceOpen&&this._mseSourceOpened===!1){this._hasPendingLoad=!0;return}this._mediaElement.readyState>0&&(this._requestSetTime=!0,this._mediaElement.currentTime=0),this._transmuxer=new g.default(this._mediaDataSource,this._config),this._transmuxer.on(E.default.INIT_SEGMENT,function(A,T){w._msectl.appendInitSegment(T)}),this._transmuxer.on(E.default.MEDIA_SEGMENT,function(A,T){if(w._msectl.appendMediaSegment(T),w._config.lazyLoad&&!w._config.isLive){var P=w._mediaElement.currentTime;T.info.endDts>=(P+w._config.lazyLoadMaxDuration)*1e3&&w._progressChecker==null&&(a.default.v(w.TAG,"Maximum buffering duration exceeded, suspend transmuxing task"),w._suspendTransmuxer())}}),this._transmuxer.on(E.default.LOADING_COMPLETE,function(){w._msectl.endOfStream(),w._emitter.emit(h.default.LOADING_COMPLETE)}),this._transmuxer.on(E.default.RECOVERED_EARLY_EOF,function(){w._emitter.emit(h.default.RECOVERED_EARLY_EOF)}),this._transmuxer.on(E.default.IO_ERROR,function(A,T){w._emitter.emit(h.default.ERROR,_.ErrorTypes.NETWORK_ERROR,A,T)}),this._transmuxer.on(E.default.DEMUX_ERROR,function(A,T){w._emitter.emit(h.default.ERROR,_.ErrorTypes.MEDIA_ERROR,A,{code:-1,msg:T})}),this._transmuxer.on(E.default.MEDIA_INFO,function(A){w._mediaInfo=A,w._emitter.emit(h.default.MEDIA_INFO,Object.assign({},A))}),this._transmuxer.on(E.default.METADATA_ARRIVED,function(A){w._emitter.emit(h.default.METADATA_ARRIVED,A)}),this._transmuxer.on(E.default.SCRIPTDATA_ARRIVED,function(A){w._emitter.emit(h.default.SCRIPTDATA_ARRIVED,A)}),this._transmuxer.on(E.default.STATISTICS_INFO,function(A){w._statisticsInfo=w._fillStatisticsInfo(A),w._emitter.emit(h.default.STATISTICS_INFO,Object.assign({},w._statisticsInfo))}),this._transmuxer.on(E.default.RECOMMEND_SEEKPOINT,function(A){w._mediaElement&&!w._config.accurateSeek&&(w._requestSetTime=!0,w._mediaElement.currentTime=A/1e3)}),this._transmuxer.open()}},b.prototype.unload=function(){this._mediaElement&&this._mediaElement.pause(),this._msectl&&this._msectl.seek(0),this._transmuxer&&(this._transmuxer.close(),this._transmuxer.destroy(),this._transmuxer=null)},b.prototype.play=function(){return this._mediaElement.play()},b.prototype.pause=function(){this._mediaElement.pause()},Object.defineProperty(b.prototype,"type",{get:function(){return this._type},enumerable:!1,configurable:!0}),Object.defineProperty(b.prototype,"buffered",{get:function(){return this._mediaElement.buffered},enumerable:!1,configurable:!0}),Object.defineProperty(b.prototype,"duration",{get:function(){return this._mediaElement.duration},enumerable:!1,configurable:!0}),Object.defineProperty(b.prototype,"volume",{get:function(){return this._mediaElement.volume},set:function(w){this._mediaElement.volume=w},enumerable:!1,configurable:!0}),Object.defineProperty(b.prototype,"muted",{get:function(){return this._mediaElement.muted},set:function(w){this._mediaElement.muted=w},enumerable:!1,configurable:!0}),Object.defineProperty(b.prototype,"currentTime",{get:function(){return this._mediaElement?this._mediaElement.currentTime:0},set:function(w){this._mediaElement?this._internalSeek(w):this._pendingSeekTime=w},enumerable:!1,configurable:!0}),Object.defineProperty(b.prototype,"mediaInfo",{get:function(){return Object.assign({},this._mediaInfo)},enumerable:!1,configurable:!0}),Object.defineProperty(b.prototype,"statisticsInfo",{get:function(){return this._statisticsInfo==null&&(this._statisticsInfo={}),this._statisticsInfo=this._fillStatisticsInfo(this._statisticsInfo),Object.assign({},this._statisticsInfo)},enumerable:!1,configurable:!0}),b.prototype._fillStatisticsInfo=function(w){if(w.playerType=this._type,!(this._mediaElement instanceof HTMLVideoElement))return w;var A=!0,T=0,P=0;if(this._mediaElement.getVideoPlaybackQuality){var R=this._mediaElement.getVideoPlaybackQuality();T=R.totalVideoFrames,P=R.droppedVideoFrames}else this._mediaElement.webkitDecodedFrameCount!=null?(T=this._mediaElement.webkitDecodedFrameCount,P=this._mediaElement.webkitDroppedFrameCount):A=!1;return A&&(w.decodedFrames=T,w.droppedFrames=P),w},b.prototype._onmseUpdateEnd=function(){if(!(!this._config.lazyLoad||this._config.isLive)){for(var w=this._mediaElement.buffered,A=this._mediaElement.currentTime,T=0,P=0;P<w.length;P++){var R=w.start(P),C=w.end(P);if(R<=A&&A<C){T=C;break}}T>=A+this._config.lazyLoadMaxDuration&&this._progressChecker==null&&(a.default.v(this.TAG,"Maximum buffering duration exceeded, suspend transmuxing task"),this._suspendTransmuxer())}},b.prototype._onmseBufferFull=function(){a.default.v(this.TAG,"MSE SourceBuffer is full, suspend transmuxing task"),this._progressChecker==null&&this._suspendTransmuxer()},b.prototype._suspendTransmuxer=function(){this._transmuxer&&(this._transmuxer.pause(),this._progressChecker==null&&(this._progressChecker=window.setInterval(this._checkProgressAndResume.bind(this),1e3)))},b.prototype._checkProgressAndResume=function(){for(var w=this._mediaElement.currentTime,A=this._mediaElement.buffered,T=!1,P=0;P<A.length;P++){var R=A.start(P),C=A.end(P);if(w>=R&&w<C){w>=C-this._config.lazyLoadRecoverDuration&&(T=!0);break}}T&&(window.clearInterval(this._progressChecker),this._progressChecker=null,T&&(a.default.v(this.TAG,"Continue loading from paused position"),this._transmuxer.resume()))},b.prototype._isTimepointBuffered=function(w){for(var A=this._mediaElement.buffered,T=0;T<A.length;T++){var P=A.start(T),R=A.end(T);if(w>=P&&w<R)return!0}return!1},b.prototype._internalSeek=function(w){var A=this._isTimepointBuffered(w),T=!1,P=0;if(w<1&&this._mediaElement.buffered.length>0){var R=this._mediaElement.buffered.start(0);(R<1&&w<R||l.default.safari)&&(T=!0,P=l.default.safari?.1:R)}if(T)this._requestSetTime=!0,this._mediaElement.currentTime=P;else if(A){if(!this._alwaysSeekKeyframe)this._requestSetTime=!0,this._mediaElement.currentTime=w;else{var C=this._msectl.getNearestKeyframe(Math.floor(w*1e3));this._requestSetTime=!0,C!=null?this._mediaElement.currentTime=C.dts/1e3:this._mediaElement.currentTime=w}this._progressChecker!=null&&this._checkProgressAndResume()}else this._progressChecker!=null&&(window.clearInterval(this._progressChecker),this._progressChecker=null),this._msectl.seek(w),this._transmuxer.seek(Math.floor(w*1e3)),this._config.accurateSeek&&(this._requestSetTime=!0,this._mediaElement.currentTime=w)},b.prototype._checkAndApplyUnbufferedSeekpoint=function(){if(this._seekpointRecord)if(this._seekpointRecord.recordTime<=this._now()-100){var w=this._mediaElement.currentTime;this._seekpointRecord=null,this._isTimepointBuffered(w)||(this._progressChecker!=null&&(window.clearTimeout(this._progressChecker),this._progressChecker=null),this._msectl.seek(w),this._transmuxer.seek(Math.floor(w*1e3)),this._config.accurateSeek&&(this._requestSetTime=!0,this._mediaElement.currentTime=w))}else window.setTimeout(this._checkAndApplyUnbufferedSeekpoint.bind(this),50)},b.prototype._checkAndResumeStuckPlayback=function(w){var A=this._mediaElement;if(w||!this._receivedCanPlay||A.readyState<2){var T=A.buffered;T.length>0&&A.currentTime<T.start(0)&&(a.default.w(this.TAG,"Playback seems stuck at "+A.currentTime+", seek to "+T.start(0)),this._requestSetTime=!0,this._mediaElement.currentTime=T.start(0),this._mediaElement.removeEventListener("progress",this.e.onvProgress))}else this._mediaElement.removeEventListener("progress",this.e.onvProgress)},b.prototype._onvLoadedMetadata=function(w){this._pendingSeekTime!=null&&(this._mediaElement.currentTime=this._pendingSeekTime,this._pendingSeekTime=null)},b.prototype._onvSeeking=function(w){var A=this._mediaElement.currentTime,T=this._mediaElement.buffered;if(this._requestSetTime){this._requestSetTime=!1;return}if(A<1&&T.length>0){var P=T.start(0);if(P<1&&A<P||l.default.safari){this._requestSetTime=!0,this._mediaElement.currentTime=l.default.safari?.1:P;return}}if(this._isTimepointBuffered(A)){if(this._alwaysSeekKeyframe){var R=this._msectl.getNearestKeyframe(Math.floor(A*1e3));R!=null&&(this._requestSetTime=!0,this._mediaElement.currentTime=R.dts/1e3)}this._progressChecker!=null&&this._checkProgressAndResume();return}this._seekpointRecord={seekPoint:A,recordTime:this._now()},window.setTimeout(this._checkAndApplyUnbufferedSeekpoint.bind(this),50)},b.prototype._onvCanPlay=function(w){this._receivedCanPlay=!0,this._mediaElement.removeEventListener("canplay",this.e.onvCanPlay)},b.prototype._onvStalled=function(w){this._checkAndResumeStuckPlayback(!0)},b.prototype._onvProgress=function(w){this._checkAndResumeStuckPlayback()},b}();c.default=v},"./src/player/native-player.js":function(o,c,f){f.r(c);var d=f("./node_modules/events/events.js"),u=f.n(d),a=f("./src/player/player-events.js"),l=f("./src/config.js"),h=f("./src/utils/exception.js"),g=function(){function E(y,m){if(this.TAG="NativePlayer",this._type="NativePlayer",this._emitter=new(u()),this._config=(0,l.createDefaultConfig)(),typeof m=="object"&&Object.assign(this._config,m),y.type.toLowerCase()==="flv")throw new h.InvalidArgumentException("NativePlayer does't support flv MediaDataSource input!");if(y.hasOwnProperty("segments"))throw new h.InvalidArgumentException("NativePlayer("+y.type+") doesn't support multipart playback!");this.e={onvLoadedMetadata:this._onvLoadedMetadata.bind(this)},this._pendingSeekTime=null,this._statisticsReporter=null,this._mediaDataSource=y,this._mediaElement=null}return E.prototype.destroy=function(){this._mediaElement&&(this.unload(),this.detachMediaElement()),this.e=null,this._mediaDataSource=null,this._emitter.removeAllListeners(),this._emitter=null},E.prototype.on=function(y,m){var _=this;y===a.default.MEDIA_INFO?this._mediaElement!=null&&this._mediaElement.readyState!==0&&Promise.resolve().then(function(){_._emitter.emit(a.default.MEDIA_INFO,_.mediaInfo)}):y===a.default.STATISTICS_INFO&&this._mediaElement!=null&&this._mediaElement.readyState!==0&&Promise.resolve().then(function(){_._emitter.emit(a.default.STATISTICS_INFO,_.statisticsInfo)}),this._emitter.addListener(y,m)},E.prototype.off=function(y,m){this._emitter.removeListener(y,m)},E.prototype.attachMediaElement=function(y){if(this._mediaElement=y,y.addEventListener("loadedmetadata",this.e.onvLoadedMetadata),this._pendingSeekTime!=null)try{y.currentTime=this._pendingSeekTime,this._pendingSeekTime=null}catch{}},E.prototype.detachMediaElement=function(){this._mediaElement&&(this._mediaElement.src="",this._mediaElement.removeAttribute("src"),this._mediaElement.removeEventListener("loadedmetadata",this.e.onvLoadedMetadata),this._mediaElement=null),this._statisticsReporter!=null&&(window.clearInterval(this._statisticsReporter),this._statisticsReporter=null)},E.prototype.load=function(){if(!this._mediaElement)throw new h.IllegalStateException("HTMLMediaElement must be attached before load()!");this._mediaElement.src=this._mediaDataSource.url,this._mediaElement.readyState>0&&(this._mediaElement.currentTime=0),this._mediaElement.preload="auto",this._mediaElement.load(),this._statisticsReporter=window.setInterval(this._reportStatisticsInfo.bind(this),this._config.statisticsInfoReportInterval)},E.prototype.unload=function(){this._mediaElement&&(this._mediaElement.src="",this._mediaElement.removeAttribute("src")),this._statisticsReporter!=null&&(window.clearInterval(this._statisticsReporter),this._statisticsReporter=null)},E.prototype.play=function(){return this._mediaElement.play()},E.prototype.pause=function(){this._mediaElement.pause()},Object.defineProperty(E.prototype,"type",{get:function(){return this._type},enumerable:!1,configurable:!0}),Object.defineProperty(E.prototype,"buffered",{get:function(){return this._mediaElement.buffered},enumerable:!1,configurable:!0}),Object.defineProperty(E.prototype,"duration",{get:function(){return this._mediaElement.duration},enumerable:!1,configurable:!0}),Object.defineProperty(E.prototype,"volume",{get:function(){return this._mediaElement.volume},set:function(y){this._mediaElement.volume=y},enumerable:!1,configurable:!0}),Object.defineProperty(E.prototype,"muted",{get:function(){return this._mediaElement.muted},set:function(y){this._mediaElement.muted=y},enumerable:!1,configurable:!0}),Object.defineProperty(E.prototype,"currentTime",{get:function(){return this._mediaElement?this._mediaElement.currentTime:0},set:function(y){this._mediaElement?this._mediaElement.currentTime=y:this._pendingSeekTime=y},enumerable:!1,configurable:!0}),Object.defineProperty(E.prototype,"mediaInfo",{get:function(){var y=this._mediaElement instanceof HTMLAudioElement?"audio/":"video/",m={mimeType:y+this._mediaDataSource.type};return this._mediaElement&&(m.duration=Math.floor(this._mediaElement.duration*1e3),this._mediaElement instanceof HTMLVideoElement&&(m.width=this._mediaElement.videoWidth,m.height=this._mediaElement.videoHeight)),m},enumerable:!1,configurable:!0}),Object.defineProperty(E.prototype,"statisticsInfo",{get:function(){var y={playerType:this._type,url:this._mediaDataSource.url};if(!(this._mediaElement instanceof HTMLVideoElement))return y;var m=!0,_=0,x=0;if(this._mediaElement.getVideoPlaybackQuality){var p=this._mediaElement.getVideoPlaybackQuality();_=p.totalVideoFrames,x=p.droppedVideoFrames}else this._mediaElement.webkitDecodedFrameCount!=null?(_=this._mediaElement.webkitDecodedFrameCount,x=this._mediaElement.webkitDroppedFrameCount):m=!1;return m&&(y.decodedFrames=_,y.droppedFrames=x),y},enumerable:!1,configurable:!0}),E.prototype._onvLoadedMetadata=function(y){this._pendingSeekTime!=null&&(this._mediaElement.currentTime=this._pendingSeekTime,this._pendingSeekTime=null),this._emitter.emit(a.default.MEDIA_INFO,this.mediaInfo)},E.prototype._reportStatisticsInfo=function(){this._emitter.emit(a.default.STATISTICS_INFO,this.statisticsInfo)},E}();c.default=g},"./src/player/player-errors.js":function(o,c,f){f.r(c),f.d(c,{ErrorTypes:function(){return a},ErrorDetails:function(){return l}});var d=f("./src/io/loader.js"),u=f("./src/demux/demux-errors.js"),a={NETWORK_ERROR:"NetworkError",MEDIA_ERROR:"MediaError",OTHER_ERROR:"OtherError"},l={NETWORK_EXCEPTION:d.LoaderErrors.EXCEPTION,NETWORK_STATUS_CODE_INVALID:d.LoaderErrors.HTTP_STATUS_CODE_INVALID,NETWORK_TIMEOUT:d.LoaderErrors.CONNECTING_TIMEOUT,NETWORK_UNRECOVERABLE_EARLY_EOF:d.LoaderErrors.UNRECOVERABLE_EARLY_EOF,MEDIA_MSE_ERROR:"MediaMSEError",MEDIA_FORMAT_ERROR:u.default.FORMAT_ERROR,MEDIA_FORMAT_UNSUPPORTED:u.default.FORMAT_UNSUPPORTED,MEDIA_CODEC_UNSUPPORTED:u.default.CODEC_UNSUPPORTED}},"./src/player/player-events.js":function(o,c,f){f.r(c);var d={ERROR:"error",LOADING_COMPLETE:"loading_complete",RECOVERED_EARLY_EOF:"recovered_early_eof",MEDIA_INFO:"media_info",METADATA_ARRIVED:"metadata_arrived",SCRIPTDATA_ARRIVED:"scriptdata_arrived",STATISTICS_INFO:"statistics_info"};c.default=d},"./src/remux/aac-silent.js":function(o,c,f){f.r(c);var d=function(){function u(){}return u.getSilentFrame=function(a,l){if(a==="mp4a.40.2"){if(l===1)return new Uint8Array([0,200,0,128,35,128]);if(l===2)return new Uint8Array([33,0,73,144,2,25,0,35,128]);if(l===3)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,142]);if(l===4)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,128,44,128,8,2,56]);if(l===5)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,130,48,4,153,0,33,144,2,56]);if(l===6)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,130,48,4,153,0,33,144,2,0,178,0,32,8,224])}else{if(l===1)return new Uint8Array([1,64,34,128,163,78,230,128,186,8,0,0,0,28,6,241,193,10,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,94]);if(l===2)return new Uint8Array([1,64,34,128,163,94,230,128,186,8,0,0,0,0,149,0,6,241,161,10,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,94]);if(l===3)return new Uint8Array([1,64,34,128,163,94,230,128,186,8,0,0,0,0,149,0,6,241,161,10,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,94])}return null},u}();c.default=d},"./src/remux/mp4-generator.js":function(o,c,f){f.r(c);var d=function(){function u(){}return u.init=function(){u.types={avc1:[],avcC:[],btrt:[],dinf:[],dref:[],esds:[],ftyp:[],hdlr:[],mdat:[],mdhd:[],mdia:[],mfhd:[],minf:[],moof:[],moov:[],mp4a:[],mvex:[],mvhd:[],sdtp:[],stbl:[],stco:[],stsc:[],stsd:[],stsz:[],stts:[],tfdt:[],tfhd:[],traf:[],trak:[],trun:[],trex:[],tkhd:[],vmhd:[],smhd:[],".mp3":[]};for(var a in u.types)u.types.hasOwnProperty(a)&&(u.types[a]=[a.charCodeAt(0),a.charCodeAt(1),a.charCodeAt(2),a.charCodeAt(3)]);var l=u.constants={};l.FTYP=new Uint8Array([105,115,111,109,0,0,0,1,105,115,111,109,97,118,99,49]),l.STSD_PREFIX=new Uint8Array([0,0,0,0,0,0,0,1]),l.STTS=new Uint8Array([0,0,0,0,0,0,0,0]),l.STSC=l.STCO=l.STTS,l.STSZ=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0]),l.HDLR_VIDEO=new Uint8Array([0,0,0,0,0,0,0,0,118,105,100,101,0,0,0,0,0,0,0,0,0,0,0,0,86,105,100,101,111,72,97,110,100,108,101,114,0]),l.HDLR_AUDIO=new Uint8Array([0,0,0,0,0,0,0,0,115,111,117,110,0,0,0,0,0,0,0,0,0,0,0,0,83,111,117,110,100,72,97,110,100,108,101,114,0]),l.DREF=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,12,117,114,108,32,0,0,0,1]),l.SMHD=new Uint8Array([0,0,0,0,0,0,0,0]),l.VMHD=new Uint8Array([0,0,0,1,0,0,0,0,0,0,0,0])},u.box=function(a){for(var l=8,h=null,g=Array.prototype.slice.call(arguments,1),E=g.length,y=0;y<E;y++)l+=g[y].byteLength;h=new Uint8Array(l),h[0]=l>>>24&255,h[1]=l>>>16&255,h[2]=l>>>8&255,h[3]=l&255,h.set(a,4);for(var m=8,y=0;y<E;y++)h.set(g[y],m),m+=g[y].byteLength;return h},u.generateInitSegment=function(a){var l=u.box(u.types.ftyp,u.constants.FTYP),h=u.moov(a),g=new Uint8Array(l.byteLength+h.byteLength);return g.set(l,0),g.set(h,l.byteLength),g},u.moov=function(a){var l=u.mvhd(a.timescale,a.duration),h=u.trak(a),g=u.mvex(a);return u.box(u.types.moov,l,h,g)},u.mvhd=function(a,l){return u.box(u.types.mvhd,new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,a>>>24&255,a>>>16&255,a>>>8&255,a&255,l>>>24&255,l>>>16&255,l>>>8&255,l&255,0,1,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,255,255,255,255]))},u.trak=function(a){return u.box(u.types.trak,u.tkhd(a),u.mdia(a))},u.tkhd=function(a){var l=a.id,h=a.duration,g=a.presentWidth,E=a.presentHeight;return u.box(u.types.tkhd,new Uint8Array([0,0,0,7,0,0,0,0,0,0,0,0,l>>>24&255,l>>>16&255,l>>>8&255,l&255,0,0,0,0,h>>>24&255,h>>>16&255,h>>>8&255,h&255,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,g>>>8&255,g&255,0,0,E>>>8&255,E&255,0,0]))},u.mdia=function(a){return u.box(u.types.mdia,u.mdhd(a),u.hdlr(a),u.minf(a))},u.mdhd=function(a){var l=a.timescale,h=a.duration;return u.box(u.types.mdhd,new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,l>>>24&255,l>>>16&255,l>>>8&255,l&255,h>>>24&255,h>>>16&255,h>>>8&255,h&255,85,196,0,0]))},u.hdlr=function(a){var l=null;return a.type==="audio"?l=u.constants.HDLR_AUDIO:l=u.constants.HDLR_VIDEO,u.box(u.types.hdlr,l)},u.minf=function(a){var l=null;return a.type==="audio"?l=u.box(u.types.smhd,u.constants.SMHD):l=u.box(u.types.vmhd,u.constants.VMHD),u.box(u.types.minf,l,u.dinf(),u.stbl(a))},u.dinf=function(){var a=u.box(u.types.dinf,u.box(u.types.dref,u.constants.DREF));return a},u.stbl=function(a){var l=u.box(u.types.stbl,u.stsd(a),u.box(u.types.stts,u.constants.STTS),u.box(u.types.stsc,u.constants.STSC),u.box(u.types.stsz,u.constants.STSZ),u.box(u.types.stco,u.constants.STCO));return l},u.stsd=function(a){return a.type==="audio"?a.codec==="mp3"?u.box(u.types.stsd,u.constants.STSD_PREFIX,u.mp3(a)):u.box(u.types.stsd,u.constants.STSD_PREFIX,u.mp4a(a)):u.box(u.types.stsd,u.constants.STSD_PREFIX,u.avc1(a))},u.mp3=function(a){var l=a.channelCount,h=a.audioSampleRate,g=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,l,0,16,0,0,0,0,h>>>8&255,h&255,0,0]);return u.box(u.types[".mp3"],g)},u.mp4a=function(a){var l=a.channelCount,h=a.audioSampleRate,g=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,l,0,16,0,0,0,0,h>>>8&255,h&255,0,0]);return u.box(u.types.mp4a,g,u.esds(a))},u.esds=function(a){var l=a.config||[],h=l.length,g=new Uint8Array([0,0,0,0,3,23+h,0,1,0,4,15+h,64,21,0,0,0,0,0,0,0,0,0,0,0,5].concat([h]).concat(l).concat([6,1,2]));return u.box(u.types.esds,g)},u.avc1=function(a){var l=a.avcc,h=a.codecWidth,g=a.codecHeight,E=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,h>>>8&255,h&255,g>>>8&255,g&255,0,72,0,0,0,72,0,0,0,0,0,0,0,1,10,120,113,113,47,102,108,118,46,106,115,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,24,255,255]);return u.box(u.types.avc1,E,u.box(u.types.avcC,l))},u.mvex=function(a){return u.box(u.types.mvex,u.trex(a))},u.trex=function(a){var l=a.id,h=new Uint8Array([0,0,0,0,l>>>24&255,l>>>16&255,l>>>8&255,l&255,0,0,0,1,0,0,0,0,0,0,0,0,0,1,0,1]);return u.box(u.types.trex,h)},u.moof=function(a,l){return u.box(u.types.moof,u.mfhd(a.sequenceNumber),u.traf(a,l))},u.mfhd=function(a){var l=new Uint8Array([0,0,0,0,a>>>24&255,a>>>16&255,a>>>8&255,a&255]);return u.box(u.types.mfhd,l)},u.traf=function(a,l){var h=a.id,g=u.box(u.types.tfhd,new Uint8Array([0,0,0,0,h>>>24&255,h>>>16&255,h>>>8&255,h&255])),E=u.box(u.types.tfdt,new Uint8Array([0,0,0,0,l>>>24&255,l>>>16&255,l>>>8&255,l&255])),y=u.sdtp(a),m=u.trun(a,y.byteLength+16+16+8+16+8+8);return u.box(u.types.traf,g,E,m,y)},u.sdtp=function(a){for(var l=a.samples||[],h=l.length,g=new Uint8Array(4+h),E=0;E<h;E++){var y=l[E].flags;g[E+4]=y.isLeading<<6|y.dependsOn<<4|y.isDependedOn<<2|y.hasRedundancy}return u.box(u.types.sdtp,g)},u.trun=function(a,l){var h=a.samples||[],g=h.length,E=12+16*g,y=new Uint8Array(E);l+=8+E,y.set([0,0,15,1,g>>>24&255,g>>>16&255,g>>>8&255,g&255,l>>>24&255,l>>>16&255,l>>>8&255,l&255],0);for(var m=0;m<g;m++){var _=h[m].duration,x=h[m].size,p=h[m].flags,v=h[m].cts;y.set([_>>>24&255,_>>>16&255,_>>>8&255,_&255,x>>>24&255,x>>>16&255,x>>>8&255,x&255,p.isLeading<<2|p.dependsOn,p.isDependedOn<<6|p.hasRedundancy<<4|p.isNonSync,0,0,v>>>24&255,v>>>16&255,v>>>8&255,v&255],12+16*m)}return u.box(u.types.trun,y)},u.mdat=function(a){return u.box(u.types.mdat,a)},u}();d.init(),c.default=d},"./src/remux/mp4-remuxer.js":function(o,c,f){f.r(c);var d=f("./src/utils/logger.js"),u=f("./src/remux/mp4-generator.js"),a=f("./src/remux/aac-silent.js"),l=f("./src/utils/browser.js"),h=f("./src/core/media-segment-info.js"),g=f("./src/utils/exception.js"),E=function(){function y(m){this.TAG="MP4Remuxer",this._config=m,this._isLive=m.isLive===!0,this._dtsBase=-1,this._dtsBaseInited=!1,this._audioDtsBase=1/0,this._videoDtsBase=1/0,this._audioNextDts=void 0,this._videoNextDts=void 0,this._audioStashedLastSample=null,this._videoStashedLastSample=null,this._audioMeta=null,this._videoMeta=null,this._audioSegmentInfoList=new h.MediaSegmentInfoList("audio"),this._videoSegmentInfoList=new h.MediaSegmentInfoList("video"),this._onInitSegment=null,this._onMediaSegment=null,this._forceFirstIDR=!!(l.default.chrome&&(l.default.version.major<50||l.default.version.major===50&&l.default.version.build<2661)),this._fillSilentAfterSeek=l.default.msedge||l.default.msie,this._mp3UseMpegAudio=!l.default.firefox,this._fillAudioTimestampGap=this._config.fixAudioTimestampGap}return y.prototype.destroy=function(){this._dtsBase=-1,this._dtsBaseInited=!1,this._audioMeta=null,this._videoMeta=null,this._audioSegmentInfoList.clear(),this._audioSegmentInfoList=null,this._videoSegmentInfoList.clear(),this._videoSegmentInfoList=null,this._onInitSegment=null,this._onMediaSegment=null},y.prototype.bindDataSource=function(m){return m.onDataAvailable=this.remux.bind(this),m.onTrackMetadata=this._onTrackMetadataReceived.bind(this),this},Object.defineProperty(y.prototype,"onInitSegment",{get:function(){return this._onInitSegment},set:function(m){this._onInitSegment=m},enumerable:!1,configurable:!0}),Object.defineProperty(y.prototype,"onMediaSegment",{get:function(){return this._onMediaSegment},set:function(m){this._onMediaSegment=m},enumerable:!1,configurable:!0}),y.prototype.insertDiscontinuity=function(){this._audioNextDts=this._videoNextDts=void 0},y.prototype.seek=function(m){this._audioStashedLastSample=null,this._videoStashedLastSample=null,this._videoSegmentInfoList.clear(),this._audioSegmentInfoList.clear()},y.prototype.remux=function(m,_){if(!this._onMediaSegment)throw new g.IllegalStateException("MP4Remuxer: onMediaSegment callback must be specificed!");this._dtsBaseInited||this._calculateDtsBase(m,_),this._remuxVideo(_),this._remuxAudio(m)},y.prototype._onTrackMetadataReceived=function(m,_){var x=null,p="mp4",v=_.codec;if(m==="audio")this._audioMeta=_,_.codec==="mp3"&&this._mp3UseMpegAudio?(p="mpeg",v="",x=new Uint8Array):x=u.default.generateInitSegment(_);else if(m==="video")this._videoMeta=_,x=u.default.generateInitSegment(_);else return;if(!this._onInitSegment)throw new g.IllegalStateException("MP4Remuxer: onInitSegment callback must be specified!");this._onInitSegment(m,{type:m,data:x.buffer,codec:v,container:m+"/"+p,mediaDuration:_.duration})},y.prototype._calculateDtsBase=function(m,_){this._dtsBaseInited||(m.samples&&m.samples.length&&(this._audioDtsBase=m.samples[0].dts),_.samples&&_.samples.length&&(this._videoDtsBase=_.samples[0].dts),this._dtsBase=Math.min(this._audioDtsBase,this._videoDtsBase),this._dtsBaseInited=!0)},y.prototype.flushStashedSamples=function(){var m=this._videoStashedLastSample,_=this._audioStashedLastSample,x={type:"video",id:1,sequenceNumber:0,samples:[],length:0};m!=null&&(x.samples.push(m),x.length=m.length);var p={type:"audio",id:2,sequenceNumber:0,samples:[],length:0};_!=null&&(p.samples.push(_),p.length=_.length),this._videoStashedLastSample=null,this._audioStashedLastSample=null,this._remuxVideo(x,!0),this._remuxAudio(p,!0)},y.prototype._remuxAudio=function(m,_){if(this._audioMeta!=null){var x=m,p=x.samples,v=void 0,b=-1,w=-1,A=this._audioMeta.refSampleDuration,T=this._audioMeta.codec==="mp3"&&this._mp3UseMpegAudio,P=this._dtsBaseInited&&this._audioNextDts===void 0,R=!1;if(!(!p||p.length===0)&&!(p.length===1&&!_)){var C=0,O=null,D=0;T?(C=0,D=x.length):(C=8,D=8+x.length);var N=null;if(p.length>1&&(N=p.pop(),D-=N.length),this._audioStashedLastSample!=null){var M=this._audioStashedLastSample;this._audioStashedLastSample=null,p.unshift(M),D+=M.length}N!=null&&(this._audioStashedLastSample=N);var U=p[0].dts-this._dtsBase;if(this._audioNextDts)v=U-this._audioNextDts;else if(this._audioSegmentInfoList.isEmpty())v=0,this._fillSilentAfterSeek&&!this._videoSegmentInfoList.isEmpty()&&this._audioMeta.originalCodec!=="mp3"&&(R=!0);else{var Q=this._audioSegmentInfoList.getLastSampleBefore(U);if(Q!=null){var ie=U-(Q.originalDts+Q.duration);ie<=3&&(ie=0);var ne=Q.dts+Q.duration+ie;v=U-ne}else v=0}if(R){var de=U-v,he=this._videoSegmentInfoList.getLastSegmentBefore(U);if(he!=null&&he.beginDts<de){var se=a.default.getSilentFrame(this._audioMeta.originalCodec,this._audioMeta.channelCount);if(se){var oe=he.beginDts,je=de-he.beginDts;d.default.v(this.TAG,"InsertPrefixSilentAudio: dts: "+oe+", duration: "+je),p.unshift({unit:se,dts:oe,pts:oe}),D+=se.byteLength}}else R=!1}for(var ve=[],F=0;F<p.length;F++){var M=p[F],W=M.unit,V=M.dts-this._dtsBase,oe=V,z=!1,ae=null,re=0;if(!(V<-.001)){if(this._audioMeta.codec!=="mp3"){var L=V,I=3;if(this._audioNextDts&&(L=this._audioNextDts),v=V-L,v<=-I*A){d.default.w(this.TAG,"Dropping 1 audio frame (originalDts: "+V+" ms ,curRefDts: "+L+" ms)  due to dtsCorrection: "+v+" ms overlap.");continue}else if(v>=I*A&&this._fillAudioTimestampGap&&!l.default.safari){z=!0;var k=Math.floor(v/A);d.default.w(this.TAG,`Large audio timestamp gap detected, may cause AV sync to drift. Silent frames will be generated to avoid unsync.
`+("originalDts: "+V+" ms, curRefDts: "+L+" ms, ")+("dtsCorrection: "+Math.round(v)+" ms, generate: "+k+" frames")),oe=Math.floor(L),re=Math.floor(L+A)-oe;var se=a.default.getSilentFrame(this._audioMeta.originalCodec,this._audioMeta.channelCount);se==null&&(d.default.w(this.TAG,"Unable to generate silent frame for "+(this._audioMeta.originalCodec+" with "+this._audioMeta.channelCount+" channels, repeat last frame")),se=W),ae=[];for(var K=0;K<k;K++){L=L+A;var H=Math.floor(L),q=Math.floor(L+A)-H,ee={dts:H,pts:H,cts:0,unit:se,size:se.byteLength,duration:q,originalDts:V,flags:{isLeading:0,dependsOn:1,isDependedOn:0,hasRedundancy:0}};ae.push(ee),D+=ee.size}this._audioNextDts=L+A}else oe=Math.floor(L),re=Math.floor(L+A)-oe,this._audioNextDts=L+A}else{if(oe=V-v,F!==p.length-1){var X=p[F+1].dts-this._dtsBase-v;re=X-oe}else if(N!=null){var X=N.dts-this._dtsBase-v;re=X-oe}else ve.length>=1?re=ve[ve.length-1].duration:re=Math.floor(A);this._audioNextDts=oe+re}b===-1&&(b=oe),ve.push({dts:oe,pts:oe,cts:0,unit:M.unit,size:M.unit.byteLength,duration:re,originalDts:V,flags:{isLeading:0,dependsOn:1,isDependedOn:0,hasRedundancy:0}}),z&&ve.push.apply(ve,ae)}}if(ve.length===0){x.samples=[],x.length=0;return}T?O=new Uint8Array(D):(O=new Uint8Array(D),O[0]=D>>>24&255,O[1]=D>>>16&255,O[2]=D>>>8&255,O[3]=D&255,O.set(u.default.types.mdat,4));for(var F=0;F<ve.length;F++){var W=ve[F].unit;O.set(W,C),C+=W.byteLength}var J=ve[ve.length-1];w=J.dts+J.duration;var G=new h.MediaSegmentInfo;G.beginDts=b,G.endDts=w,G.beginPts=b,G.endPts=w,G.originalBeginDts=ve[0].originalDts,G.originalEndDts=J.originalDts+J.duration,G.firstSample=new h.SampleInfo(ve[0].dts,ve[0].pts,ve[0].duration,ve[0].originalDts,!1),G.lastSample=new h.SampleInfo(J.dts,J.pts,J.duration,J.originalDts,!1),this._isLive||this._audioSegmentInfoList.append(G),x.samples=ve,x.sequenceNumber++;var te=null;T?te=new Uint8Array:te=u.default.moof(x,b),x.samples=[],x.length=0;var ce={type:"audio",data:this._mergeBoxes(te,O).buffer,sampleCount:ve.length,info:G};T&&P&&(ce.timestampOffset=b),this._onMediaSegment("audio",ce)}}},y.prototype._remuxVideo=function(m,_){if(this._videoMeta!=null){var x=m,p=x.samples,v=void 0,b=-1,w=-1,A=-1,T=-1;if(!(!p||p.length===0)&&!(p.length===1&&!_)){var P=8,R=null,C=8+m.length,O=null;if(p.length>1&&(O=p.pop(),C-=O.length),this._videoStashedLastSample!=null){var D=this._videoStashedLastSample;this._videoStashedLastSample=null,p.unshift(D),C+=D.length}O!=null&&(this._videoStashedLastSample=O);var N=p[0].dts-this._dtsBase;if(this._videoNextDts)v=N-this._videoNextDts;else if(this._videoSegmentInfoList.isEmpty())v=0;else{var M=this._videoSegmentInfoList.getLastSampleBefore(N);if(M!=null){var U=N-(M.originalDts+M.duration);U<=3&&(U=0);var Q=M.dts+M.duration+U;v=N-Q}else v=0}for(var ie=new h.MediaSegmentInfo,ne=[],de=0;de<p.length;de++){var D=p[de],he=D.dts-this._dtsBase,se=D.isKeyframe,oe=he-v,je=D.cts,ve=oe+je;b===-1&&(b=oe,A=ve);var F=0;if(de!==p.length-1){var W=p[de+1].dts-this._dtsBase-v;F=W-oe}else if(O!=null){var W=O.dts-this._dtsBase-v;F=W-oe}else ne.length>=1?F=ne[ne.length-1].duration:F=Math.floor(this._videoMeta.refSampleDuration);if(se){var V=new h.SampleInfo(oe,ve,F,D.dts,!0);V.fileposition=D.fileposition,ie.appendSyncPoint(V)}ne.push({dts:oe,pts:ve,cts:je,units:D.units,size:D.length,isKeyframe:se,duration:F,originalDts:he,flags:{isLeading:0,dependsOn:se?2:1,isDependedOn:se?1:0,hasRedundancy:0,isNonSync:se?0:1}})}R=new Uint8Array(C),R[0]=C>>>24&255,R[1]=C>>>16&255,R[2]=C>>>8&255,R[3]=C&255,R.set(u.default.types.mdat,4);for(var de=0;de<ne.length;de++)for(var z=ne[de].units;z.length;){var ae=z.shift(),re=ae.data;R.set(re,P),P+=re.byteLength}var L=ne[ne.length-1];if(w=L.dts+L.duration,T=L.pts+L.duration,this._videoNextDts=w,ie.beginDts=b,ie.endDts=w,ie.beginPts=A,ie.endPts=T,ie.originalBeginDts=ne[0].originalDts,ie.originalEndDts=L.originalDts+L.duration,ie.firstSample=new h.SampleInfo(ne[0].dts,ne[0].pts,ne[0].duration,ne[0].originalDts,ne[0].isKeyframe),ie.lastSample=new h.SampleInfo(L.dts,L.pts,L.duration,L.originalDts,L.isKeyframe),this._isLive||this._videoSegmentInfoList.append(ie),x.samples=ne,x.sequenceNumber++,this._forceFirstIDR){var I=ne[0].flags;I.dependsOn=2,I.isNonSync=0}var k=u.default.moof(x,b);x.samples=[],x.length=0,this._onMediaSegment("video",{type:"video",data:this._mergeBoxes(k,R).buffer,sampleCount:ne.length,info:ie})}}},y.prototype._mergeBoxes=function(m,_){var x=new Uint8Array(m.byteLength+_.byteLength);return x.set(m,0),x.set(_,m.byteLength),x},y}();c.default=E},"./src/utils/browser.js":function(o,c,f){f.r(c);var d={};function u(){var a=self.navigator.userAgent.toLowerCase(),l=/(edge)\/([\w.]+)/.exec(a)||/(opr)[\/]([\w.]+)/.exec(a)||/(chrome)[ \/]([\w.]+)/.exec(a)||/(iemobile)[\/]([\w.]+)/.exec(a)||/(version)(applewebkit)[ \/]([\w.]+).*(safari)[ \/]([\w.]+)/.exec(a)||/(webkit)[ \/]([\w.]+).*(version)[ \/]([\w.]+).*(safari)[ \/]([\w.]+)/.exec(a)||/(webkit)[ \/]([\w.]+)/.exec(a)||/(opera)(?:.*version|)[ \/]([\w.]+)/.exec(a)||/(msie) ([\w.]+)/.exec(a)||a.indexOf("trident")>=0&&/(rv)(?::| )([\w.]+)/.exec(a)||a.indexOf("compatible")<0&&/(firefox)[ \/]([\w.]+)/.exec(a)||[],h=/(ipad)/.exec(a)||/(ipod)/.exec(a)||/(windows phone)/.exec(a)||/(iphone)/.exec(a)||/(kindle)/.exec(a)||/(android)/.exec(a)||/(windows)/.exec(a)||/(mac)/.exec(a)||/(linux)/.exec(a)||/(cros)/.exec(a)||[],g={browser:l[5]||l[3]||l[1]||"",version:l[2]||l[4]||"0",majorVersion:l[4]||l[2]||"0",platform:h[0]||""},E={};if(g.browser){E[g.browser]=!0;var y=g.majorVersion.split(".");E.version={major:parseInt(g.majorVersion,10),string:g.version},y.length>1&&(E.version.minor=parseInt(y[1],10)),y.length>2&&(E.version.build=parseInt(y[2],10))}if(g.platform&&(E[g.platform]=!0),(E.chrome||E.opr||E.safari)&&(E.webkit=!0),E.rv||E.iemobile){E.rv&&delete E.rv;var m="msie";g.browser=m,E[m]=!0}if(E.edge){delete E.edge;var _="msedge";g.browser=_,E[_]=!0}if(E.opr){var x="opera";g.browser=x,E[x]=!0}if(E.safari&&E.android){var p="android";g.browser=p,E[p]=!0}E.name=g.browser,E.platform=g.platform;for(var v in d)d.hasOwnProperty(v)&&delete d[v];Object.assign(d,E)}u(),c.default=d},"./src/utils/exception.js":function(o,c,f){f.r(c),f.d(c,{RuntimeException:function(){return u},IllegalStateException:function(){return a},InvalidArgumentException:function(){return l},NotImplementedException:function(){return h}});var d=function(){var g=function(E,y){return g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(m,_){m.__proto__=_}||function(m,_){for(var x in _)Object.prototype.hasOwnProperty.call(_,x)&&(m[x]=_[x])},g(E,y)};return function(E,y){if(typeof y!="function"&&y!==null)throw new TypeError("Class extends value "+String(y)+" is not a constructor or null");g(E,y);function m(){this.constructor=E}E.prototype=y===null?Object.create(y):(m.prototype=y.prototype,new m)}}(),u=function(){function g(E){this._message=E}return Object.defineProperty(g.prototype,"name",{get:function(){return"RuntimeException"},enumerable:!1,configurable:!0}),Object.defineProperty(g.prototype,"message",{get:function(){return this._message},enumerable:!1,configurable:!0}),g.prototype.toString=function(){return this.name+": "+this.message},g}(),a=function(g){d(E,g);function E(y){return g.call(this,y)||this}return Object.defineProperty(E.prototype,"name",{get:function(){return"IllegalStateException"},enumerable:!1,configurable:!0}),E}(u),l=function(g){d(E,g);function E(y){return g.call(this,y)||this}return Object.defineProperty(E.prototype,"name",{get:function(){return"InvalidArgumentException"},enumerable:!1,configurable:!0}),E}(u),h=function(g){d(E,g);function E(y){return g.call(this,y)||this}return Object.defineProperty(E.prototype,"name",{get:function(){return"NotImplementedException"},enumerable:!1,configurable:!0}),E}(u)},"./src/utils/logger.js":function(o,c,f){f.r(c);var d=f("./node_modules/events/events.js"),u=f.n(d),a=function(){function l(){}return l.e=function(h,g){(!h||l.FORCE_GLOBAL_TAG)&&(h=l.GLOBAL_TAG);var E="["+h+"] > "+g;l.ENABLE_CALLBACK&&l.emitter.emit("log","error",E),l.ENABLE_ERROR&&(console.error?console.error(E):console.warn?console.warn(E):console.log(E))},l.i=function(h,g){(!h||l.FORCE_GLOBAL_TAG)&&(h=l.GLOBAL_TAG);var E="["+h+"] > "+g;l.ENABLE_CALLBACK&&l.emitter.emit("log","info",E),l.ENABLE_INFO&&(console.info?console.info(E):console.log(E))},l.w=function(h,g){(!h||l.FORCE_GLOBAL_TAG)&&(h=l.GLOBAL_TAG);var E="["+h+"] > "+g;l.ENABLE_CALLBACK&&l.emitter.emit("log","warn",E),l.ENABLE_WARN&&(console.warn?console.warn(E):console.log(E))},l.d=function(h,g){(!h||l.FORCE_GLOBAL_TAG)&&(h=l.GLOBAL_TAG);var E="["+h+"] > "+g;l.ENABLE_CALLBACK&&l.emitter.emit("log","debug",E),l.ENABLE_DEBUG&&(console.debug?console.debug(E):console.log(E))},l.v=function(h,g){(!h||l.FORCE_GLOBAL_TAG)&&(h=l.GLOBAL_TAG);var E="["+h+"] > "+g;l.ENABLE_CALLBACK&&l.emitter.emit("log","verbose",E),l.ENABLE_VERBOSE&&console.log(E)},l}();a.GLOBAL_TAG="flv.js",a.FORCE_GLOBAL_TAG=!1,a.ENABLE_ERROR=!0,a.ENABLE_INFO=!0,a.ENABLE_WARN=!0,a.ENABLE_DEBUG=!0,a.ENABLE_VERBOSE=!0,a.ENABLE_CALLBACK=!1,a.emitter=new(u()),c.default=a},"./src/utils/logging-control.js":function(o,c,f){f.r(c);var d=f("./node_modules/events/events.js"),u=f.n(d),a=f("./src/utils/logger.js"),l=function(){function h(){}return Object.defineProperty(h,"forceGlobalTag",{get:function(){return a.default.FORCE_GLOBAL_TAG},set:function(g){a.default.FORCE_GLOBAL_TAG=g,h._notifyChange()},enumerable:!1,configurable:!0}),Object.defineProperty(h,"globalTag",{get:function(){return a.default.GLOBAL_TAG},set:function(g){a.default.GLOBAL_TAG=g,h._notifyChange()},enumerable:!1,configurable:!0}),Object.defineProperty(h,"enableAll",{get:function(){return a.default.ENABLE_VERBOSE&&a.default.ENABLE_DEBUG&&a.default.ENABLE_INFO&&a.default.ENABLE_WARN&&a.default.ENABLE_ERROR},set:function(g){a.default.ENABLE_VERBOSE=g,a.default.ENABLE_DEBUG=g,a.default.ENABLE_INFO=g,a.default.ENABLE_WARN=g,a.default.ENABLE_ERROR=g,h._notifyChange()},enumerable:!1,configurable:!0}),Object.defineProperty(h,"enableDebug",{get:function(){return a.default.ENABLE_DEBUG},set:function(g){a.default.ENABLE_DEBUG=g,h._notifyChange()},enumerable:!1,configurable:!0}),Object.defineProperty(h,"enableVerbose",{get:function(){return a.default.ENABLE_VERBOSE},set:function(g){a.default.ENABLE_VERBOSE=g,h._notifyChange()},enumerable:!1,configurable:!0}),Object.defineProperty(h,"enableInfo",{get:function(){return a.default.ENABLE_INFO},set:function(g){a.default.ENABLE_INFO=g,h._notifyChange()},enumerable:!1,configurable:!0}),Object.defineProperty(h,"enableWarn",{get:function(){return a.default.ENABLE_WARN},set:function(g){a.default.ENABLE_WARN=g,h._notifyChange()},enumerable:!1,configurable:!0}),Object.defineProperty(h,"enableError",{get:function(){return a.default.ENABLE_ERROR},set:function(g){a.default.ENABLE_ERROR=g,h._notifyChange()},enumerable:!1,configurable:!0}),h.getConfig=function(){return{globalTag:a.default.GLOBAL_TAG,forceGlobalTag:a.default.FORCE_GLOBAL_TAG,enableVerbose:a.default.ENABLE_VERBOSE,enableDebug:a.default.ENABLE_DEBUG,enableInfo:a.default.ENABLE_INFO,enableWarn:a.default.ENABLE_WARN,enableError:a.default.ENABLE_ERROR,enableCallback:a.default.ENABLE_CALLBACK}},h.applyConfig=function(g){a.default.GLOBAL_TAG=g.globalTag,a.default.FORCE_GLOBAL_TAG=g.forceGlobalTag,a.default.ENABLE_VERBOSE=g.enableVerbose,a.default.ENABLE_DEBUG=g.enableDebug,a.default.ENABLE_INFO=g.enableInfo,a.default.ENABLE_WARN=g.enableWarn,a.default.ENABLE_ERROR=g.enableError,a.default.ENABLE_CALLBACK=g.enableCallback},h._notifyChange=function(){var g=h.emitter;if(g.listenerCount("change")>0){var E=h.getConfig();g.emit("change",E)}},h.registerListener=function(g){h.emitter.addListener("change",g)},h.removeListener=function(g){h.emitter.removeListener("change",g)},h.addLogListener=function(g){a.default.emitter.addListener("log",g),a.default.emitter.listenerCount("log")>0&&(a.default.ENABLE_CALLBACK=!0,h._notifyChange())},h.removeLogListener=function(g){a.default.emitter.removeListener("log",g),a.default.emitter.listenerCount("log")===0&&(a.default.ENABLE_CALLBACK=!1,h._notifyChange())},h}();l.emitter=new(u()),c.default=l},"./src/utils/polyfill.js":function(o,c,f){f.r(c);var d=function(){function u(){}return u.install=function(){Object.setPrototypeOf=Object.setPrototypeOf||function(a,l){return a.__proto__=l,a},Object.assign=Object.assign||function(a){if(a==null)throw new TypeError("Cannot convert undefined or null to object");for(var l=Object(a),h=1;h<arguments.length;h++){var g=arguments[h];if(g!=null)for(var E in g)g.hasOwnProperty(E)&&(l[E]=g[E])}return l},typeof self.Promise!="function"&&f("./node_modules/es6-promise/dist/es6-promise.js").polyfill()},u}();d.install(),c.default=d},"./src/utils/utf8-conv.js":function(o,c,f){f.r(c);function d(a,l,h){var g=a;if(l+h<g.length){for(;h--;)if((g[++l]&192)!==128)return!1;return!0}else return!1}function u(a){for(var l=[],h=a,g=0,E=a.length;g<E;){if(h[g]<128){l.push(String.fromCharCode(h[g])),++g;continue}else if(!(h[g]<192)){if(h[g]<224){if(d(h,g,1)){var y=(h[g]&31)<<6|h[g+1]&63;if(y>=128){l.push(String.fromCharCode(y&65535)),g+=2;continue}}}else if(h[g]<240){if(d(h,g,2)){var y=(h[g]&15)<<12|(h[g+1]&63)<<6|h[g+2]&63;if(y>=2048&&(y&63488)!==55296){l.push(String.fromCharCode(y&65535)),g+=3;continue}}}else if(h[g]<248&&d(h,g,3)){var y=(h[g]&7)<<18|(h[g+1]&63)<<12|(h[g+2]&63)<<6|h[g+3]&63;if(y>65536&&y<1114112){y-=65536,l.push(String.fromCharCode(y>>>10|55296)),l.push(String.fromCharCode(y&1023|56320)),g+=4;continue}}}l.push(""),++g}return l.join("")}c.default=u}},r={};function i(o){var c=r[o];if(c!==void 0)return c.exports;var f=r[o]={exports:{}};return n[o].call(f.exports,f,f.exports,i),f.exports}i.m=n,function(){i.n=function(o){var c=o&&o.__esModule?function(){return o.default}:function(){return o};return i.d(c,{a:c}),c}}(),function(){i.d=function(o,c){for(var f in c)i.o(c,f)&&!i.o(o,f)&&Object.defineProperty(o,f,{enumerable:!0,get:c[f]})}}(),function(){i.g=function(){if(typeof globalThis=="object")return globalThis;try{return this||new Function("return this")()}catch{if(typeof window=="object")return window}}()}(),function(){i.o=function(o,c){return Object.prototype.hasOwnProperty.call(o,c)}}(),function(){i.r=function(o){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(o,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(o,"__esModule",{value:!0})}}();var s=i("./src/index.js");return s}()})})(Wd);var Bb=Wd.exports;const cc=Kd(Bb);var bo={exports:{}},Db=/^(?:(?![^:@]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,Mb=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"],Gd=function(t){var n=t,r=t.indexOf("["),i=t.indexOf("]");r!=-1&&i!=-1&&(t=t.substring(0,r)+t.substring(r,i).replace(/:/g,";")+t.substring(i,t.length));for(var s=Db.exec(t||""),o={},c=14;c--;)o[Mb[c]]=s[c]||"";return r!=-1&&i!=-1&&(o.source=n,o.host=o.host.substring(1,o.host.length-1).replace(/;/g,":"),o.authority=o.authority.replace("[","").replace("]","").replace(/;/g,":"),o.ipv6uri=!0),o.pathNames=kb(o,o.path),o.queryKey=Nb(o,o.query),o};function kb(e,t){var n=/\/{2,9}/g,r=t.replace(n,"/").split("/");return(t.substr(0,1)=="/"||t.length===0)&&r.splice(0,1),t.substr(t.length-1,1)=="/"&&r.splice(r.length-1,1),r}function Nb(e,t){var n={};return t.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,function(r,i,s){i&&(n[i]=s)}),n}var So={exports:{}},wo={exports:{}},Hr=1e3,Kr=Hr*60,Wr=Kr*60,Gr=Wr*24,jb=Gr*365.25,Ub=function(e,t){t=t||{};var n=typeof e;if(n==="string"&&e.length>0)return Vb(e);if(n==="number"&&isNaN(e)===!1)return t.long?Kb(e):Hb(e);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(e))};function Vb(e){if(e=String(e),!(e.length>100)){var t=/^((?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(e);if(t){var n=parseFloat(t[1]),r=(t[2]||"ms").toLowerCase();switch(r){case"years":case"year":case"yrs":case"yr":case"y":return n*jb;case"days":case"day":case"d":return n*Gr;case"hours":case"hour":case"hrs":case"hr":case"h":return n*Wr;case"minutes":case"minute":case"mins":case"min":case"m":return n*Kr;case"seconds":case"second":case"secs":case"sec":case"s":return n*Hr;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return n;default:return}}}}function Hb(e){return e>=Gr?Math.round(e/Gr)+"d":e>=Wr?Math.round(e/Wr)+"h":e>=Kr?Math.round(e/Kr)+"m":e>=Hr?Math.round(e/Hr)+"s":e+"ms"}function Kb(e){return Si(e,Gr,"day")||Si(e,Wr,"hour")||Si(e,Kr,"minute")||Si(e,Hr,"second")||e+" ms"}function Si(e,t,n){if(!(e<t))return e<t*1.5?Math.floor(e/t)+" "+n:Math.ceil(e/t)+" "+n+"s"}(function(e,t){t=e.exports=r.debug=r.default=r,t.coerce=f,t.disable=o,t.enable=s,t.enabled=c,t.humanize=Ub,t.instances=[],t.names=[],t.skips=[],t.formatters={};function n(d){var u=0,a;for(a in d)u=(u<<5)-u+d.charCodeAt(a),u|=0;return t.colors[Math.abs(u)%t.colors.length]}function r(d){var u;function a(){if(a.enabled){var l=a,h=+new Date,g=h-(u||h);l.diff=g,l.prev=u,l.curr=h,u=h;for(var E=new Array(arguments.length),y=0;y<E.length;y++)E[y]=arguments[y];E[0]=t.coerce(E[0]),typeof E[0]!="string"&&E.unshift("%O");var m=0;E[0]=E[0].replace(/%([a-zA-Z%])/g,function(x,p){if(x==="%%")return x;m++;var v=t.formatters[p];if(typeof v=="function"){var b=E[m];x=v.call(l,b),E.splice(m,1),m--}return x}),t.formatArgs.call(l,E);var _=a.log||t.log||console.log.bind(console);_.apply(l,E)}}return a.namespace=d,a.enabled=t.enabled(d),a.useColors=t.useColors(),a.color=n(d),a.destroy=i,typeof t.init=="function"&&t.init(a),t.instances.push(a),a}function i(){var d=t.instances.indexOf(this);return d!==-1?(t.instances.splice(d,1),!0):!1}function s(d){t.save(d),t.names=[],t.skips=[];var u,a=(typeof d=="string"?d:"").split(/[\s,]+/),l=a.length;for(u=0;u<l;u++)a[u]&&(d=a[u].replace(/\*/g,".*?"),d[0]==="-"?t.skips.push(new RegExp("^"+d.substr(1)+"$")):t.names.push(new RegExp("^"+d+"$")));for(u=0;u<t.instances.length;u++){var h=t.instances[u];h.enabled=t.enabled(h.namespace)}}function o(){t.enable("")}function c(d){if(d[d.length-1]==="*")return!0;var u,a;for(u=0,a=t.skips.length;u<a;u++)if(t.skips[u].test(d))return!1;for(u=0,a=t.names.length;u<a;u++)if(t.names[u].test(d))return!0;return!1}function f(d){return d instanceof Error?d.stack||d.message:d}})(wo,wo.exports);var Wb=wo.exports;(function(e,t){var n={};t=e.exports=Wb,t.log=s,t.formatArgs=i,t.save=o,t.load=c,t.useColors=r,t.storage=typeof chrome<"u"&&typeof chrome.storage<"u"?chrome.storage.local:f(),t.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"];function r(){return typeof window<"u"&&window.process&&window.process.type==="renderer"?!0:typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/)?!1:typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}t.formatters.j=function(d){try{return JSON.stringify(d)}catch(u){return"[UnexpectedJSONParseError]: "+u.message}};function i(d){var u=this.useColors;if(d[0]=(u?"%c":"")+this.namespace+(u?" %c":" ")+d[0]+(u?"%c ":" ")+"+"+t.humanize(this.diff),!!u){var a="color: "+this.color;d.splice(1,0,a,"color: inherit");var l=0,h=0;d[0].replace(/%[a-zA-Z%]/g,function(g){g!=="%%"&&(l++,g==="%c"&&(h=l))}),d.splice(h,0,a)}}function s(){return typeof console=="object"&&console.log&&Function.prototype.apply.call(console.log,console,arguments)}function o(d){try{d==null?t.storage.removeItem("debug"):t.storage.debug=d}catch{}}function c(){var d;try{d=t.storage.debug}catch{}return!d&&typeof process<"u"&&"env"in process&&(d=n.DEBUG),d}t.enable(c());function f(){try{return window.localStorage}catch{}}})(So,So.exports);var Qt=So.exports,Gb=Gd,fc=Qt("socket.io-client:url"),zb=$b;function $b(e,t){var n=e;t=t||typeof location<"u"&&location,e==null&&(e=t.protocol+"//"+t.host),typeof e=="string"&&(e.charAt(0)==="/"&&(e.charAt(1)==="/"?e=t.protocol+e:e=t.host+e),/^(https?|wss?):\/\//.test(e)||(fc("protocol-less url %s",e),typeof t<"u"?e=t.protocol+"//"+e:e="https://"+e),fc("parse %s",e),n=Gb(e)),n.port||(/^(http|ws)$/.test(n.protocol)?n.port="80":/^(http|ws)s$/.test(n.protocol)&&(n.port="443")),n.path=n.path||"/";var r=n.host.indexOf(":")!==-1,i=r?"["+n.host+"]":n.host;return n.id=n.protocol+"://"+i+":"+n.port,n.href=n.protocol+"://"+i+(t&&t.port===n.port?"":":"+n.port),n}var _s={},zd={exports:{}};(function(e){e.exports=t;function t(r){if(r)return n(r)}function n(r){for(var i in t.prototype)r[i]=t.prototype[i];return r}t.prototype.on=t.prototype.addEventListener=function(r,i){return this._callbacks=this._callbacks||{},(this._callbacks["$"+r]=this._callbacks["$"+r]||[]).push(i),this},t.prototype.once=function(r,i){function s(){this.off(r,s),i.apply(this,arguments)}return s.fn=i,this.on(r,s),this},t.prototype.off=t.prototype.removeListener=t.prototype.removeAllListeners=t.prototype.removeEventListener=function(r,i){if(this._callbacks=this._callbacks||{},arguments.length==0)return this._callbacks={},this;var s=this._callbacks["$"+r];if(!s)return this;if(arguments.length==1)return delete this._callbacks["$"+r],this;for(var o,c=0;c<s.length;c++)if(o=s[c],o===i||o.fn===i){s.splice(c,1);break}return s.length===0&&delete this._callbacks["$"+r],this},t.prototype.emit=function(r){this._callbacks=this._callbacks||{};for(var i=new Array(arguments.length-1),s=this._callbacks["$"+r],o=1;o<arguments.length;o++)i[o-1]=arguments[o];if(s){s=s.slice(0);for(var o=0,c=s.length;o<c;++o)s[o].apply(this,i)}return this},t.prototype.listeners=function(r){return this._callbacks=this._callbacks||{},this._callbacks["$"+r]||[]},t.prototype.hasListeners=function(r){return!!this.listeners(r).length}})(zd);var ur=zd.exports,gs={},qb={}.toString,ma=Array.isArray||function(e){return qb.call(e)=="[object Array]"},$d=Zb,Xb=typeof Buffer=="function"&&typeof Buffer.isBuffer=="function",Yb=typeof ArrayBuffer=="function",Jb=function(e){return typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(e):e.buffer instanceof ArrayBuffer};function Zb(e){return Xb&&Buffer.isBuffer(e)||Yb&&(e instanceof ArrayBuffer||Jb(e))}var _a=ma,qd=$d,Xd=Object.prototype.toString,Qb=typeof Blob=="function"||typeof Blob<"u"&&Xd.call(Blob)==="[object BlobConstructor]",eS=typeof File=="function"||typeof File<"u"&&Xd.call(File)==="[object FileConstructor]";gs.deconstructPacket=function(e){var t=[],n=e.data,r=e;return r.data=Ao(n,t),r.attachments=t.length,{packet:r,buffers:t}};function Ao(e,t){if(!e)return e;if(qd(e)){var n={_placeholder:!0,num:t.length};return t.push(e),n}else if(_a(e)){for(var r=new Array(e.length),i=0;i<e.length;i++)r[i]=Ao(e[i],t);return r}else if(typeof e=="object"&&!(e instanceof Date)){var r={};for(var s in e)r[s]=Ao(e[s],t);return r}return e}gs.reconstructPacket=function(e,t){return e.data=Co(e.data,t),e.attachments=void 0,e};function Co(e,t){if(!e)return e;if(e&&e._placeholder===!0){var n=typeof e.num=="number"&&e.num>=0&&e.num<t.length;if(n)return t[e.num];throw new Error("illegal attachments")}else if(_a(e))for(var r=0;r<e.length;r++)e[r]=Co(e[r],t);else if(typeof e=="object")for(var i in e)e[i]=Co(e[i],t);return e}gs.removeBlobs=function(e,t){function n(s,o,c){if(!s)return s;if(Qb&&s instanceof Blob||eS&&s instanceof File){r++;var f=new FileReader;f.onload=function(){c?c[o]=this.result:i=this.result,--r||t(i)},f.readAsArrayBuffer(s)}else if(_a(s))for(var d=0;d<s.length;d++)n(s[d],d,s);else if(typeof s=="object"&&!qd(s))for(var u in s)n(s[u],u,s)}var r=0,i=e;n(i),r||t(i)};(function(e){var t=Qt("socket.io-parser"),n=ur,r=gs,i=ma,s=$d;e.protocol=4,e.types=["CONNECT","DISCONNECT","EVENT","ACK","ERROR","BINARY_EVENT","BINARY_ACK"],e.CONNECT=0,e.DISCONNECT=1,e.EVENT=2,e.ACK=3,e.ERROR=4,e.BINARY_EVENT=5,e.BINARY_ACK=6,e.Encoder=o,e.Decoder=a;function o(){}var c=e.ERROR+'"encode error"';o.prototype.encode=function(y,m){if(t("encoding packet %j",y),e.BINARY_EVENT===y.type||e.BINARY_ACK===y.type)u(y,m);else{var _=f(y);m([_])}};function f(y){var m=""+y.type;if((e.BINARY_EVENT===y.type||e.BINARY_ACK===y.type)&&(m+=y.attachments+"-"),y.nsp&&y.nsp!=="/"&&(m+=y.nsp+","),y.id!=null&&(m+=y.id),y.data!=null){var _=d(y.data);if(_!==!1)m+=_;else return c}return t("encoded %j as %s",y,m),m}function d(y){try{return JSON.stringify(y)}catch{return!1}}function u(y,m){function _(x){var p=r.deconstructPacket(x),v=f(p.packet),b=p.buffers;b.unshift(v),m(b)}r.removeBlobs(y,_)}function a(){this.reconstructor=null}n(a.prototype),a.prototype.add=function(y){var m;if(typeof y=="string"){if(this.reconstructor)throw new Error("got plaintext data when reconstructing a packet");m=l(y),e.BINARY_EVENT===m.type||e.BINARY_ACK===m.type?(this.reconstructor=new g(m),this.reconstructor.reconPack.attachments===0&&this.emit("decoded",m)):this.emit("decoded",m)}else if(s(y)||y.base64)if(this.reconstructor)m=this.reconstructor.takeBinaryData(y),m&&(this.reconstructor=null,this.emit("decoded",m));else throw new Error("got binary data when not reconstructing a packet");else throw new Error("Unknown type: "+y)};function l(y){var m=0,_={type:Number(y.charAt(0))};if(e.types[_.type]==null)return E("unknown packet type "+_.type);if(e.BINARY_EVENT===_.type||e.BINARY_ACK===_.type){for(var x=m+1;y.charAt(++m)!=="-"&&m!=y.length;);var p=y.substring(x,m);if(p!=Number(p)||y.charAt(m)!=="-")throw new Error("Illegal attachments");_.attachments=Number(p)}if(y.charAt(m+1)==="/"){for(var x=m+1;++m;){var v=y.charAt(m);if(v===","||m===y.length)break}_.nsp=y.substring(x,m)}else _.nsp="/";var b=y.charAt(m+1);if(b!==""&&Number(b)==b){for(var x=m+1;++m;){var v=y.charAt(m);if(v==null||Number(v)!=v){--m;break}if(m===y.length)break}_.id=Number(y.substring(x,m+1))}if(y.charAt(++m)){var w=h(y.substr(m)),A=w!==!1&&(_.type===e.ERROR||i(w));if(A)_.data=w;else return E("invalid payload")}return t("decoded %s as %j",y,_),_}function h(y){try{return JSON.parse(y)}catch{return!1}}a.prototype.destroy=function(){this.reconstructor&&this.reconstructor.finishedReconstruction()};function g(y){this.reconPack=y,this.buffers=[]}g.prototype.takeBinaryData=function(y){if(this.buffers.push(y),this.buffers.length===this.reconPack.attachments){var m=r.reconstructPacket(this.reconPack,this.buffers);return this.finishedReconstruction(),m}return null},g.prototype.finishedReconstruction=function(){this.reconPack=null,this.buffers=[]};function E(y){return{type:e.ERROR,data:"parser error: "+y}}})(_s);var ga={exports:{}},vs={},Lo={exports:{}};try{Lo.exports=typeof XMLHttpRequest<"u"&&"withCredentials"in new XMLHttpRequest}catch{Lo.exports=!1}var tS=Lo.exports,va=function(){return typeof self<"u"?self:typeof window<"u"?window:Function("return this")()}(),nS=tS,rS=va,ya=function(e){var t=e.xdomain,n=e.xscheme,r=e.enablesXDR;try{if(typeof XMLHttpRequest<"u"&&(!t||nS))return new XMLHttpRequest}catch{}try{if(typeof XDomainRequest<"u"&&!n&&r)return new XDomainRequest}catch{}if(!t)try{return new rS[["Active"].concat("Object").join("X")]("Microsoft.XMLHTTP")}catch{}},Ea={exports:{}},Dn={},iS=Object.keys||function(t){var n=[],r=Object.prototype.hasOwnProperty;for(var i in t)r.call(t,i)&&n.push(i);return n},sS=ma,Yd=Object.prototype.toString,oS=typeof Blob=="function"||typeof Blob<"u"&&Yd.call(Blob)==="[object BlobConstructor]",aS=typeof File=="function"||typeof File<"u"&&Yd.call(File)==="[object FileConstructor]",Jd=Ti;function Ti(e){if(!e||typeof e!="object")return!1;if(sS(e)){for(var t=0,n=e.length;t<n;t++)if(Ti(e[t]))return!0;return!1}if(typeof Buffer=="function"&&Buffer.isBuffer&&Buffer.isBuffer(e)||typeof ArrayBuffer=="function"&&e instanceof ArrayBuffer||oS&&e instanceof Blob||aS&&e instanceof File)return!0;if(e.toJSON&&typeof e.toJSON=="function"&&arguments.length===1)return Ti(e.toJSON(),!0);for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)&&Ti(e[r]))return!0;return!1}var lS=function(e,t,n){var r=e.byteLength;if(t=t||0,n=n||r,e.slice)return e.slice(t,n);if(t<0&&(t+=r),n<0&&(n+=r),n>r&&(n=r),t>=r||t>=n||r===0)return new ArrayBuffer(0);for(var i=new Uint8Array(e),s=new Uint8Array(n-t),o=t,c=0;o<n;o++,c++)s[c]=i[o];return s.buffer},uS=cS;function cS(e,t,n){var r=!1;return n=n||fS,i.count=e,e===0?t():i;function i(s,o){if(i.count<=0)throw new Error("after called too many times");--i.count,s?(r=!0,t(s),t=n):i.count===0&&!r&&t(null,o)}}function fS(){}/*! https://mths.be/utf8js v2.1.2 by @mathias */var hn=String.fromCharCode;function Zd(e){for(var t=[],n=0,r=e.length,i,s;n<r;)i=e.charCodeAt(n++),i>=55296&&i<=56319&&n<r?(s=e.charCodeAt(n++),(s&64512)==56320?t.push(((i&1023)<<10)+(s&1023)+65536):(t.push(i),n--)):t.push(i);return t}function dS(e){for(var t=e.length,n=-1,r,i="";++n<t;)r=e[n],r>65535&&(r-=65536,i+=hn(r>>>10&1023|55296),r=56320|r&1023),i+=hn(r);return i}function Qd(e,t){if(e>=55296&&e<=57343){if(t)throw Error("Lone surrogate U+"+e.toString(16).toUpperCase()+" is not a scalar value");return!1}return!0}function Ws(e,t){return hn(e>>t&63|128)}function hS(e,t){if(!(e&4294967168))return hn(e);var n="";return e&4294965248?e&4294901760?e&4292870144||(n=hn(e>>18&7|240),n+=Ws(e,12),n+=Ws(e,6)):(Qd(e,t)||(e=65533),n=hn(e>>12&15|224),n+=Ws(e,6)):n=hn(e>>6&31|192),n+=hn(e&63|128),n}function pS(e,t){t=t||{};for(var n=t.strict!==!1,r=Zd(e),i=r.length,s=-1,o,c="";++s<i;)o=r[s],c+=hS(o,n);return c}function Un(){if(mn>=Wi)throw Error("Invalid byte index");var e=Ki[mn]&255;if(mn++,(e&192)==128)return e&63;throw Error("Invalid continuation byte")}function mS(e){var t,n,r,i,s;if(mn>Wi)throw Error("Invalid byte index");if(mn==Wi)return!1;if(t=Ki[mn]&255,mn++,!(t&128))return t;if((t&224)==192){if(n=Un(),s=(t&31)<<6|n,s>=128)return s;throw Error("Invalid continuation byte")}if((t&240)==224){if(n=Un(),r=Un(),s=(t&15)<<12|n<<6|r,s>=2048)return Qd(s,e)?s:65533;throw Error("Invalid continuation byte")}if((t&248)==240&&(n=Un(),r=Un(),i=Un(),s=(t&7)<<18|n<<12|r<<6|i,s>=65536&&s<=1114111))return s;throw Error("Invalid UTF-8 detected")}var Ki,Wi,mn;function _S(e,t){t=t||{};var n=t.strict!==!1;Ki=Zd(e),Wi=Ki.length,mn=0;for(var r=[],i;(i=mS(n))!==!1;)r.push(i);return dS(r)}var gS={version:"2.1.2",encode:pS,decode:_S},wi={},dc;function vS(){return dc||(dc=1,function(e){wi.encode=function(t){var n=new Uint8Array(t),r,i=n.length,s="";for(r=0;r<i;r+=3)s+=e[n[r]>>2],s+=e[(n[r]&3)<<4|n[r+1]>>4],s+=e[(n[r+1]&15)<<2|n[r+2]>>6],s+=e[n[r+2]&63];return i%3===2?s=s.substring(0,s.length-1)+"=":i%3===1&&(s=s.substring(0,s.length-2)+"=="),s},wi.decode=function(t){var n=t.length*.75,r=t.length,i,s=0,o,c,f,d;t[t.length-1]==="="&&(n--,t[t.length-2]==="="&&n--);var u=new ArrayBuffer(n),a=new Uint8Array(u);for(i=0;i<r;i+=4)o=e.indexOf(t[i]),c=e.indexOf(t[i+1]),f=e.indexOf(t[i+2]),d=e.indexOf(t[i+3]),a[s++]=o<<2|c>>4,a[s++]=(c&15)<<4|f>>2,a[s++]=(f&3)<<6|d&63;return u}}("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/")),wi}var Gs,hc;function yS(){if(hc)return Gs;hc=1;var e=typeof e<"u"?e:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:typeof MSBlobBuilder<"u"?MSBlobBuilder:typeof MozBlobBuilder<"u"?MozBlobBuilder:!1,t=function(){try{var c=new Blob(["hi"]);return c.size===2}catch{return!1}}(),n=t&&function(){try{var c=new Blob([new Uint8Array([1,2])]);return c.size===2}catch{return!1}}(),r=e&&e.prototype.append&&e.prototype.getBlob;function i(c){return c.map(function(f){if(f.buffer instanceof ArrayBuffer){var d=f.buffer;if(f.byteLength!==d.byteLength){var u=new Uint8Array(f.byteLength);u.set(new Uint8Array(d,f.byteOffset,f.byteLength)),d=u.buffer}return d}return f})}function s(c,f){f=f||{};var d=new e;return i(c).forEach(function(u){d.append(u)}),f.type?d.getBlob(f.type):d.getBlob()}function o(c,f){return new Blob(i(c),f||{})}return typeof Blob<"u"&&(s.prototype=Blob.prototype,o.prototype=Blob.prototype),Gs=function(){return t?n?Blob:o:r?s:void 0}(),Gs}(function(e){var t=iS,n=Jd,r=lS,i=uS,s=gS,o;typeof ArrayBuffer<"u"&&(o=vS());var c=typeof navigator<"u"&&/Android/i.test(navigator.userAgent),f=typeof navigator<"u"&&/PhantomJS/i.test(navigator.userAgent),d=c||f;e.protocol=3;var u=e.packets={open:0,close:1,ping:2,pong:3,message:4,upgrade:5,noop:6},a=t(u),l={type:"error",data:"parser error"},h=yS();e.encodePacket=function(p,v,b,w){typeof v=="function"&&(w=v,v=!1),typeof b=="function"&&(w=b,b=null);var A=p.data===void 0?void 0:p.data.buffer||p.data;if(typeof ArrayBuffer<"u"&&A instanceof ArrayBuffer)return E(p,v,w);if(typeof h<"u"&&A instanceof h)return m(p,v,w);if(A&&A.base64)return g(p,w);var T=u[p.type];return p.data!==void 0&&(T+=b?s.encode(String(p.data),{strict:!1}):String(p.data)),w(""+T)};function g(p,v){var b="b"+e.packets[p.type]+p.data.data;return v(b)}function E(p,v,b){if(!v)return e.encodeBase64Packet(p,b);var w=p.data,A=new Uint8Array(w),T=new Uint8Array(1+w.byteLength);T[0]=u[p.type];for(var P=0;P<A.length;P++)T[P+1]=A[P];return b(T.buffer)}function y(p,v,b){if(!v)return e.encodeBase64Packet(p,b);var w=new FileReader;return w.onload=function(){e.encodePacket({type:p.type,data:w.result},v,!0,b)},w.readAsArrayBuffer(p.data)}function m(p,v,b){if(!v)return e.encodeBase64Packet(p,b);if(d)return y(p,v,b);var w=new Uint8Array(1);w[0]=u[p.type];var A=new h([w.buffer,p.data]);return b(A)}e.encodeBase64Packet=function(p,v){var b="b"+e.packets[p.type];if(typeof h<"u"&&p.data instanceof h){var w=new FileReader;return w.onload=function(){var C=w.result.split(",")[1];v(b+C)},w.readAsDataURL(p.data)}var A;try{A=String.fromCharCode.apply(null,new Uint8Array(p.data))}catch{for(var T=new Uint8Array(p.data),P=new Array(T.length),R=0;R<T.length;R++)P[R]=T[R];A=String.fromCharCode.apply(null,P)}return b+=btoa(A),v(b)},e.decodePacket=function(p,v,b){if(p===void 0)return l;if(typeof p=="string"){if(p.charAt(0)==="b")return e.decodeBase64Packet(p.substr(1),v);if(b&&(p=_(p),p===!1))return l;var A=p.charAt(0);return Number(A)!=A||!a[A]?l:p.length>1?{type:a[A],data:p.substring(1)}:{type:a[A]}}var w=new Uint8Array(p),A=w[0],T=r(p,1);return h&&v==="blob"&&(T=new h([T])),{type:a[A],data:T}};function _(p){try{p=s.decode(p,{strict:!1})}catch{return!1}return p}e.decodeBase64Packet=function(p,v){var b=a[p.charAt(0)];if(!o)return{type:b,data:{base64:!0,data:p.substr(1)}};var w=o.decode(p.substr(1));return v==="blob"&&h&&(w=new h([w])),{type:b,data:w}},e.encodePayload=function(p,v,b){typeof v=="function"&&(b=v,v=null);var w=n(p);if(v&&w)return h&&!d?e.encodePayloadAsBlob(p,b):e.encodePayloadAsArrayBuffer(p,b);if(!p.length)return b("0:");function A(P){return P.length+":"+P}function T(P,R){e.encodePacket(P,w?v:!1,!1,function(C){R(null,A(C))})}x(p,T,function(P,R){return b(R.join(""))})};function x(p,v,b){for(var w=new Array(p.length),A=i(p.length,b),T=function(R,C,O){v(C,function(D,N){w[R]=N,O(D,w)})},P=0;P<p.length;P++)T(P,p[P],A)}e.decodePayload=function(p,v,b){if(typeof p!="string")return e.decodePayloadAsBinary(p,v,b);typeof v=="function"&&(b=v,v=null);var w;if(p==="")return b(l,0,1);for(var A="",T,P,R=0,C=p.length;R<C;R++){var O=p.charAt(R);if(O!==":"){A+=O;continue}if(A===""||A!=(T=Number(A))||(P=p.substr(R+1,T),A!=P.length))return b(l,0,1);if(P.length){if(w=e.decodePacket(P,v,!1),l.type===w.type&&l.data===w.data)return b(l,0,1);var D=b(w,R+T,C);if(D===!1)return}R+=T,A=""}if(A!=="")return b(l,0,1)},e.encodePayloadAsArrayBuffer=function(p,v){if(!p.length)return v(new ArrayBuffer(0));function b(w,A){e.encodePacket(w,!0,!0,function(T){return A(null,T)})}x(p,b,function(w,A){var T=A.reduce(function(C,O){var D;return typeof O=="string"?D=O.length:D=O.byteLength,C+D.toString().length+D+2},0),P=new Uint8Array(T),R=0;return A.forEach(function(C){var O=typeof C=="string",D=C;if(O){for(var U=new Uint8Array(C.length),N=0;N<C.length;N++)U[N]=C.charCodeAt(N);D=U.buffer}O?P[R++]=0:P[R++]=1;for(var M=D.byteLength.toString(),N=0;N<M.length;N++)P[R++]=parseInt(M[N]);P[R++]=255;for(var U=new Uint8Array(D),N=0;N<U.length;N++)P[R++]=U[N]}),v(P.buffer)})},e.encodePayloadAsBlob=function(p,v){function b(w,A){e.encodePacket(w,!0,!0,function(T){var P=new Uint8Array(1);if(P[0]=1,typeof T=="string"){for(var R=new Uint8Array(T.length),C=0;C<T.length;C++)R[C]=T.charCodeAt(C);T=R.buffer,P[0]=0}for(var O=T instanceof ArrayBuffer?T.byteLength:T.size,D=O.toString(),N=new Uint8Array(D.length+1),C=0;C<D.length;C++)N[C]=parseInt(D[C]);if(N[D.length]=255,h){var M=new h([P.buffer,N.buffer,T]);A(null,M)}})}x(p,b,function(w,A){return v(new h(A))})},e.decodePayloadAsBinary=function(p,v,b){typeof v=="function"&&(b=v,v=null);for(var w=p,A=[];w.byteLength>0;){for(var T=new Uint8Array(w),P=T[0]===0,R="",C=1;T[C]!==255;C++){if(R.length>310)return b(l,0,1);R+=T[C]}w=r(w,2+R.length),R=parseInt(R);var O=r(w,0,R);if(P)try{O=String.fromCharCode.apply(null,new Uint8Array(O))}catch{var D=new Uint8Array(O);O="";for(var C=0;C<D.length;C++)O+=String.fromCharCode(D[C])}A.push(O),w=r(w,R)}var N=A.length;A.forEach(function(M,U){b(e.decodePacket(M,v,!0),U,N)})}})(Dn);var zs,pc;function xa(){if(pc)return zs;pc=1;var e=Dn,t=ur;zs=n;function n(r){this.path=r.path,this.hostname=r.hostname,this.port=r.port,this.secure=r.secure,this.query=r.query,this.timestampParam=r.timestampParam,this.timestampRequests=r.timestampRequests,this.readyState="",this.agent=r.agent||!1,this.socket=r.socket,this.enablesXDR=r.enablesXDR,this.withCredentials=r.withCredentials,this.pfx=r.pfx,this.key=r.key,this.passphrase=r.passphrase,this.cert=r.cert,this.ca=r.ca,this.ciphers=r.ciphers,this.rejectUnauthorized=r.rejectUnauthorized,this.forceNode=r.forceNode,this.isReactNative=r.isReactNative,this.extraHeaders=r.extraHeaders,this.localAddress=r.localAddress}return t(n.prototype),n.prototype.onError=function(r,i){var s=new Error(r);return s.type="TransportError",s.description=i,this.emit("error",s),this},n.prototype.open=function(){return(this.readyState==="closed"||this.readyState==="")&&(this.readyState="opening",this.doOpen()),this},n.prototype.close=function(){return(this.readyState==="opening"||this.readyState==="open")&&(this.doClose(),this.onClose()),this},n.prototype.send=function(r){if(this.readyState==="open")this.write(r);else throw new Error("Transport not open")},n.prototype.onOpen=function(){this.readyState="open",this.writable=!0,this.emit("open")},n.prototype.onData=function(r){var i=e.decodePacket(r,this.socket.binaryType);this.onPacket(i)},n.prototype.onPacket=function(r){this.emit("packet",r)},n.prototype.onClose=function(){this.readyState="closed",this.emit("close")},zs}var cr={};cr.encode=function(e){var t="";for(var n in e)e.hasOwnProperty(n)&&(t.length&&(t+="&"),t+=encodeURIComponent(n)+"="+encodeURIComponent(e[n]));return t};cr.decode=function(e){for(var t={},n=e.split("&"),r=0,i=n.length;r<i;r++){var s=n[r].split("=");t[decodeURIComponent(s[0])]=decodeURIComponent(s[1])}return t};var ys=function(e,t){var n=function(){};n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e},eh="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-_".split(""),Gi=64,th={},mc=0,_n=0,_c;function Ro(e){var t="";do t=eh[e%Gi]+t,e=Math.floor(e/Gi);while(e>0);return t}function ES(e){var t=0;for(_n=0;_n<e.length;_n++)t=t*Gi+th[e.charAt(_n)];return t}function ba(){var e=Ro(+new Date);return e!==_c?(mc=0,_c=e):e+"."+Ro(mc++)}for(;_n<Gi;_n++)th[eh[_n]]=_n;ba.encode=Ro;ba.decode=ES;var nh=ba,rh=xa(),xS=cr,ih=Dn,bS=ys,SS=nh,Tt=Qt("engine.io-client:polling"),sh=Kt,wS=function(){var e=ya,t=new e({xdomain:!1});return t.responseType!=null}();function Kt(e){var t=e&&e.forceBase64;(!wS||t)&&(this.supportsBinary=!1),rh.call(this,e)}bS(Kt,rh);Kt.prototype.name="polling";Kt.prototype.doOpen=function(){this.poll()};Kt.prototype.pause=function(e){var t=this;this.readyState="pausing";function n(){Tt("paused"),t.readyState="paused",e()}if(this.polling||!this.writable){var r=0;this.polling&&(Tt("we are currently polling - waiting to pause"),r++,this.once("pollComplete",function(){Tt("pre-pause polling complete"),--r||n()})),this.writable||(Tt("we are currently writing - waiting to pause"),r++,this.once("drain",function(){Tt("pre-pause writing complete"),--r||n()}))}else n()};Kt.prototype.poll=function(){Tt("polling"),this.polling=!0,this.doPoll(),this.emit("poll")};Kt.prototype.onData=function(e){var t=this;Tt("polling got data %s",e);var n=function(r,i,s){if(t.readyState==="opening"&&t.onOpen(),r.type==="close")return t.onClose(),!1;t.onPacket(r)};ih.decodePayload(e,this.socket.binaryType,n),this.readyState!=="closed"&&(this.polling=!1,this.emit("pollComplete"),this.readyState==="open"?this.poll():Tt('ignoring poll - transport state "%s"',this.readyState))};Kt.prototype.doClose=function(){var e=this;function t(){Tt("writing close packet"),e.write([{type:"close"}])}this.readyState==="open"?(Tt("transport open - closing"),t()):(Tt("transport not open - deferring close"),this.once("open",t))};Kt.prototype.write=function(e){var t=this;this.writable=!1;var n=function(){t.writable=!0,t.emit("drain")};ih.encodePayload(e,this.supportsBinary,function(r){t.doWrite(r,n)})};Kt.prototype.uri=function(){var e=this.query||{},t=this.secure?"https":"http",n="";this.timestampRequests!==!1&&(e[this.timestampParam]=SS()),!this.supportsBinary&&!e.sid&&(e.b64=1),e=xS.encode(e),this.port&&(t==="https"&&Number(this.port)!==443||t==="http"&&Number(this.port)!==80)&&(n=":"+this.port),e.length&&(e="?"+e);var r=this.hostname.indexOf(":")!==-1;return t+"://"+(r?"["+this.hostname+"]":this.hostname)+n+this.path+e};var AS=ya,oh=sh,CS=ur,LS=ys,To=Qt("engine.io-client:polling-xhr"),RS=va;Ea.exports=fr;Ea.exports.Request=Je;function gc(){}function fr(e){if(oh.call(this,e),this.requestTimeout=e.requestTimeout,this.extraHeaders=e.extraHeaders,typeof location<"u"){var t=location.protocol==="https:",n=location.port;n||(n=t?443:80),this.xd=typeof location<"u"&&e.hostname!==location.hostname||n!==e.port,this.xs=e.secure!==t}}LS(fr,oh);fr.prototype.supportsBinary=!0;fr.prototype.request=function(e){return e=e||{},e.uri=this.uri(),e.xd=this.xd,e.xs=this.xs,e.agent=this.agent||!1,e.supportsBinary=this.supportsBinary,e.enablesXDR=this.enablesXDR,e.withCredentials=this.withCredentials,e.pfx=this.pfx,e.key=this.key,e.passphrase=this.passphrase,e.cert=this.cert,e.ca=this.ca,e.ciphers=this.ciphers,e.rejectUnauthorized=this.rejectUnauthorized,e.requestTimeout=this.requestTimeout,e.extraHeaders=this.extraHeaders,new Je(e)};fr.prototype.doWrite=function(e,t){var n=typeof e!="string"&&e!==void 0,r=this.request({method:"POST",data:e,isBinary:n}),i=this;r.on("success",t),r.on("error",function(s){i.onError("xhr post error",s)}),this.sendXhr=r};fr.prototype.doPoll=function(){To("xhr poll");var e=this.request(),t=this;e.on("data",function(n){t.onData(n)}),e.on("error",function(n){t.onError("xhr poll error",n)}),this.pollXhr=e};function Je(e){this.method=e.method||"GET",this.uri=e.uri,this.xd=!!e.xd,this.xs=!!e.xs,this.async=e.async!==!1,this.data=e.data!==void 0?e.data:null,this.agent=e.agent,this.isBinary=e.isBinary,this.supportsBinary=e.supportsBinary,this.enablesXDR=e.enablesXDR,this.withCredentials=e.withCredentials,this.requestTimeout=e.requestTimeout,this.pfx=e.pfx,this.key=e.key,this.passphrase=e.passphrase,this.cert=e.cert,this.ca=e.ca,this.ciphers=e.ciphers,this.rejectUnauthorized=e.rejectUnauthorized,this.extraHeaders=e.extraHeaders,this.create()}CS(Je.prototype);Je.prototype.create=function(){var e={agent:this.agent,xdomain:this.xd,xscheme:this.xs,enablesXDR:this.enablesXDR};e.pfx=this.pfx,e.key=this.key,e.passphrase=this.passphrase,e.cert=this.cert,e.ca=this.ca,e.ciphers=this.ciphers,e.rejectUnauthorized=this.rejectUnauthorized;var t=this.xhr=new AS(e),n=this;try{To("xhr open %s: %s",this.method,this.uri),t.open(this.method,this.uri,this.async);try{if(this.extraHeaders){t.setDisableHeaderCheck&&t.setDisableHeaderCheck(!0);for(var r in this.extraHeaders)this.extraHeaders.hasOwnProperty(r)&&t.setRequestHeader(r,this.extraHeaders[r])}}catch{}if(this.method==="POST")try{this.isBinary?t.setRequestHeader("Content-type","application/octet-stream"):t.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch{}try{t.setRequestHeader("Accept","*/*")}catch{}"withCredentials"in t&&(t.withCredentials=this.withCredentials),this.requestTimeout&&(t.timeout=this.requestTimeout),this.hasXDR()?(t.onload=function(){n.onLoad()},t.onerror=function(){n.onError(t.responseText)}):t.onreadystatechange=function(){if(t.readyState===2)try{var i=t.getResponseHeader("Content-Type");(n.supportsBinary&&i==="application/octet-stream"||i==="application/octet-stream; charset=UTF-8")&&(t.responseType="arraybuffer")}catch{}t.readyState===4&&(t.status===200||t.status===1223?n.onLoad():setTimeout(function(){n.onError(typeof t.status=="number"?t.status:0)},0))},To("xhr data %s",this.data),t.send(this.data)}catch(i){setTimeout(function(){n.onError(i)},0);return}typeof document<"u"&&(this.index=Je.requestsCount++,Je.requests[this.index]=this)};Je.prototype.onSuccess=function(){this.emit("success"),this.cleanup()};Je.prototype.onData=function(e){this.emit("data",e),this.onSuccess()};Je.prototype.onError=function(e){this.emit("error",e),this.cleanup(!0)};Je.prototype.cleanup=function(e){if(!(typeof this.xhr>"u"||this.xhr===null)){if(this.hasXDR()?this.xhr.onload=this.xhr.onerror=gc:this.xhr.onreadystatechange=gc,e)try{this.xhr.abort()}catch{}typeof document<"u"&&delete Je.requests[this.index],this.xhr=null}};Je.prototype.onLoad=function(){var e;try{var t;try{t=this.xhr.getResponseHeader("Content-Type")}catch{}t==="application/octet-stream"||t==="application/octet-stream; charset=UTF-8"?e=this.xhr.response||this.xhr.responseText:e=this.xhr.responseText}catch(n){this.onError(n)}e!=null&&this.onData(e)};Je.prototype.hasXDR=function(){return typeof XDomainRequest<"u"&&!this.xs&&this.enablesXDR};Je.prototype.abort=function(){this.cleanup()};Je.requestsCount=0;Je.requests={};if(typeof document<"u"){if(typeof attachEvent=="function")attachEvent("onunload",vc);else if(typeof addEventListener=="function"){var TS="onpagehide"in RS?"pagehide":"unload";addEventListener(TS,vc,!1)}}function vc(){for(var e in Je.requests)Je.requests.hasOwnProperty(e)&&Je.requests[e].abort()}var OS=Ea.exports,Sa=sh,PS=ys,yc=va,IS=dr,FS=/\n/g,BS=/\\n/g,Ai;function DS(){}function dr(e){Sa.call(this,e),this.query=this.query||{},Ai||(Ai=yc.___eio=yc.___eio||[]),this.index=Ai.length;var t=this;Ai.push(function(n){t.onData(n)}),this.query.j=this.index,typeof addEventListener=="function"&&addEventListener("beforeunload",function(){t.script&&(t.script.onerror=DS)},!1)}PS(dr,Sa);dr.prototype.supportsBinary=!1;dr.prototype.doClose=function(){this.script&&(this.script.parentNode.removeChild(this.script),this.script=null),this.form&&(this.form.parentNode.removeChild(this.form),this.form=null,this.iframe=null),Sa.prototype.doClose.call(this)};dr.prototype.doPoll=function(){var e=this,t=document.createElement("script");this.script&&(this.script.parentNode.removeChild(this.script),this.script=null),t.async=!0,t.src=this.uri(),t.onerror=function(i){e.onError("jsonp poll error",i)};var n=document.getElementsByTagName("script")[0];n?n.parentNode.insertBefore(t,n):(document.head||document.body).appendChild(t),this.script=t;var r=typeof navigator<"u"&&/gecko/i.test(navigator.userAgent);r&&setTimeout(function(){var i=document.createElement("iframe");document.body.appendChild(i),document.body.removeChild(i)},100)};dr.prototype.doWrite=function(e,t){var n=this;if(!this.form){var r=document.createElement("form"),i=document.createElement("textarea"),s=this.iframeId="eio_iframe_"+this.index,o;r.className="socketio",r.style.position="absolute",r.style.top="-1000px",r.style.left="-1000px",r.target=s,r.method="POST",r.setAttribute("accept-charset","utf-8"),i.name="d",r.appendChild(i),document.body.appendChild(r),this.form=r,this.area=i}this.form.action=this.uri();function c(){f(),t()}function f(){if(n.iframe)try{n.form.removeChild(n.iframe)}catch(u){n.onError("jsonp polling iframe removal error",u)}try{var d='<iframe src="javascript:0" name="'+n.iframeId+'">';o=document.createElement(d)}catch{o=document.createElement("iframe"),o.name=n.iframeId,o.src="javascript:0"}o.id=n.iframeId,n.form.appendChild(o),n.iframe=o}f(),e=e.replace(BS,`\\
`),this.area.value=e.replace(FS,"\\n");try{this.form.submit()}catch{}this.iframe.attachEvent?this.iframe.onreadystatechange=function(){n.iframe.readyState==="complete"&&c()}:this.iframe.onload=c};const MS={},kS=Object.freeze(Object.defineProperty({__proto__:null,default:MS},Symbol.toStringTag,{value:"Module"})),NS=Fb(kS);var wa=xa(),jS=Dn,US=cr,VS=ys,HS=nh,KS=Qt("engine.io-client:websocket"),zi,Aa;typeof WebSocket<"u"?zi=WebSocket:typeof self<"u"&&(zi=self.WebSocket||self.MozWebSocket);if(typeof window>"u")try{Aa=NS}catch{}var Yn=zi||Aa,WS=Rt;function Rt(e){var t=e&&e.forceBase64;t&&(this.supportsBinary=!1),this.perMessageDeflate=e.perMessageDeflate,this.usingBrowserWebSocket=zi&&!e.forceNode,this.protocols=e.protocols,this.usingBrowserWebSocket||(Yn=Aa),wa.call(this,e)}VS(Rt,wa);Rt.prototype.name="websocket";Rt.prototype.supportsBinary=!0;Rt.prototype.doOpen=function(){if(this.check()){var e=this.uri(),t=this.protocols,n={};this.isReactNative||(n.agent=this.agent,n.perMessageDeflate=this.perMessageDeflate,n.pfx=this.pfx,n.key=this.key,n.passphrase=this.passphrase,n.cert=this.cert,n.ca=this.ca,n.ciphers=this.ciphers,n.rejectUnauthorized=this.rejectUnauthorized),this.extraHeaders&&(n.headers=this.extraHeaders),this.localAddress&&(n.localAddress=this.localAddress);try{this.ws=this.usingBrowserWebSocket&&!this.isReactNative?t?new Yn(e,t):new Yn(e):new Yn(e,t,n)}catch(r){return this.emit("error",r)}this.ws.binaryType===void 0&&(this.supportsBinary=!1),this.ws.supports&&this.ws.supports.binary?(this.supportsBinary=!0,this.ws.binaryType="nodebuffer"):this.ws.binaryType="arraybuffer",this.addEventListeners()}};Rt.prototype.addEventListeners=function(){var e=this;this.ws.onopen=function(){e.onOpen()},this.ws.onclose=function(){e.onClose()},this.ws.onmessage=function(t){e.onData(t.data)},this.ws.onerror=function(t){e.onError("websocket error",t)}};Rt.prototype.write=function(e){var t=this;this.writable=!1;for(var n=e.length,r=0,i=n;r<i;r++)(function(o){jS.encodePacket(o,t.supportsBinary,function(c){if(!t.usingBrowserWebSocket){var f={};if(o.options&&(f.compress=o.options.compress),t.perMessageDeflate){var d=typeof c=="string"?Buffer.byteLength(c):c.length;d<t.perMessageDeflate.threshold&&(f.compress=!1)}}try{t.usingBrowserWebSocket?t.ws.send(c):t.ws.send(c,f)}catch{KS("websocket closed before onclose event")}--n||s()})})(e[r]);function s(){t.emit("flush"),setTimeout(function(){t.writable=!0,t.emit("drain")},0)}};Rt.prototype.onClose=function(){wa.prototype.onClose.call(this)};Rt.prototype.doClose=function(){typeof this.ws<"u"&&this.ws.close()};Rt.prototype.uri=function(){var e=this.query||{},t=this.secure?"wss":"ws",n="";this.port&&(t==="wss"&&Number(this.port)!==443||t==="ws"&&Number(this.port)!==80)&&(n=":"+this.port),this.timestampRequests&&(e[this.timestampParam]=HS()),this.supportsBinary||(e.b64=1),e=US.encode(e),e.length&&(e="?"+e);var r=this.hostname.indexOf(":")!==-1;return t+"://"+(r?"["+this.hostname+"]":this.hostname)+n+this.path+e};Rt.prototype.check=function(){return!!Yn&&!("__initialize"in Yn&&this.name===Rt.prototype.name)};var GS=ya,zS=OS,$S=IS,qS=WS;vs.polling=XS;vs.websocket=qS;function XS(e){var t,n=!1,r=!1,i=e.jsonp!==!1;if(typeof location<"u"){var s=location.protocol==="https:",o=location.port;o||(o=s?443:80),n=e.hostname!==location.hostname||o!==e.port,r=e.secure!==s}if(e.xdomain=n,e.xscheme=r,t=new GS(e),"open"in t&&!e.forceJSONP)return new zS(e);if(!i)throw new Error("JSONP disabled");return new $S(e)}var YS=[].indexOf,ah=function(e,t){if(YS)return e.indexOf(t);for(var n=0;n<e.length;++n)if(e[n]===t)return n;return-1},JS=vs,ZS=ur,Xe=Qt("engine.io-client:socket"),QS=ah,lh=Dn,Ec=Gd,ew=cr,tw=Te;function Te(e,t){if(!(this instanceof Te))return new Te(e,t);t=t||{},e&&typeof e=="object"&&(t=e,e=null),e?(e=Ec(e),t.hostname=e.host,t.secure=e.protocol==="https"||e.protocol==="wss",t.port=e.port,e.query&&(t.query=e.query)):t.host&&(t.hostname=Ec(t.host).host),this.secure=t.secure!=null?t.secure:typeof location<"u"&&location.protocol==="https:",t.hostname&&!t.port&&(t.port=this.secure?"443":"80"),this.agent=t.agent||!1,this.hostname=t.hostname||(typeof location<"u"?location.hostname:"localhost"),this.port=t.port||(typeof location<"u"&&location.port?location.port:this.secure?443:80),this.query=t.query||{},typeof this.query=="string"&&(this.query=ew.decode(this.query)),this.upgrade=t.upgrade!==!1,this.path=(t.path||"/engine.io").replace(/\/$/,"")+"/",this.forceJSONP=!!t.forceJSONP,this.jsonp=t.jsonp!==!1,this.forceBase64=!!t.forceBase64,this.enablesXDR=!!t.enablesXDR,this.withCredentials=t.withCredentials!==!1,this.timestampParam=t.timestampParam||"t",this.timestampRequests=t.timestampRequests,this.transports=t.transports||["polling","websocket"],this.transportOptions=t.transportOptions||{},this.readyState="",this.writeBuffer=[],this.prevBufferLen=0,this.policyPort=t.policyPort||843,this.rememberUpgrade=t.rememberUpgrade||!1,this.binaryType=null,this.onlyBinaryUpgrades=t.onlyBinaryUpgrades,this.perMessageDeflate=t.perMessageDeflate!==!1?t.perMessageDeflate||{}:!1,this.perMessageDeflate===!0&&(this.perMessageDeflate={}),this.perMessageDeflate&&this.perMessageDeflate.threshold==null&&(this.perMessageDeflate.threshold=1024),this.pfx=t.pfx||null,this.key=t.key||null,this.passphrase=t.passphrase||null,this.cert=t.cert||null,this.ca=t.ca||null,this.ciphers=t.ciphers||null,this.rejectUnauthorized=t.rejectUnauthorized===void 0?!0:t.rejectUnauthorized,this.forceNode=!!t.forceNode,this.isReactNative=typeof navigator<"u"&&typeof navigator.product=="string"&&navigator.product.toLowerCase()==="reactnative",(typeof self>"u"||this.isReactNative)&&(t.extraHeaders&&Object.keys(t.extraHeaders).length>0&&(this.extraHeaders=t.extraHeaders),t.localAddress&&(this.localAddress=t.localAddress)),this.id=null,this.upgrades=null,this.pingInterval=null,this.pingTimeout=null,this.pingIntervalTimer=null,this.pingTimeoutTimer=null,this.open()}Te.priorWebsocketSuccess=!1;ZS(Te.prototype);Te.protocol=lh.protocol;Te.Socket=Te;Te.Transport=xa();Te.transports=vs;Te.parser=Dn;Te.prototype.createTransport=function(e){Xe('creating transport "%s"',e);var t=nw(this.query);t.EIO=lh.protocol,t.transport=e;var n=this.transportOptions[e]||{};this.id&&(t.sid=this.id);var r=new JS[e]({query:t,socket:this,agent:n.agent||this.agent,hostname:n.hostname||this.hostname,port:n.port||this.port,secure:n.secure||this.secure,path:n.path||this.path,forceJSONP:n.forceJSONP||this.forceJSONP,jsonp:n.jsonp||this.jsonp,forceBase64:n.forceBase64||this.forceBase64,enablesXDR:n.enablesXDR||this.enablesXDR,withCredentials:n.withCredentials||this.withCredentials,timestampRequests:n.timestampRequests||this.timestampRequests,timestampParam:n.timestampParam||this.timestampParam,policyPort:n.policyPort||this.policyPort,pfx:n.pfx||this.pfx,key:n.key||this.key,passphrase:n.passphrase||this.passphrase,cert:n.cert||this.cert,ca:n.ca||this.ca,ciphers:n.ciphers||this.ciphers,rejectUnauthorized:n.rejectUnauthorized||this.rejectUnauthorized,perMessageDeflate:n.perMessageDeflate||this.perMessageDeflate,extraHeaders:n.extraHeaders||this.extraHeaders,forceNode:n.forceNode||this.forceNode,localAddress:n.localAddress||this.localAddress,requestTimeout:n.requestTimeout||this.requestTimeout,protocols:n.protocols||void 0,isReactNative:this.isReactNative});return r};function nw(e){var t={};for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t}Te.prototype.open=function(){var e;if(this.rememberUpgrade&&Te.priorWebsocketSuccess&&this.transports.indexOf("websocket")!==-1)e="websocket";else if(this.transports.length===0){var t=this;setTimeout(function(){t.emit("error","No transports available")},0);return}else e=this.transports[0];this.readyState="opening";try{e=this.createTransport(e)}catch{this.transports.shift(),this.open();return}e.open(),this.setTransport(e)};Te.prototype.setTransport=function(e){Xe("setting transport %s",e.name);var t=this;this.transport&&(Xe("clearing existing transport %s",this.transport.name),this.transport.removeAllListeners()),this.transport=e,e.on("drain",function(){t.onDrain()}).on("packet",function(n){t.onPacket(n)}).on("error",function(n){t.onError(n)}).on("close",function(){t.onClose("transport close")})};Te.prototype.probe=function(e){Xe('probing transport "%s"',e);var t=this.createTransport(e,{probe:1}),n=!1,r=this;Te.priorWebsocketSuccess=!1;function i(){if(r.onlyBinaryUpgrades){var a=!this.supportsBinary&&r.transport.supportsBinary;n=n||a}n||(Xe('probe transport "%s" opened',e),t.send([{type:"ping",data:"probe"}]),t.once("packet",function(l){if(!n)if(l.type==="pong"&&l.data==="probe"){if(Xe('probe transport "%s" pong',e),r.upgrading=!0,r.emit("upgrading",t),!t)return;Te.priorWebsocketSuccess=t.name==="websocket",Xe('pausing current transport "%s"',r.transport.name),r.transport.pause(function(){n||r.readyState!=="closed"&&(Xe("changing transport and sending upgrade packet"),u(),r.setTransport(t),t.send([{type:"upgrade"}]),r.emit("upgrade",t),t=null,r.upgrading=!1,r.flush())})}else{Xe('probe transport "%s" failed',e);var h=new Error("probe error");h.transport=t.name,r.emit("upgradeError",h)}}))}function s(){n||(n=!0,u(),t.close(),t=null)}function o(a){var l=new Error("probe error: "+a);l.transport=t.name,s(),Xe('probe transport "%s" failed because of error: %s',e,a),r.emit("upgradeError",l)}function c(){o("transport closed")}function f(){o("socket closed")}function d(a){t&&a.name!==t.name&&(Xe('"%s" works - aborting "%s"',a.name,t.name),s())}function u(){t.removeListener("open",i),t.removeListener("error",o),t.removeListener("close",c),r.removeListener("close",f),r.removeListener("upgrading",d)}t.once("open",i),t.once("error",o),t.once("close",c),this.once("close",f),this.once("upgrading",d),t.open()};Te.prototype.onOpen=function(){if(Xe("socket open"),this.readyState="open",Te.priorWebsocketSuccess=this.transport.name==="websocket",this.emit("open"),this.flush(),this.readyState==="open"&&this.upgrade&&this.transport.pause){Xe("starting upgrade probes");for(var e=0,t=this.upgrades.length;e<t;e++)this.probe(this.upgrades[e])}};Te.prototype.onPacket=function(e){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing")switch(Xe('socket receive: type "%s", data "%s"',e.type,e.data),this.emit("packet",e),this.emit("heartbeat"),e.type){case"open":this.onHandshake(JSON.parse(e.data));break;case"pong":this.setPing(),this.emit("pong");break;case"error":var t=new Error("server error");t.code=e.data,this.onError(t);break;case"message":this.emit("data",e.data),this.emit("message",e.data);break}else Xe('packet received with socket readyState "%s"',this.readyState)};Te.prototype.onHandshake=function(e){this.emit("handshake",e),this.id=e.sid,this.transport.query.sid=e.sid,this.upgrades=this.filterUpgrades(e.upgrades),this.pingInterval=e.pingInterval,this.pingTimeout=e.pingTimeout,this.onOpen(),this.readyState!=="closed"&&(this.setPing(),this.removeListener("heartbeat",this.onHeartbeat),this.on("heartbeat",this.onHeartbeat))};Te.prototype.onHeartbeat=function(e){clearTimeout(this.pingTimeoutTimer);var t=this;t.pingTimeoutTimer=setTimeout(function(){t.readyState!=="closed"&&t.onClose("ping timeout")},e||t.pingInterval+t.pingTimeout)};Te.prototype.setPing=function(){var e=this;clearTimeout(e.pingIntervalTimer),e.pingIntervalTimer=setTimeout(function(){Xe("writing ping packet - expecting pong within %sms",e.pingTimeout),e.ping(),e.onHeartbeat(e.pingTimeout)},e.pingInterval)};Te.prototype.ping=function(){var e=this;this.sendPacket("ping",function(){e.emit("ping")})};Te.prototype.onDrain=function(){this.writeBuffer.splice(0,this.prevBufferLen),this.prevBufferLen=0,this.writeBuffer.length===0?this.emit("drain"):this.flush()};Te.prototype.flush=function(){this.readyState!=="closed"&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length&&(Xe("flushing %d packets in socket",this.writeBuffer.length),this.transport.send(this.writeBuffer),this.prevBufferLen=this.writeBuffer.length,this.emit("flush"))};Te.prototype.write=Te.prototype.send=function(e,t,n){return this.sendPacket("message",e,t,n),this};Te.prototype.sendPacket=function(e,t,n,r){if(typeof t=="function"&&(r=t,t=void 0),typeof n=="function"&&(r=n,n=null),!(this.readyState==="closing"||this.readyState==="closed")){n=n||{},n.compress=n.compress!==!1;var i={type:e,data:t,options:n};this.emit("packetCreate",i),this.writeBuffer.push(i),r&&this.once("flush",r),this.flush()}};Te.prototype.close=function(){if(this.readyState==="opening"||this.readyState==="open"){this.readyState="closing";var e=this;this.writeBuffer.length?this.once("drain",function(){this.upgrading?r():t()}):this.upgrading?r():t()}function t(){e.onClose("forced close"),Xe("socket closing - telling transport to close"),e.transport.close()}function n(){e.removeListener("upgrade",n),e.removeListener("upgradeError",n),t()}function r(){e.once("upgrade",n),e.once("upgradeError",n)}return this};Te.prototype.onError=function(e){Xe("socket error %j",e),Te.priorWebsocketSuccess=!1,this.emit("error",e),this.onClose("transport error",e)};Te.prototype.onClose=function(e,t){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing"){Xe('socket close with reason: "%s"',e);var n=this;clearTimeout(this.pingIntervalTimer),clearTimeout(this.pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),this.readyState="closed",this.id=null,this.emit("close",e,t),n.writeBuffer=[],n.prevBufferLen=0}};Te.prototype.filterUpgrades=function(e){for(var t=[],n=0,r=e.length;n<r;n++)~QS(this.transports,e[n])&&t.push(e[n]);return t};ga.exports=tw;ga.exports.parser=Dn;var rw=ga.exports,uh={exports:{}},iw=sw;function sw(e,t){var n=[];t=t||0;for(var r=t||0;r<e.length;r++)n[r-t]=e[r];return n}var ch=ow;function ow(e,t,n){return e.on(t,n),{destroy:function(){e.removeListener(t,n)}}}var xc=[].slice,fh=function(e,t){if(typeof t=="string"&&(t=e[t]),typeof t!="function")throw new Error("bind() requires a function");var n=xc.call(arguments,2);return function(){return t.apply(e,n.concat(xc.call(arguments)))}};(function(e,t){var n=_s,r=ur,i=iw,s=ch,o=fh,c=Qt("socket.io-client:socket"),f=cr,d=Jd;e.exports=l;var u={connect:1,connect_error:1,connect_timeout:1,connecting:1,disconnect:1,error:1,reconnect:1,reconnect_attempt:1,reconnect_failed:1,reconnect_error:1,reconnecting:1,ping:1,pong:1},a=r.prototype.emit;function l(h,g,E){this.io=h,this.nsp=g,this.json=this,this.ids=0,this.acks={},this.receiveBuffer=[],this.sendBuffer=[],this.connected=!1,this.disconnected=!0,this.flags={},E&&E.query&&(this.query=E.query),this.io.autoConnect&&this.open()}r(l.prototype),l.prototype.subEvents=function(){if(!this.subs){var h=this.io;this.subs=[s(h,"open",o(this,"onopen")),s(h,"packet",o(this,"onpacket")),s(h,"close",o(this,"onclose"))]}},l.prototype.open=l.prototype.connect=function(){return this.connected?this:(this.subEvents(),this.io.reconnecting||this.io.open(),this.io.readyState==="open"&&this.onopen(),this.emit("connecting"),this)},l.prototype.send=function(){var h=i(arguments);return h.unshift("message"),this.emit.apply(this,h),this},l.prototype.emit=function(h){if(u.hasOwnProperty(h))return a.apply(this,arguments),this;var g=i(arguments),E={type:(this.flags.binary!==void 0?this.flags.binary:d(g))?n.BINARY_EVENT:n.EVENT,data:g};return E.options={},E.options.compress=!this.flags||this.flags.compress!==!1,typeof g[g.length-1]=="function"&&(c("emitting packet with ack id %d",this.ids),this.acks[this.ids]=g.pop(),E.id=this.ids++),this.connected?this.packet(E):this.sendBuffer.push(E),this.flags={},this},l.prototype.packet=function(h){h.nsp=this.nsp,this.io.packet(h)},l.prototype.onopen=function(){if(c("transport is open - connecting"),this.nsp!=="/")if(this.query){var h=typeof this.query=="object"?f.encode(this.query):this.query;c("sending connect packet with query %s",h),this.packet({type:n.CONNECT,query:h})}else this.packet({type:n.CONNECT})},l.prototype.onclose=function(h){c("close (%s)",h),this.connected=!1,this.disconnected=!0,delete this.id,this.emit("disconnect",h)},l.prototype.onpacket=function(h){var g=h.nsp===this.nsp,E=h.type===n.ERROR&&h.nsp==="/";if(!(!g&&!E))switch(h.type){case n.CONNECT:this.onconnect();break;case n.EVENT:this.onevent(h);break;case n.BINARY_EVENT:this.onevent(h);break;case n.ACK:this.onack(h);break;case n.BINARY_ACK:this.onack(h);break;case n.DISCONNECT:this.ondisconnect();break;case n.ERROR:this.emit("error",h.data);break}},l.prototype.onevent=function(h){var g=h.data||[];c("emitting event %j",g),h.id!=null&&(c("attaching ack callback to event"),g.push(this.ack(h.id))),this.connected?a.apply(this,g):this.receiveBuffer.push(g)},l.prototype.ack=function(h){var g=this,E=!1;return function(){if(!E){E=!0;var y=i(arguments);c("sending ack %j",y),g.packet({type:d(y)?n.BINARY_ACK:n.ACK,id:h,data:y})}}},l.prototype.onack=function(h){var g=this.acks[h.id];typeof g=="function"?(c("calling ack %s with %j",h.id,h.data),g.apply(this,h.data),delete this.acks[h.id]):c("bad ack %s",h.id)},l.prototype.onconnect=function(){this.connected=!0,this.disconnected=!1,this.emit("connect"),this.emitBuffered()},l.prototype.emitBuffered=function(){var h;for(h=0;h<this.receiveBuffer.length;h++)a.apply(this,this.receiveBuffer[h]);for(this.receiveBuffer=[],h=0;h<this.sendBuffer.length;h++)this.packet(this.sendBuffer[h]);this.sendBuffer=[]},l.prototype.ondisconnect=function(){c("server disconnect (%s)",this.nsp),this.destroy(),this.onclose("io server disconnect")},l.prototype.destroy=function(){if(this.subs){for(var h=0;h<this.subs.length;h++)this.subs[h].destroy();this.subs=null}this.io.destroy(this)},l.prototype.close=l.prototype.disconnect=function(){return this.connected&&(c("performing disconnect (%s)",this.nsp),this.packet({type:n.DISCONNECT})),this.destroy(),this.connected&&this.onclose("io client disconnect"),this},l.prototype.compress=function(h){return this.flags.compress=h,this},l.prototype.binary=function(h){return this.flags.binary=h,this}})(uh);var dh=uh.exports,aw=hr;function hr(e){e=e||{},this.ms=e.min||100,this.max=e.max||1e4,this.factor=e.factor||2,this.jitter=e.jitter>0&&e.jitter<=1?e.jitter:0,this.attempts=0}hr.prototype.duration=function(){var e=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var t=Math.random(),n=Math.floor(t*this.jitter*e);e=Math.floor(t*10)&1?e+n:e-n}return Math.min(e,this.max)|0};hr.prototype.reset=function(){this.attempts=0};hr.prototype.setMin=function(e){this.ms=e};hr.prototype.setMax=function(e){this.max=e};hr.prototype.setJitter=function(e){this.jitter=e};var lw=rw,uw=dh,cw=ur,fw=_s,cn=ch,Vn=fh,ut=Qt("socket.io-client:manager"),hh=ah,dw=aw,ph=Object.prototype.hasOwnProperty,bc=Be;function Be(e,t){if(!(this instanceof Be))return new Be(e,t);e&&typeof e=="object"&&(t=e,e=void 0),t=t||{},t.path=t.path||"/socket.io",this.nsps={},this.subs=[],this.opts=t,this.reconnection(t.reconnection!==!1),this.reconnectionAttempts(t.reconnectionAttempts||1/0),this.reconnectionDelay(t.reconnectionDelay||1e3),this.reconnectionDelayMax(t.reconnectionDelayMax||5e3),this.randomizationFactor(t.randomizationFactor||.5),this.backoff=new dw({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(t.timeout==null?2e4:t.timeout),this.readyState="closed",this.uri=e,this.connecting=[],this.lastPing=null,this.encoding=!1,this.packetBuffer=[];var n=t.parser||fw;this.encoder=new n.Encoder,this.decoder=new n.Decoder,this.autoConnect=t.autoConnect!==!1,this.autoConnect&&this.open()}Be.prototype.emitAll=function(){this.emit.apply(this,arguments);for(var e in this.nsps)ph.call(this.nsps,e)&&this.nsps[e].emit.apply(this.nsps[e],arguments)};Be.prototype.updateSocketIds=function(){for(var e in this.nsps)ph.call(this.nsps,e)&&(this.nsps[e].id=this.generateId(e))};Be.prototype.generateId=function(e){return(e==="/"?"":e+"#")+this.engine.id};cw(Be.prototype);Be.prototype.reconnection=function(e){return arguments.length?(this._reconnection=!!e,this):this._reconnection};Be.prototype.reconnectionAttempts=function(e){return arguments.length?(this._reconnectionAttempts=e,this):this._reconnectionAttempts};Be.prototype.reconnectionDelay=function(e){return arguments.length?(this._reconnectionDelay=e,this.backoff&&this.backoff.setMin(e),this):this._reconnectionDelay};Be.prototype.randomizationFactor=function(e){return arguments.length?(this._randomizationFactor=e,this.backoff&&this.backoff.setJitter(e),this):this._randomizationFactor};Be.prototype.reconnectionDelayMax=function(e){return arguments.length?(this._reconnectionDelayMax=e,this.backoff&&this.backoff.setMax(e),this):this._reconnectionDelayMax};Be.prototype.timeout=function(e){return arguments.length?(this._timeout=e,this):this._timeout};Be.prototype.maybeReconnectOnOpen=function(){!this.reconnecting&&this._reconnection&&this.backoff.attempts===0&&this.reconnect()};Be.prototype.open=Be.prototype.connect=function(e,t){if(ut("readyState %s",this.readyState),~this.readyState.indexOf("open"))return this;ut("opening %s",this.uri),this.engine=lw(this.uri,this.opts);var n=this.engine,r=this;this.readyState="opening",this.skipReconnect=!1;var i=cn(n,"open",function(){r.onopen(),e&&e()}),s=cn(n,"error",function(f){if(ut("connect_error"),r.cleanup(),r.readyState="closed",r.emitAll("connect_error",f),e){var d=new Error("Connection error");d.data=f,e(d)}else r.maybeReconnectOnOpen()});if(this._timeout!==!1){var o=this._timeout;ut("connect attempt will timeout after %d",o),o===0&&i.destroy();var c=setTimeout(function(){ut("connect attempt timed out after %d",o),i.destroy(),n.close(),n.emit("error","timeout"),r.emitAll("connect_timeout",o)},o);this.subs.push({destroy:function(){clearTimeout(c)}})}return this.subs.push(i),this.subs.push(s),this};Be.prototype.onopen=function(){ut("open"),this.cleanup(),this.readyState="open",this.emit("open");var e=this.engine;this.subs.push(cn(e,"data",Vn(this,"ondata"))),this.subs.push(cn(e,"ping",Vn(this,"onping"))),this.subs.push(cn(e,"pong",Vn(this,"onpong"))),this.subs.push(cn(e,"error",Vn(this,"onerror"))),this.subs.push(cn(e,"close",Vn(this,"onclose"))),this.subs.push(cn(this.decoder,"decoded",Vn(this,"ondecoded")))};Be.prototype.onping=function(){this.lastPing=new Date,this.emitAll("ping")};Be.prototype.onpong=function(){this.emitAll("pong",new Date-this.lastPing)};Be.prototype.ondata=function(e){this.decoder.add(e)};Be.prototype.ondecoded=function(e){this.emit("packet",e)};Be.prototype.onerror=function(e){ut("error",e),this.emitAll("error",e)};Be.prototype.socket=function(e,t){var n=this.nsps[e];if(!n){n=new uw(this,e,t),this.nsps[e]=n;var r=this;n.on("connecting",i),n.on("connect",function(){n.id=r.generateId(e)}),this.autoConnect&&i()}function i(){~hh(r.connecting,n)||r.connecting.push(n)}return n};Be.prototype.destroy=function(e){var t=hh(this.connecting,e);~t&&this.connecting.splice(t,1),!this.connecting.length&&this.close()};Be.prototype.packet=function(e){ut("writing packet %j",e);var t=this;e.query&&e.type===0&&(e.nsp+="?"+e.query),t.encoding?t.packetBuffer.push(e):(t.encoding=!0,this.encoder.encode(e,function(n){for(var r=0;r<n.length;r++)t.engine.write(n[r],e.options);t.encoding=!1,t.processPacketQueue()}))};Be.prototype.processPacketQueue=function(){if(this.packetBuffer.length>0&&!this.encoding){var e=this.packetBuffer.shift();this.packet(e)}};Be.prototype.cleanup=function(){ut("cleanup");for(var e=this.subs.length,t=0;t<e;t++){var n=this.subs.shift();n.destroy()}this.packetBuffer=[],this.encoding=!1,this.lastPing=null,this.decoder.destroy()};Be.prototype.close=Be.prototype.disconnect=function(){ut("disconnect"),this.skipReconnect=!0,this.reconnecting=!1,this.readyState==="opening"&&this.cleanup(),this.backoff.reset(),this.readyState="closed",this.engine&&this.engine.close()};Be.prototype.onclose=function(e){ut("onclose"),this.cleanup(),this.backoff.reset(),this.readyState="closed",this.emit("close",e),this._reconnection&&!this.skipReconnect&&this.reconnect()};Be.prototype.reconnect=function(){if(this.reconnecting||this.skipReconnect)return this;var e=this;if(this.backoff.attempts>=this._reconnectionAttempts)ut("reconnect failed"),this.backoff.reset(),this.emitAll("reconnect_failed"),this.reconnecting=!1;else{var t=this.backoff.duration();ut("will wait %dms before reconnect attempt",t),this.reconnecting=!0;var n=setTimeout(function(){e.skipReconnect||(ut("attempting reconnect"),e.emitAll("reconnect_attempt",e.backoff.attempts),e.emitAll("reconnecting",e.backoff.attempts),!e.skipReconnect&&e.open(function(r){r?(ut("reconnect attempt error"),e.reconnecting=!1,e.reconnect(),e.emitAll("reconnect_error",r.data)):(ut("reconnect success"),e.onreconnect())}))},t);this.subs.push({destroy:function(){clearTimeout(n)}})}};Be.prototype.onreconnect=function(){var e=this.backoff.attempts;this.reconnecting=!1,this.backoff.reset(),this.updateSocketIds(),this.emitAll("reconnect",e)};(function(e,t){var n=zb,r=_s,i=bc,s=Qt("socket.io-client");e.exports=t=c;var o=t.managers={};function c(f,d){typeof f=="object"&&(d=f,f=void 0),d=d||{};var u=n(f),a=u.source,l=u.id,h=u.path,g=o[l]&&h in o[l].nsps,E=d.forceNew||d["force new connection"]||d.multiplex===!1||g,y;return E?(s("ignoring socket cache for %s",a),y=i(a,d)):(o[l]||(s("new io instance for %s",a),o[l]=i(a,d)),y=o[l]),u.query&&!d.query&&(d.query=u.query),y.socket(u.path,d)}t.protocol=r.protocol,t.connect=c,t.Manager=bc,t.Socket=dh})(bo,bo.exports);var hw=bo.exports;const pw=Kd(hw);class mw{constructor(){}init(t){this.client=pw(t),this.client.on("connect",()=>{console.info("socket connected")})}}const Ca=new mw;class _w{constructor(t,n,r){this.sourceId=t,this.canvasId=n,this.width=r,this.rate=r/640,this.height=Math.round(360*this.rate)}init(){this.source=document.getElementById(this.sourceId),this.canvas=document.getElementById(this.canvasId),this.canvasContext=this.canvas.getContext("2d"),this.canvas.setAttribute("width",this.width.toString()),this.canvas.setAttribute("height",this.height.toString())}destroyPlayer(){this.player&&(this.player.pause(),this.player.unload(),this.player.detachMediaElement(),this.player.destroy())}connect(t){this.player&&this.destroyPlayer(),cc.isSupported()&&(this.player=cc.createPlayer({type:"flv",isLive:!0,url:t},{enableStashBuffer:!1,stashInitialSize:128}),this.player.attachMediaElement(this.source),this.player.load(),this.player.play())}pointTrans(t){return Math.round(t*this.rate)}play(){Ca.client.on("camera:data",({hands:t,fingers:n,isLock:r})=>{this.canvasContext.drawImage(this.source,0,0,this.width,this.height);for(const i in t){let{x0:s,x1:o,y0:c,y1:f}=t[i];s=Math.round(s*this.rate),o=Math.round(o*this.rate),c=Math.round(c*this.rate),f=Math.round(f*this.rate);const d=f-c,u=o-s;this.canvasContext.strokeStyle=r?"red":"green",this.canvasContext.lineWidth=3,this.canvasContext.strokeRect(s,c,u,d),this.canvasContext.lineWidth=1,this.canvasContext.strokeText(r?`hand[${i}] locked`:`hand[${i}]`,s,c)}})}pause(){this.player.pause(),clearInterval(this.timer)}callback(){this.canvasContext.drawImage(this.source,0,0,640,360)}}const gw=Le("div",null,[Le("div",{"bg-gray-200":""},[Le("canvas",{id:"canvas"}),Le("video",{id:"source","h-0":""})])],-1),vw=Ce({__name:"CameraMonitor",setup(e){const t=be(()=>`wss://${document.domain}:${window.location.port}/stream?${wb.value}`),n=new _w("source","canvas",300);return Mt(()=>{n.init(),n.play()}),(r,i)=>{const s=ud;return Ke(),xn("div",null,[gw,B(s,{type:"primary",onClick:i[0]||(i[0]=o=>Ee(n).connect(Ee(t)))},{default:me(()=>[Xt("  ")]),_:1})])}}}),yw={"w-100vw":""},Ew=Le("span",{"i-fluent:camera-dome-24-filled":"","m-auto":"","mr-0.5em":"","text-lg":""},null,-1),xw={class:"custom-title"},bw={style:{margin:"16px"}},Sw=Ce({__name:"camera",setup(e){const{isFetching:t,data:n,error:r,execute:i}=Vr("/api/camera/list").json(),s=le(!1),o=le("admin"),c=le("123456"),f=le("");function d(h){s.value=!0,f.value=h}async function u(){const h={username:o.value,password:c.value,urn:f.value};await Vr("/api/camera/login").post(h).json(),s.value=!1,a.value=!0}const a=le(!1);function l(){i()}return(h,g)=>{const E=md,y=lr,m=vw,_=ri,x=B_,p=ud,v=cd,b=xd;return Ke(),at(b,{modelValue:Ee(t),"onUpdate:modelValue":g[4]||(g[4]=w=>Me(t)?t.value=w:null),onRefresh:l},{default:me(()=>[Le("div",yw,[B(_,{inset:"",title:""},{default:me(()=>{var w;return[(Ke(!0),xn(Qe,null,Rf(((w=Ee(n))==null?void 0:w.list)??[],(A,T)=>(Ke(),at(_,{key:T},{default:me(()=>[B(y,{"is-link":"",onClick:P=>d(A.urn)},{icon:me(()=>[Ew]),title:me(()=>[Le("span",xw,ft(A.hostname),1),B(E,{type:"primary",plain:""},{default:me(()=>[Xt("  ")]),_:1})]),_:2},1032,["onClick"]),Ee(a)?(Ke(),at(y,{key:0},{default:me(()=>[B(m)]),_:1})):lo("",!0)]),_:2},1024))),128)),Ee(n)===null||Ee(n).list.length===0?(Ke(),at(y,{key:0,title:""})):lo("",!0)]}),_:1}),Xt(" "+ft(h.width)+" "+ft(h.height)+" ",1),B(v,{show:Ee(s),"onUpdate:show":g[3]||(g[3]=w=>Me(s)?s.value=w:null),round:"","p-1em":""},{default:me(()=>[B(_,{inset:""},{default:me(()=>[B(x,{modelValue:Ee(o),"onUpdate:modelValue":g[0]||(g[0]=w=>Me(o)?o.value=w:null),name:"",label:"",placeholder:""},null,8,["modelValue"]),B(x,{modelValue:Ee(c),"onUpdate:modelValue":g[1]||(g[1]=w=>Me(c)?c.value=w:null),type:"password",name:"",label:"",placeholder:""},null,8,["modelValue"])]),_:1}),Le("div",bw,[B(p,{round:"",block:"",type:"primary",onClick:g[2]||(g[2]=w=>u())},{default:me(()=>[Xt("  ")]),_:1})])]),_:1},8,["show"])])]),_:1},8,["modelValue"])}}}),ww={"w-100vw":""},Aw=Le("span",{"i-clarity:cursor-hand-open-line":"","m-auto":"","mr-0.5em":""},null,-1),Cw=Le("span",{"i-ph:hand-fist":"","m-auto":"","mr-0.5em":""},null,-1),Lw=Ce({__name:"recognition",setup(e){const t=le(-1);return Ca.client.on("camera:data",({pattern:n})=>{t.value=n??-1}),(n,r)=>{const i=lr,s=ri;return Ke(),xn("div",ww,[B(s,{title:""},{default:me(()=>[B(i,{title:"",class:Jn({action:Ee(t)===2})},{icon:me(()=>[Aw]),_:1},8,["class"]),B(i,{title:"",class:Jn({action:Ee(t)===1})},{icon:me(()=>[Cw]),_:1},8,["class"])]),_:1}),B(s,{title:""},{default:me(()=>[B(i,{title:"1",label:"",value:""}),B(i,{title:"",label:"",value:""})]),_:1})])}}});function Rw(){const e=le(),t=n=>{e.value=n.orientation};return Bt.orientation.state().then(t),Bt.onAction("orientation",t),e}function Tw(){const e=le(),t=n=>{e.value=n.safeAreaInsets};return Bt.layout.safeArea().then(t),Bt.onAction("orientation",t),e}function Ow(){const e=le();return Bt.env().then(t=>{e.value=t}),e}function Pw(){const e=le(),t=n=>{e.value=n.theme};return Bt.theme().then(t),Bt.onAction("theme",t),e}const Iw=Rw(),Sr=Tw(),Fw=Ow(),Bw=Pw(),Dw=Ce({__name:"debug",setup(e){async function t(i){return(await Bt.orientation.lock(i)).success}async function n(){return(await Bt.orientation.unlock()).success}function r(){$_("")}return(i,s)=>{const o=wg,c=Eg;return Ke(),xn("div",null,[Le("div",null,"orientation: "+ft("edgerOrientation"in i?i.edgerOrientation:Ee(Iw)),1),Le("div",null,"safeAreaInsets: "+ft("edgerSafeAreaInsets"in i?i.edgerSafeAreaInsets:Ee(Sr)),1),Le("div",null,"env: "+ft("edgerEnvInfo"in i?i.edgerEnvInfo:Ee(Fw)),1),Le("div",null,"theme: "+ft("edgerTheme"in i?i.edgerTheme:Ee(Bw)),1),Le("div",null,"token: "+ft("authTokenHeader"in i?i.authTokenHeader:Ee(ms)),1),B(c,{square:""},{default:me(()=>[B(o,{text:"",to:"/other-page"}),B(o,{text:"WebRTC",to:"/test/webrtc"}),B(o,{text:"",onClick:s[0]||(s[0]=f=>t("landscape"))}),B(o,{text:"",onClick:s[1]||(s[1]=f=>t("portrait"))}),B(o,{text:"",onClick:s[2]||(s[2]=f=>n())}),B(o,{text:"Toast",onClick:s[3]||(s[3]=f=>r("hello"))})]),_:1})])}}}),Mw=Le("div",null,"WebRTC ",-1),kw=Le("div",null,[Le("video",{id:"video",controls:"",autoplay:"","h-30vh":"","w-80vw":""})],-1),Nw=Ce({__name:"webrtc",setup(e){const t=le("");return Mt(()=>{navigator.mediaDevices.getUserMedia({audio:!0,video:!0}).then(n=>{const r=document.getElementById("video");r.srcObject=n,t.value="ok"}).catch(n=>{t.value=n})}),(n,r)=>(Ke(),xn(Qe,null,[Mw,kw,Le("div",null,""+ft(Ee(t)),1)],64))}}),Sc=[{path:"/:all(.*)",name:"/[...all]",component:Jg},{path:"/action",name:"/action",component:Ib},{path:"/camera",name:"/camera",component:Sw},{path:"/recognition",name:"/recognition",component:Lw},{path:"/test",children:[{path:"debug",name:"/test/debug",component:Dw},{path:"webrtc",name:"/test/webrtc",component:Nw}]}];/*!
  * vue-router v4.3.0
  * (c) 2024 Eduardo San Martin Morote
  * @license MIT
  */const Kn=typeof document<"u";function jw(e){return e.__esModule||e[Symbol.toStringTag]==="Module"}const De=Object.assign;function $s(e,t){const n={};for(const r in t){const i=t[r];n[r]=Dt(i)?i.map(e):e(i)}return n}const Br=()=>{},Dt=Array.isArray,mh=/#/g,Uw=/&/g,Vw=/\//g,Hw=/=/g,Kw=/\?/g,_h=/\+/g,Ww=/%5B/g,Gw=/%5D/g,gh=/%5E/g,zw=/%60/g,vh=/%7B/g,$w=/%7C/g,yh=/%7D/g,qw=/%20/g;function La(e){return encodeURI(""+e).replace($w,"|").replace(Ww,"[").replace(Gw,"]")}function Xw(e){return La(e).replace(vh,"{").replace(yh,"}").replace(gh,"^")}function Oo(e){return La(e).replace(_h,"%2B").replace(qw,"+").replace(mh,"%23").replace(Uw,"%26").replace(zw,"`").replace(vh,"{").replace(yh,"}").replace(gh,"^")}function Yw(e){return Oo(e).replace(Hw,"%3D")}function Jw(e){return La(e).replace(mh,"%23").replace(Kw,"%3F")}function Zw(e){return e==null?"":Jw(e).replace(Vw,"%2F")}function zr(e){try{return decodeURIComponent(""+e)}catch{}return""+e}const Qw=/\/$/,eA=e=>e.replace(Qw,"");function qs(e,t,n="/"){let r,i={},s="",o="";const c=t.indexOf("#");let f=t.indexOf("?");return c<f&&c>=0&&(f=-1),f>-1&&(r=t.slice(0,f),s=t.slice(f+1,c>-1?c:t.length),i=e(s)),c>-1&&(r=r||t.slice(0,c),o=t.slice(c,t.length)),r=iA(r??t,n),{fullPath:r+(s&&"?")+s+o,path:r,query:i,hash:zr(o)}}function tA(e,t){const n=t.query?e(t.query):"";return t.path+(n&&"?")+n+(t.hash||"")}function wc(e,t){return!t||!e.toLowerCase().startsWith(t.toLowerCase())?e:e.slice(t.length)||"/"}function nA(e,t,n){const r=t.matched.length-1,i=n.matched.length-1;return r>-1&&r===i&&nr(t.matched[r],n.matched[i])&&Eh(t.params,n.params)&&e(t.query)===e(n.query)&&t.hash===n.hash}function nr(e,t){return(e.aliasOf||e)===(t.aliasOf||t)}function Eh(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const n in e)if(!rA(e[n],t[n]))return!1;return!0}function rA(e,t){return Dt(e)?Ac(e,t):Dt(t)?Ac(t,e):e===t}function Ac(e,t){return Dt(t)?e.length===t.length&&e.every((n,r)=>n===t[r]):e.length===1&&e[0]===t}function iA(e,t){if(e.startsWith("/"))return e;if(!e)return t;const n=t.split("/"),r=e.split("/"),i=r[r.length-1];(i===".."||i===".")&&r.push("");let s=n.length-1,o,c;for(o=0;o<r.length;o++)if(c=r[o],c!==".")if(c==="..")s>1&&s--;else break;return n.slice(0,s).join("/")+"/"+r.slice(o).join("/")}var $r;(function(e){e.pop="pop",e.push="push"})($r||($r={}));var Dr;(function(e){e.back="back",e.forward="forward",e.unknown=""})(Dr||(Dr={}));function sA(e){if(!e)if(Kn){const t=document.querySelector("base");e=t&&t.getAttribute("href")||"/",e=e.replace(/^\w+:\/\/[^\/]+/,"")}else e="/";return e[0]!=="/"&&e[0]!=="#"&&(e="/"+e),eA(e)}const oA=/^[^#]+#/;function aA(e,t){return e.replace(oA,"#")+t}function lA(e,t){const n=document.documentElement.getBoundingClientRect(),r=e.getBoundingClientRect();return{behavior:t.behavior,left:r.left-n.left-(t.left||0),top:r.top-n.top-(t.top||0)}}const Es=()=>({left:window.scrollX,top:window.scrollY});function uA(e){let t;if("el"in e){const n=e.el,r=typeof n=="string"&&n.startsWith("#"),i=typeof n=="string"?r?document.getElementById(n.slice(1)):document.querySelector(n):n;if(!i)return;t=lA(i,e)}else t=e;"scrollBehavior"in document.documentElement.style?window.scrollTo(t):window.scrollTo(t.left!=null?t.left:window.scrollX,t.top!=null?t.top:window.scrollY)}function Cc(e,t){return(history.state?history.state.position-t:-1)+e}const Po=new Map;function cA(e,t){Po.set(e,t)}function fA(e){const t=Po.get(e);return Po.delete(e),t}let dA=()=>location.protocol+"//"+location.host;function xh(e,t){const{pathname:n,search:r,hash:i}=t,s=e.indexOf("#");if(s>-1){let c=i.includes(e.slice(s))?e.slice(s).length:1,f=i.slice(c);return f[0]!=="/"&&(f="/"+f),wc(f,"")}return wc(n,e)+r+i}function hA(e,t,n,r){let i=[],s=[],o=null;const c=({state:l})=>{const h=xh(e,location),g=n.value,E=t.value;let y=0;if(l){if(n.value=h,t.value=l,o&&o===g){o=null;return}y=E?l.position-E.position:0}else r(h);i.forEach(m=>{m(n.value,g,{delta:y,type:$r.pop,direction:y?y>0?Dr.forward:Dr.back:Dr.unknown})})};function f(){o=n.value}function d(l){i.push(l);const h=()=>{const g=i.indexOf(l);g>-1&&i.splice(g,1)};return s.push(h),h}function u(){const{history:l}=window;l.state&&l.replaceState(De({},l.state,{scroll:Es()}),"")}function a(){for(const l of s)l();s=[],window.removeEventListener("popstate",c),window.removeEventListener("beforeunload",u)}return window.addEventListener("popstate",c),window.addEventListener("beforeunload",u,{passive:!0}),{pauseListeners:f,listen:d,destroy:a}}function Lc(e,t,n,r=!1,i=!1){return{back:e,current:t,forward:n,replaced:r,position:window.history.length,scroll:i?Es():null}}function pA(e){const{history:t,location:n}=window,r={value:xh(e,n)},i={value:t.state};i.value||s(r.value,{back:null,current:r.value,forward:null,position:t.length-1,replaced:!0,scroll:null},!0);function s(f,d,u){const a=e.indexOf("#"),l=a>-1?(n.host&&document.querySelector("base")?e:e.slice(a))+f:dA()+e+f;try{t[u?"replaceState":"pushState"](d,"",l),i.value=d}catch(h){console.error(h),n[u?"replace":"assign"](l)}}function o(f,d){const u=De({},t.state,Lc(i.value.back,f,i.value.forward,!0),d,{position:i.value.position});s(f,u,!0),r.value=f}function c(f,d){const u=De({},i.value,t.state,{forward:f,scroll:Es()});s(u.current,u,!0);const a=De({},Lc(r.value,f,null),{position:u.position+1},d);s(f,a,!1),r.value=f}return{location:r,state:i,push:c,replace:o}}function mA(e){e=sA(e);const t=pA(e),n=hA(e,t.state,t.location,t.replace);function r(s,o=!0){o||n.pauseListeners(),history.go(s)}const i=De({location:"",base:e,go:r,createHref:aA.bind(null,e)},t,n);return Object.defineProperty(i,"location",{enumerable:!0,get:()=>t.location.value}),Object.defineProperty(i,"state",{enumerable:!0,get:()=>t.state.value}),i}function _A(e){return e=location.host?e||location.pathname+location.search:"",e.includes("#")||(e+="#"),mA(e)}function gA(e){return typeof e=="string"||e&&typeof e=="object"}function bh(e){return typeof e=="string"||typeof e=="symbol"}const sn={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0},Sh=Symbol("");var Rc;(function(e){e[e.aborted=4]="aborted",e[e.cancelled=8]="cancelled",e[e.duplicated=16]="duplicated"})(Rc||(Rc={}));function rr(e,t){return De(new Error,{type:e,[Sh]:!0},t)}function Gt(e,t){return e instanceof Error&&Sh in e&&(t==null||!!(e.type&t))}const Tc="[^/]+?",vA={sensitive:!1,strict:!1,start:!0,end:!0},yA=/[.+*?^${}()[\]/\\]/g;function EA(e,t){const n=De({},vA,t),r=[];let i=n.start?"^":"";const s=[];for(const d of e){const u=d.length?[]:[90];n.strict&&!d.length&&(i+="/");for(let a=0;a<d.length;a++){const l=d[a];let h=40+(n.sensitive?.25:0);if(l.type===0)a||(i+="/"),i+=l.value.replace(yA,"\\$&"),h+=40;else if(l.type===1){const{value:g,repeatable:E,optional:y,regexp:m}=l;s.push({name:g,repeatable:E,optional:y});const _=m||Tc;if(_!==Tc){h+=10;try{new RegExp(`(${_})`)}catch(p){throw new Error(`Invalid custom RegExp for param "${g}" (${_}): `+p.message)}}let x=E?`((?:${_})(?:/(?:${_}))*)`:`(${_})`;a||(x=y&&d.length<2?`(?:/${x})`:"/"+x),y&&(x+="?"),i+=x,h+=20,y&&(h+=-8),E&&(h+=-20),_===".*"&&(h+=-50)}u.push(h)}r.push(u)}if(n.strict&&n.end){const d=r.length-1;r[d][r[d].length-1]+=.7000000000000001}n.strict||(i+="/?"),n.end?i+="$":n.strict&&(i+="(?:/|$)");const o=new RegExp(i,n.sensitive?"":"i");function c(d){const u=d.match(o),a={};if(!u)return null;for(let l=1;l<u.length;l++){const h=u[l]||"",g=s[l-1];a[g.name]=h&&g.repeatable?h.split("/"):h}return a}function f(d){let u="",a=!1;for(const l of e){(!a||!u.endsWith("/"))&&(u+="/"),a=!1;for(const h of l)if(h.type===0)u+=h.value;else if(h.type===1){const{value:g,repeatable:E,optional:y}=h,m=g in d?d[g]:"";if(Dt(m)&&!E)throw new Error(`Provided param "${g}" is an array but it is not repeatable (* or + modifiers)`);const _=Dt(m)?m.join("/"):m;if(!_)if(y)l.length<2&&(u.endsWith("/")?u=u.slice(0,-1):a=!0);else throw new Error(`Missing required param "${g}"`);u+=_}}return u||"/"}return{re:o,score:r,keys:s,parse:c,stringify:f}}function xA(e,t){let n=0;for(;n<e.length&&n<t.length;){const r=t[n]-e[n];if(r)return r;n++}return e.length<t.length?e.length===1&&e[0]===80?-1:1:e.length>t.length?t.length===1&&t[0]===80?1:-1:0}function bA(e,t){let n=0;const r=e.score,i=t.score;for(;n<r.length&&n<i.length;){const s=xA(r[n],i[n]);if(s)return s;n++}if(Math.abs(i.length-r.length)===1){if(Oc(r))return 1;if(Oc(i))return-1}return i.length-r.length}function Oc(e){const t=e[e.length-1];return e.length>0&&t[t.length-1]<0}const SA={type:0,value:""},wA=/[a-zA-Z0-9_]/;function AA(e){if(!e)return[[]];if(e==="/")return[[SA]];if(!e.startsWith("/"))throw new Error(`Invalid path "${e}"`);function t(h){throw new Error(`ERR (${n})/"${d}": ${h}`)}let n=0,r=n;const i=[];let s;function o(){s&&i.push(s),s=[]}let c=0,f,d="",u="";function a(){d&&(n===0?s.push({type:0,value:d}):n===1||n===2||n===3?(s.length>1&&(f==="*"||f==="+")&&t(`A repeatable param (${d}) must be alone in its segment. eg: '/:ids+.`),s.push({type:1,value:d,regexp:u,repeatable:f==="*"||f==="+",optional:f==="*"||f==="?"})):t("Invalid state to consume buffer"),d="")}function l(){d+=f}for(;c<e.length;){if(f=e[c++],f==="\\"&&n!==2){r=n,n=4;continue}switch(n){case 0:f==="/"?(d&&a(),o()):f===":"?(a(),n=1):l();break;case 4:l(),n=r;break;case 1:f==="("?n=2:wA.test(f)?l():(a(),n=0,f!=="*"&&f!=="?"&&f!=="+"&&c--);break;case 2:f===")"?u[u.length-1]=="\\"?u=u.slice(0,-1)+f:n=3:u+=f;break;case 3:a(),n=0,f!=="*"&&f!=="?"&&f!=="+"&&c--,u="";break;default:t("Unknown state");break}}return n===2&&t(`Unfinished custom RegExp for param "${d}"`),a(),o(),i}function CA(e,t,n){const r=EA(AA(e.path),n),i=De(r,{record:e,parent:t,children:[],alias:[]});return t&&!i.record.aliasOf==!t.record.aliasOf&&t.children.push(i),i}function LA(e,t){const n=[],r=new Map;t=Fc({strict:!1,end:!0,sensitive:!1},t);function i(u){return r.get(u)}function s(u,a,l){const h=!l,g=RA(u);g.aliasOf=l&&l.record;const E=Fc(t,u),y=[g];if("alias"in u){const x=typeof u.alias=="string"?[u.alias]:u.alias;for(const p of x)y.push(De({},g,{components:l?l.record.components:g.components,path:p,aliasOf:l?l.record:g}))}let m,_;for(const x of y){const{path:p}=x;if(a&&p[0]!=="/"){const v=a.record.path,b=v[v.length-1]==="/"?"":"/";x.path=a.record.path+(p&&b+p)}if(m=CA(x,a,E),l?l.alias.push(m):(_=_||m,_!==m&&_.alias.push(m),h&&u.name&&!Ic(m)&&o(u.name)),g.children){const v=g.children;for(let b=0;b<v.length;b++)s(v[b],m,l&&l.children[b])}l=l||m,(m.record.components&&Object.keys(m.record.components).length||m.record.name||m.record.redirect)&&f(m)}return _?()=>{o(_)}:Br}function o(u){if(bh(u)){const a=r.get(u);a&&(r.delete(u),n.splice(n.indexOf(a),1),a.children.forEach(o),a.alias.forEach(o))}else{const a=n.indexOf(u);a>-1&&(n.splice(a,1),u.record.name&&r.delete(u.record.name),u.children.forEach(o),u.alias.forEach(o))}}function c(){return n}function f(u){let a=0;for(;a<n.length&&bA(u,n[a])>=0&&(u.record.path!==n[a].record.path||!wh(u,n[a]));)a++;n.splice(a,0,u),u.record.name&&!Ic(u)&&r.set(u.record.name,u)}function d(u,a){let l,h={},g,E;if("name"in u&&u.name){if(l=r.get(u.name),!l)throw rr(1,{location:u});E=l.record.name,h=De(Pc(a.params,l.keys.filter(_=>!_.optional).concat(l.parent?l.parent.keys.filter(_=>_.optional):[]).map(_=>_.name)),u.params&&Pc(u.params,l.keys.map(_=>_.name))),g=l.stringify(h)}else if(u.path!=null)g=u.path,l=n.find(_=>_.re.test(g)),l&&(h=l.parse(g),E=l.record.name);else{if(l=a.name?r.get(a.name):n.find(_=>_.re.test(a.path)),!l)throw rr(1,{location:u,currentLocation:a});E=l.record.name,h=De({},a.params,u.params),g=l.stringify(h)}const y=[];let m=l;for(;m;)y.unshift(m.record),m=m.parent;return{name:E,path:g,params:h,matched:y,meta:OA(y)}}return e.forEach(u=>s(u)),{addRoute:s,resolve:d,removeRoute:o,getRoutes:c,getRecordMatcher:i}}function Pc(e,t){const n={};for(const r of t)r in e&&(n[r]=e[r]);return n}function RA(e){return{path:e.path,redirect:e.redirect,name:e.name,meta:e.meta||{},aliasOf:void 0,beforeEnter:e.beforeEnter,props:TA(e),children:e.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in e?e.components||null:e.component&&{default:e.component}}}function TA(e){const t={},n=e.props||!1;if("component"in e)t.default=n;else for(const r in e.components)t[r]=typeof n=="object"?n[r]:n;return t}function Ic(e){for(;e;){if(e.record.aliasOf)return!0;e=e.parent}return!1}function OA(e){return e.reduce((t,n)=>De(t,n.meta),{})}function Fc(e,t){const n={};for(const r in e)n[r]=r in t?t[r]:e[r];return n}function wh(e,t){return t.children.some(n=>n===e||wh(e,n))}function PA(e){const t={};if(e===""||e==="?")return t;const r=(e[0]==="?"?e.slice(1):e).split("&");for(let i=0;i<r.length;++i){const s=r[i].replace(_h," "),o=s.indexOf("="),c=zr(o<0?s:s.slice(0,o)),f=o<0?null:zr(s.slice(o+1));if(c in t){let d=t[c];Dt(d)||(d=t[c]=[d]),d.push(f)}else t[c]=f}return t}function Bc(e){let t="";for(let n in e){const r=e[n];if(n=Yw(n),r==null){r!==void 0&&(t+=(t.length?"&":"")+n);continue}(Dt(r)?r.map(s=>s&&Oo(s)):[r&&Oo(r)]).forEach(s=>{s!==void 0&&(t+=(t.length?"&":"")+n,s!=null&&(t+="="+s))})}return t}function IA(e){const t={};for(const n in e){const r=e[n];r!==void 0&&(t[n]=Dt(r)?r.map(i=>i==null?null:""+i):r==null?r:""+r)}return t}const FA=Symbol(""),Dc=Symbol(""),xs=Symbol(""),Ah=Symbol(""),Io=Symbol("");function Er(){let e=[];function t(r){return e.push(r),()=>{const i=e.indexOf(r);i>-1&&e.splice(i,1)}}function n(){e=[]}return{add:t,list:()=>e.slice(),reset:n}}function fn(e,t,n,r,i,s=o=>o()){const o=r&&(r.enterCallbacks[i]=r.enterCallbacks[i]||[]);return()=>new Promise((c,f)=>{const d=l=>{l===!1?f(rr(4,{from:n,to:t})):l instanceof Error?f(l):gA(l)?f(rr(2,{from:t,to:l})):(o&&r.enterCallbacks[i]===o&&typeof l=="function"&&o.push(l),c())},u=s(()=>e.call(r&&r.instances[i],t,n,d));let a=Promise.resolve(u);e.length<3&&(a=a.then(d)),a.catch(l=>f(l))})}function Xs(e,t,n,r,i=s=>s()){const s=[];for(const o of e)for(const c in o.components){let f=o.components[c];if(!(t!=="beforeRouteEnter"&&!o.instances[c]))if(BA(f)){const u=(f.__vccOpts||f)[t];u&&s.push(fn(u,n,r,o,c,i))}else{let d=f();s.push(()=>d.then(u=>{if(!u)return Promise.reject(new Error(`Couldn't resolve component "${c}" at "${o.path}"`));const a=jw(u)?u.default:u;o.components[c]=a;const h=(a.__vccOpts||a)[t];return h&&fn(h,n,r,o,c,i)()}))}}return s}function BA(e){return typeof e=="object"||"displayName"in e||"props"in e||"__vccOpts"in e}function Mc(e){const t=dt(xs),n=dt(Ah),r=be(()=>t.resolve(Ee(e.to))),i=be(()=>{const{matched:f}=r.value,{length:d}=f,u=f[d-1],a=n.matched;if(!u||!a.length)return-1;const l=a.findIndex(nr.bind(null,u));if(l>-1)return l;const h=kc(f[d-2]);return d>1&&kc(u)===h&&a[a.length-1].path!==h?a.findIndex(nr.bind(null,f[d-2])):l}),s=be(()=>i.value>-1&&NA(n.params,r.value.params)),o=be(()=>i.value>-1&&i.value===n.matched.length-1&&Eh(n.params,r.value.params));function c(f={}){return kA(f)?t[Ee(e.replace)?"replace":"push"](Ee(e.to)).catch(Br):Promise.resolve()}return{route:r,href:be(()=>r.value.href),isActive:s,isExactActive:o,navigate:c}}const DA=Ce({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"}},useLink:Mc,setup(e,{slots:t}){const n=Ht(Mc(e)),{options:r}=dt(xs),i=be(()=>({[Nc(e.activeClass,r.linkActiveClass,"router-link-active")]:n.isActive,[Nc(e.exactActiveClass,r.linkExactActiveClass,"router-link-exact-active")]:n.isExactActive}));return()=>{const s=t.default&&t.default(n);return e.custom?s:ea("a",{"aria-current":n.isExactActive?e.ariaCurrentValue:null,href:n.href,onClick:n.navigate,class:i.value},s)}}}),MA=DA;function kA(e){if(!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)&&!e.defaultPrevented&&!(e.button!==void 0&&e.button!==0)){if(e.currentTarget&&e.currentTarget.getAttribute){const t=e.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(t))return}return e.preventDefault&&e.preventDefault(),!0}}function NA(e,t){for(const n in t){const r=t[n],i=e[n];if(typeof r=="string"){if(r!==i)return!1}else if(!Dt(i)||i.length!==r.length||r.some((s,o)=>s!==i[o]))return!1}return!0}function kc(e){return e?e.aliasOf?e.aliasOf.path:e.path:""}const Nc=(e,t,n)=>e??t??n,jA=Ce({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(e,{attrs:t,slots:n}){const r=dt(Io),i=be(()=>e.route||r.value),s=dt(Dc,0),o=be(()=>{let d=Ee(s);const{matched:u}=i.value;let a;for(;(a=u[d])&&!a.components;)d++;return d}),c=be(()=>i.value.matched[o.value]);yn(Dc,be(()=>o.value+1)),yn(FA,c),yn(Io,i);const f=le();return ke(()=>[f.value,c.value,e.name],([d,u,a],[l,h,g])=>{u&&(u.instances[a]=d,h&&h!==u&&d&&d===l&&(u.leaveGuards.size||(u.leaveGuards=h.leaveGuards),u.updateGuards.size||(u.updateGuards=h.updateGuards))),d&&u&&(!h||!nr(u,h)||!l)&&(u.enterCallbacks[a]||[]).forEach(E=>E(d))},{flush:"post"}),()=>{const d=i.value,u=e.name,a=c.value,l=a&&a.components[u];if(!l)return jc(n.default,{Component:l,route:d});const h=a.props[u],g=h?h===!0?d.params:typeof h=="function"?h(d):h:null,y=ea(l,De({},g,t,{onVnodeUnmounted:m=>{m.component.isUnmounted&&(a.instances[u]=null)},ref:f}));return jc(n.default,{Component:y,route:d})||y}}});function jc(e,t){if(!e)return null;const n=e(t);return n.length===1?n[0]:n}const UA=jA;function VA(e){const t=LA(e.routes,e),n=e.parseQuery||PA,r=e.stringifyQuery||Bc,i=e.history,s=Er(),o=Er(),c=Er(),f=Ci(sn);let d=sn;Kn&&e.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const u=$s.bind(null,F=>""+F),a=$s.bind(null,Zw),l=$s.bind(null,zr);function h(F,W){let V,z;return bh(F)?(V=t.getRecordMatcher(F),z=W):z=F,t.addRoute(z,V)}function g(F){const W=t.getRecordMatcher(F);W&&t.removeRoute(W)}function E(){return t.getRoutes().map(F=>F.record)}function y(F){return!!t.getRecordMatcher(F)}function m(F,W){if(W=De({},W||f.value),typeof F=="string"){const I=qs(n,F,W.path),k=t.resolve({path:I.path},W),K=i.createHref(I.fullPath);return De(I,k,{params:l(k.params),hash:zr(I.hash),redirectedFrom:void 0,href:K})}let V;if(F.path!=null)V=De({},F,{path:qs(n,F.path,W.path).path});else{const I=De({},F.params);for(const k in I)I[k]==null&&delete I[k];V=De({},F,{params:a(I)}),W.params=a(W.params)}const z=t.resolve(V,W),ae=F.hash||"";z.params=u(l(z.params));const re=tA(r,De({},F,{hash:Xw(ae),path:z.path})),L=i.createHref(re);return De({fullPath:re,hash:ae,query:r===Bc?IA(F.query):F.query||{}},z,{redirectedFrom:void 0,href:L})}function _(F){return typeof F=="string"?qs(n,F,f.value.path):De({},F)}function x(F,W){if(d!==F)return rr(8,{from:W,to:F})}function p(F){return w(F)}function v(F){return p(De(_(F),{replace:!0}))}function b(F){const W=F.matched[F.matched.length-1];if(W&&W.redirect){const{redirect:V}=W;let z=typeof V=="function"?V(F):V;return typeof z=="string"&&(z=z.includes("?")||z.includes("#")?z=_(z):{path:z},z.params={}),De({query:F.query,hash:F.hash,params:z.path!=null?{}:F.params},z)}}function w(F,W){const V=d=m(F),z=f.value,ae=F.state,re=F.force,L=F.replace===!0,I=b(V);if(I)return w(De(_(I),{state:typeof I=="object"?De({},ae,I.state):ae,force:re,replace:L}),W||V);const k=V;k.redirectedFrom=W;let K;return!re&&nA(r,z,V)&&(K=rr(16,{to:k,from:z}),de(z,z,!0,!1)),(K?Promise.resolve(K):P(k,z)).catch(H=>Gt(H)?Gt(H,2)?H:ne(H):Q(H,k,z)).then(H=>{if(H){if(Gt(H,2))return w(De({replace:L},_(H.to),{state:typeof H.to=="object"?De({},ae,H.to.state):ae,force:re}),W||k)}else H=C(k,z,!0,L,ae);return R(k,z,H),H})}function A(F,W){const V=x(F,W);return V?Promise.reject(V):Promise.resolve()}function T(F){const W=oe.values().next().value;return W&&typeof W.runWithContext=="function"?W.runWithContext(F):F()}function P(F,W){let V;const[z,ae,re]=HA(F,W);V=Xs(z.reverse(),"beforeRouteLeave",F,W);for(const I of z)I.leaveGuards.forEach(k=>{V.push(fn(k,F,W))});const L=A.bind(null,F,W);return V.push(L),ve(V).then(()=>{V=[];for(const I of s.list())V.push(fn(I,F,W));return V.push(L),ve(V)}).then(()=>{V=Xs(ae,"beforeRouteUpdate",F,W);for(const I of ae)I.updateGuards.forEach(k=>{V.push(fn(k,F,W))});return V.push(L),ve(V)}).then(()=>{V=[];for(const I of re)if(I.beforeEnter)if(Dt(I.beforeEnter))for(const k of I.beforeEnter)V.push(fn(k,F,W));else V.push(fn(I.beforeEnter,F,W));return V.push(L),ve(V)}).then(()=>(F.matched.forEach(I=>I.enterCallbacks={}),V=Xs(re,"beforeRouteEnter",F,W,T),V.push(L),ve(V))).then(()=>{V=[];for(const I of o.list())V.push(fn(I,F,W));return V.push(L),ve(V)}).catch(I=>Gt(I,8)?I:Promise.reject(I))}function R(F,W,V){c.list().forEach(z=>T(()=>z(F,W,V)))}function C(F,W,V,z,ae){const re=x(F,W);if(re)return re;const L=W===sn,I=Kn?history.state:{};V&&(z||L?i.replace(F.fullPath,De({scroll:L&&I&&I.scroll},ae)):i.push(F.fullPath,ae)),f.value=F,de(F,W,V,L),ne()}let O;function D(){O||(O=i.listen((F,W,V)=>{if(!je.listening)return;const z=m(F),ae=b(z);if(ae){w(De(ae,{replace:!0}),z).catch(Br);return}d=z;const re=f.value;Kn&&cA(Cc(re.fullPath,V.delta),Es()),P(z,re).catch(L=>Gt(L,12)?L:Gt(L,2)?(w(L.to,z).then(I=>{Gt(I,20)&&!V.delta&&V.type===$r.pop&&i.go(-1,!1)}).catch(Br),Promise.reject()):(V.delta&&i.go(-V.delta,!1),Q(L,z,re))).then(L=>{L=L||C(z,re,!1),L&&(V.delta&&!Gt(L,8)?i.go(-V.delta,!1):V.type===$r.pop&&Gt(L,20)&&i.go(-1,!1)),R(z,re,L)}).catch(Br)}))}let N=Er(),M=Er(),U;function Q(F,W,V){ne(F);const z=M.list();return z.length?z.forEach(ae=>ae(F,W,V)):console.error(F),Promise.reject(F)}function ie(){return U&&f.value!==sn?Promise.resolve():new Promise((F,W)=>{N.add([F,W])})}function ne(F){return U||(U=!F,D(),N.list().forEach(([W,V])=>F?V(F):W()),N.reset()),F}function de(F,W,V,z){const{scrollBehavior:ae}=e;if(!Kn||!ae)return Promise.resolve();const re=!V&&fA(Cc(F.fullPath,0))||(z||!V)&&history.state&&history.state.scroll||null;return vt().then(()=>ae(F,W,re)).then(L=>L&&uA(L)).catch(L=>Q(L,F,W))}const he=F=>i.go(F);let se;const oe=new Set,je={currentRoute:f,listening:!0,addRoute:h,removeRoute:g,hasRoute:y,getRoutes:E,resolve:m,options:e,push:p,replace:v,go:he,back:()=>he(-1),forward:()=>he(1),beforeEach:s.add,beforeResolve:o.add,afterEach:c.add,onError:M.add,isReady:ie,install(F){const W=this;F.component("RouterLink",MA),F.component("RouterView",UA),F.config.globalProperties.$router=W,Object.defineProperty(F.config.globalProperties,"$route",{enumerable:!0,get:()=>Ee(f)}),Kn&&!se&&f.value===sn&&(se=!0,p(i.location).catch(ae=>{}));const V={};for(const ae in sn)Object.defineProperty(V,ae,{get:()=>f.value[ae],enumerable:!0});F.provide(xs,W),F.provide(Ah,af(V)),F.provide(Io,f);const z=F.unmount;oe.add(F),F.unmount=function(){oe.delete(F),oe.size<1&&(d=sn,O&&O(),O=null,f.value=sn,se=!1,U=!1),z()}}};function ve(F){return F.reduce((W,V)=>W.then(()=>T(V)),Promise.resolve())}return je}function HA(e,t){const n=[],r=[],i=[],s=Math.max(t.matched.length,e.matched.length);for(let o=0;o<s;o++){const c=t.matched[o];c&&(e.matched.find(d=>nr(d,c))?r.push(c):n.push(c));const f=e.matched[o];f&&(t.matched.find(d=>nr(d,f))||i.push(f))}return[n,r,i]}function KA(){return dt(xs)}function WA(e){const{extendRoutes:t}=e;return VA(Object.assign(e,{routes:typeof t=="function"?t(Sc):Sc}))}const GA=Ce({__name:"EdgerSafeArea",setup(e){const t=be(()=>{var n,r,i,s;return{padding:`${((n=Sr.value)==null?void 0:n.top)??0}px ${((r=Sr.value)==null?void 0:r.right)??0}px ${((i=Sr.value)==null?void 0:i.bottom)??0}px ${((s=Sr.value)==null?void 0:s.left)??0}px`}});return(n,r)=>(Ke(),xn("div",{style:Yi(Ee(t))},[qp(n.$slots,"default")],4))}}),zA=Le("span",null,"",-1),$A=Le("div",{"i-ri:home-gear-line":""},null,-1),qA=Le("span",null,"",-1),XA=Le("div",{"i-icon-park-outline:camera-one":""},null,-1),YA=Le("span",null,"",-1),JA=Le("div",{"i-mdi:face-recognition":""},null,-1),ZA=Le("span",null,"",-1),QA=Le("div",{"i-carbon:debug":""},null,-1),eC=Ce({__name:"TabbarWrap",props:{showDebugPage:{type:Boolean}},setup(e){const t=KA(),n=["/action","/camera","/recognition","/test/debug"];return t.afterEach((r,i)=>{if(i.name===void 0)r.meta.transition="scale";else{const s=n.indexOf(r.name),o=n.indexOf(i.name);r.meta.transition=s<o?"slide-right":"slide-left"}}),(r,i)=>{const s=qg,o=Wg;return Ke(),at(o,{route:"","safe-area-inset-bottom":"",placeholder:""},{default:me(()=>[B(s,{name:"actions",replace:"",to:"/action"},{icon:me(()=>[$A]),default:me(()=>[zA]),_:1}),B(s,{name:"cameras",replace:"",to:"/camera"},{icon:me(()=>[XA]),default:me(()=>[qA]),_:1}),B(s,{name:"recognition",replace:"",to:"/recognition"},{icon:me(()=>[JA]),default:me(()=>[YA]),_:1}),e.showDebugPage?(Ke(),at(s,{key:0,name:"debug",replace:"",to:"/test/debug"},{icon:me(()=>[QA]),default:me(()=>[ZA]),_:1})):lo("",!0)]),_:1})}}}),tC=Ce({__name:"App",setup(e){return Ca.init({path:"/socket/device-push",query:ms.value,transports:["websocket"]}),(t,n)=>{const r=Op("router-view"),i=eC,s=Ig,o=dg,c=GA;return Ke(),at(c,null,{default:me(()=>[B(o,{theme:"light"},{default:me(()=>[B(r,null,{default:me(({Component:f,route:d})=>[B(Bn,{name:d.meta.transition},{default:me(()=>[(Ke(),at(Up,null,[(Ke(),at(Pp(f)))],1024))]),_:2},1032,["name"])]),_:1}),B(i),B(s,{"safe-area-inset-bottom":""})]),_:1})]),_:1})}}}),nC=s0(),Ch=WA({history:_A("./")});Ch.addRoute({path:"/",redirect:"/camera"});const Ra=zf(tC);Ra.use(nC);Ra.use(Ch);Ab().then(()=>{Ra.mount("#app")});
