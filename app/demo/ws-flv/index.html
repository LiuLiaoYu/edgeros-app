<html>

<head>
  <!-- 需要在非安全模式下运行 -->
</head>

<body>
  <script src="/mpegts.js"></script>
  <video id="videoElement"></video>

  <button onclick="fun()">start</button>
  <script>
    function fun() {
      console.log(mpegts.getFeatureList())
      if (mpegts.getFeatureList().mseLivePlayback) {
        var videoElement = document.getElementById('videoElement')
        var player = mpegts.createPlayer({
          type: 'flv',  // could also be mpegts, m2ts, flv
          isLive: true,
          url: `wss://${document.domain}:${window.location.port}/stream`
        })
        player.attachMediaElement(videoElement)
        player.load()
        player.play()
      }
    }
  </script>
</body>

</html>