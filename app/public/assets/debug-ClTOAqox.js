import{c as N,d as x,k as T,S as _,ae as G,a,X as $,af as K,m as B,n as b,ag as W,M as R,W as j,L as J,T as X,ah as Y,i as F,K as I,ai as Q,J as Z,r as ee,a2 as te,w as E,C as q,f as ne,B as oe,P as z,aj as ae,a3 as se,N as re,a4 as ie,O as L,ak as le,al as ce,b as ue,e as y,z as C,u as h,v as de,o as fe,am as ge,an as me,ao as ve,ap as ke,ac as pe,aq as M}from"./index-CnDVkyK8.js";import{P as be,u as ye}from"./index-C0HipcY9.js";import"./use-scope-id-Dssc9r5O.js";let S=0;function Ce(e){e?(S||document.body.classList.add("van-toast--unclickable"),S++):S&&(S--,S||document.body.classList.remove("van-toast--unclickable"))}const[he,p]=N("toast"),Se=["show","overlay","teleport","transition","overlayClass","overlayStyle","closeOnClickOverlay","zIndex"],we={icon:String,show:Boolean,type:B("text"),overlay:Boolean,message:b,iconSize:b,duration:W(2e3),position:B("middle"),teleport:[String,Object],wordBreak:String,className:R,iconPrefix:String,transition:B("van-fade"),loadingType:String,forbidClick:Boolean,overlayClass:R,overlayStyle:Object,closeOnClick:Boolean,closeOnClickOverlay:Boolean,zIndex:b};var D=x({name:he,props:we,emits:["update:show"],setup(e,{emit:t,slots:o}){let l,n=!1;const i=()=>{const s=e.show&&e.forbidClick;n!==s&&(n=s,Ce(n))},c=s=>t("update:show",s),f=()=>{e.closeOnClick&&c(!1)},u=()=>clearTimeout(l),v=()=>{const{icon:s,type:r,iconSize:m,iconPrefix:d,loadingType:k}=e;if(s||r==="success"||r==="fail")return a(j,{name:s||r,size:m,class:p("icon"),classPrefix:d},null);if(r==="loading")return a(J,{class:p("loading"),size:m,type:k},null)},g=()=>{const{type:s,message:r}=e;if(o.message)return a("div",{class:p("text")},[o.message()]);if(X(r)&&r!=="")return s==="html"?a("div",{key:0,class:p("text"),innerHTML:String(r)},null):a("div",{class:p("text")},[r])};return T(()=>[e.show,e.forbidClick],i),T(()=>[e.show,e.type,e.message,e.duration],()=>{u(),e.show&&e.duration>0&&(l=setTimeout(()=>{c(!1)},e.duration))}),_(i),G(i),()=>a(be,$({class:[p([e.position,e.wordBreak==="normal"?"break-normal":e.wordBreak,{[e.type]:!e.icon}]),e.className],lockScroll:!1,onClick:f,onClosed:u,"onUpdate:show":c},K(e,Se)),{default:()=>[v(),g()]})}});function Pe(){const e=F({show:!1}),t=n=>{e.show=n},o=n=>{I(e,n,{transitionAppear:!0}),t(!0)},l=()=>t(!1);return ye({open:o,close:l,toggle:t}),{open:o,close:l,state:e,toggle:t}}function Oe(e){const t=Y(e),o=document.createElement("div");return document.body.appendChild(o),{instance:t.mount(o),unmount(){t.unmount(),document.body.removeChild(o)}}}const xe={icon:"",type:"text",message:"",className:"",overlay:!1,onClose:void 0,onOpened:void 0,duration:2e3,teleport:"body",iconSize:void 0,iconPrefix:void 0,position:"middle",transition:"van-fade",forbidClick:!1,loadingType:void 0,overlayClass:"",overlayStyle:void 0,closeOnClick:!1,closeOnClickOverlay:!1};let P=[],Ie=!1,A=I({},xe);const Be=new Map;function Te(e){return Z(e)?e:{message:e}}function ze(){const{instance:e,unmount:t}=Oe({setup(){const o=ee(""),{open:l,state:n,close:i,toggle:c}=Pe(),f=()=>{},u=()=>a(D,$(n,{onClosed:f,"onUpdate:show":c}),null);return T(o,v=>{n.message=v}),te().render=u,{open:l,close:i,message:o}}});return e}function Ne(){if(!P.length||Ie){const e=ze();P.push(e)}return P[P.length-1]}function $e(e={}){if(!Q)return{};const t=Ne(),o=Te(e);return t.open(I({},A,Be.get(o.type||A.type),o)),t}E(D);const[U,Ee]=N("grid"),Re={square:Boolean,center:q,border:q,gutter:b,reverse:Boolean,iconSize:b,direction:String,clickable:Boolean,columnNum:ne(4)},V=Symbol(U);var qe=x({name:U,props:Re,setup(e,{slots:t}){const{linkChildren:o}=oe(V);return o({props:e}),()=>{var l;return a("div",{style:{paddingLeft:z(e.gutter)},class:[Ee(),{[ae]:e.border&&!e.gutter}]},[(l=t.default)==null?void 0:l.call(t)])}}});const Le=E(qe),[Me,O]=N("grid-item"),Ae=I({},se,{dot:Boolean,text:String,icon:String,badge:b,iconColor:String,iconPrefix:String,badgeProps:Object});var je=x({name:Me,props:Ae,setup(e,{slots:t}){const{parent:o,index:l}=re(V),n=ie();if(!o)return;const i=L(()=>{const{square:g,gutter:s,columnNum:r}=o.props,m=`${100/+r}%`,d={flexBasis:m};if(g)d.paddingTop=m;else if(s){const k=z(s);d.paddingRight=k,l.value>=+r&&(d.marginTop=k)}return d}),c=L(()=>{const{square:g,gutter:s}=o.props;if(g&&s){const r=z(s);return{right:r,bottom:r,height:"auto"}}}),f=()=>{if(t.icon)return a(ce,$({dot:e.dot,content:e.badge},e.badgeProps),{default:t.icon});if(e.icon)return a(j,{dot:e.dot,name:e.icon,size:o.props.iconSize,badge:e.badge,class:O("icon"),color:e.iconColor,badgeProps:e.badgeProps,classPrefix:e.iconPrefix},null)},u=()=>{if(t.text)return t.text();if(e.text)return a("span",{class:O("text")},[e.text])},v=()=>t.default?t.default():[f(),u()];return()=>{const{center:g,border:s,square:r,gutter:m,reverse:d,direction:k,clickable:w}=o.props,H=[O("content",[k,{center:g,square:r,reverse:d,clickable:w,surround:s&&m}]),{[le]:s}];return a("div",{class:[O({square:r})],style:i.value},[a("div",{role:w?"button":void 0,class:H,style:c.value,tabindex:w?0:void 0,onClick:n},[v()])])}}});const De=E(je),_e=x({__name:"debug",setup(e){async function t(n){return(await M.orientation.lock(n)).success}async function o(){return(await M.orientation.unlock()).success}function l(){$e("你好")}return(n,i)=>{const c=De,f=Le;return fe(),ue("div",null,[y("div",null,"orientation: "+C("edgerOrientation"in n?n.edgerOrientation:h(ge)),1),y("div",null,"safeAreaInsets: "+C("edgerSafeAreaInsets"in n?n.edgerSafeAreaInsets:h(me)),1),y("div",null,"env: "+C("edgerEnvInfo"in n?n.edgerEnvInfo:h(ve)),1),y("div",null,"theme: "+C("edgerTheme"in n?n.edgerTheme:h(ke)),1),y("div",null,"token: "+C("authTokenHeader"in n?n.authTokenHeader:h(pe)),1),a(f,{square:""},{default:de(()=>[a(c,{text:"其他页面",to:"/other-page"}),a(c,{text:"WebRTC请求",to:"/test/webrtc"}),a(c,{text:"横屏锁定",onClick:i[0]||(i[0]=u=>t("landscape"))}),a(c,{text:"竖屏锁定",onClick:i[1]||(i[1]=u=>t("portrait"))}),a(c,{text:"解除屏幕锁定",onClick:i[2]||(i[2]=u=>o())}),a(c,{text:"显示Toast",onClick:i[3]||(i[3]=u=>l("hello"))})]),_:1})])}}});export{_e as default};
