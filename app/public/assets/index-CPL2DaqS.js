var Th=Object.defineProperty;var Oh=(e,t,n)=>t in e?Th(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var _t=(e,t,n)=>(Oh(e,typeof t!="symbol"?t+"":t,n),n);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const s of o.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}})();/**
* @vue/shared v3.4.21
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function Bs(e,t){const n=new Set(e.split(","));return t?r=>n.has(r.toLowerCase()):r=>n.has(r)}const He={},zn=[],Ct=()=>{},Ph=()=>!1,$i=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&(e.charCodeAt(2)>122||e.charCodeAt(2)<97),Ds=e=>e.startsWith("onUpdate:"),Ze=Object.assign,Ms=(e,t)=>{const n=e.indexOf(t);n>-1&&e.splice(n,1)},Ih=Object.prototype.hasOwnProperty,Pe=(e,t)=>Ih.call(e,t),pe=Array.isArray,Gn=e=>qr(e)==="[object Map]",Hc=e=>qr(e)==="[object Set]",Fh=e=>qr(e)==="[object RegExp]",be=e=>typeof e=="function",ze=e=>typeof e=="string",ir=e=>typeof e=="symbol",Ve=e=>e!==null&&typeof e=="object",Kc=e=>(Ve(e)||be(e))&&be(e.then)&&be(e.catch),Wc=Object.prototype.toString,qr=e=>Wc.call(e),Bh=e=>qr(e).slice(8,-1),zc=e=>qr(e)==="[object Object]",ks=e=>ze(e)&&e!=="NaN"&&e[0]!=="-"&&""+parseInt(e,10)===e,wr=Bs(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),qi=e=>{const t=Object.create(null);return n=>t[n]||(t[n]=e(n))},Dh=/-(\w)/g,Ht=qi(e=>e.replace(Dh,(t,n)=>n?n.toUpperCase():"")),Mh=/\B([A-Z])/g,or=qi(e=>e.replace(Mh,"-$1").toLowerCase()),Xi=qi(e=>e.charAt(0).toUpperCase()+e.slice(1)),Co=qi(e=>e?`on${Xi(e)}`:""),En=(e,t)=>!Object.is(e,t),$n=(e,t)=>{for(let n=0;n<e.length;n++)e[n](t)},Oi=(e,t,n)=>{Object.defineProperty(e,t,{configurable:!0,enumerable:!1,value:n})},Zo=e=>{const t=parseFloat(e);return isNaN(t)?e:t},kh=e=>{const t=ze(e)?Number(e):NaN;return isNaN(t)?e:t};let Pa;const Gc=()=>Pa||(Pa=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function Yi(e){if(pe(e)){const t={};for(let n=0;n<e.length;n++){const r=e[n],i=ze(r)?Vh(r):Yi(r);if(i)for(const o in i)t[o]=i[o]}return t}else if(ze(e)||Ve(e))return e}const Nh=/;(?![^(]*\))/g,jh=/:([^]+)/,Uh=/\/\*[^]*?\*\//g;function Vh(e){const t={};return e.replace(Uh,"").split(Nh).forEach(n=>{if(n){const r=n.split(jh);r.length>1&&(t[r[0].trim()]=r[1].trim())}}),t}function Ji(e){let t="";if(ze(e))t=e;else if(pe(e))for(let n=0;n<e.length;n++){const r=Ji(e[n]);r&&(t+=r+" ")}else if(Ve(e))for(const n in e)e[n]&&(t+=n+" ");return t.trim()}const Hh="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",Kh=Bs(Hh);function $c(e){return!!e||e===""}const tt=e=>ze(e)?e:e==null?"":pe(e)||Ve(e)&&(e.toString===Wc||!be(e.toString))?JSON.stringify(e,qc,2):String(e),qc=(e,t)=>t&&t.__v_isRef?qc(e,t.value):Gn(t)?{[`Map(${t.size})`]:[...t.entries()].reduce((n,[r,i],o)=>(n[Lo(r,o)+" =>"]=i,n),{})}:Hc(t)?{[`Set(${t.size})`]:[...t.values()].map(n=>Lo(n))}:ir(t)?Lo(t):Ve(t)&&!pe(t)&&!zc(t)?String(t):t,Lo=(e,t="")=>{var n;return ir(e)?`Symbol(${(n=e.description)!=null?n:t})`:e};/**
* @vue/reactivity v3.4.21
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let vt;class Xc{constructor(t=!1){this.detached=t,this._active=!0,this.effects=[],this.cleanups=[],this.parent=vt,!t&&vt&&(this.index=(vt.scopes||(vt.scopes=[])).push(this)-1)}get active(){return this._active}run(t){if(this._active){const n=vt;try{return vt=this,t()}finally{vt=n}}}on(){vt=this}off(){vt=this.parent}stop(t){if(this._active){let n,r;for(n=0,r=this.effects.length;n<r;n++)this.effects[n].stop();for(n=0,r=this.cleanups.length;n<r;n++)this.cleanups[n]();if(this.scopes)for(n=0,r=this.scopes.length;n<r;n++)this.scopes[n].stop(!0);if(!this.detached&&this.parent&&!t){const i=this.parent.scopes.pop();i&&i!==this&&(this.parent.scopes[this.index]=i,i.index=this.index)}this.parent=void 0,this._active=!1}}}function Wh(e){return new Xc(e)}function zh(e,t=vt){t&&t.active&&t.effects.push(e)}function Yc(){return vt}function Gh(e){vt&&vt.cleanups.push(e)}let Tn;class Ns{constructor(t,n,r,i){this.fn=t,this.trigger=n,this.scheduler=r,this.active=!0,this.deps=[],this._dirtyLevel=4,this._trackId=0,this._runnings=0,this._shouldSchedule=!1,this._depsLength=0,zh(this,i)}get dirty(){if(this._dirtyLevel===2||this._dirtyLevel===3){this._dirtyLevel=1,In();for(let t=0;t<this._depsLength;t++){const n=this.deps[t];if(n.computed&&($h(n.computed),this._dirtyLevel>=4))break}this._dirtyLevel===1&&(this._dirtyLevel=0),Fn()}return this._dirtyLevel>=4}set dirty(t){this._dirtyLevel=t?4:0}run(){if(this._dirtyLevel=0,!this.active)return this.fn();let t=gn,n=Tn;try{return gn=!0,Tn=this,this._runnings++,Ia(this),this.fn()}finally{Fa(this),this._runnings--,Tn=n,gn=t}}stop(){var t;this.active&&(Ia(this),Fa(this),(t=this.onStop)==null||t.call(this),this.active=!1)}}function $h(e){return e.value}function Ia(e){e._trackId++,e._depsLength=0}function Fa(e){if(e.deps.length>e._depsLength){for(let t=e._depsLength;t<e.deps.length;t++)Jc(e.deps[t],e);e.deps.length=e._depsLength}}function Jc(e,t){const n=e.get(t);n!==void 0&&t._trackId!==n&&(e.delete(t),e.size===0&&e.cleanup())}let gn=!0,Qo=0;const Zc=[];function In(){Zc.push(gn),gn=!1}function Fn(){const e=Zc.pop();gn=e===void 0?!0:e}function js(){Qo++}function Us(){for(Qo--;!Qo&&es.length;)es.shift()()}function Qc(e,t,n){if(t.get(e)!==e._trackId){t.set(e,e._trackId);const r=e.deps[e._depsLength];r!==t?(r&&Jc(r,e),e.deps[e._depsLength++]=t):e._depsLength++}}const es=[];function ef(e,t,n){js();for(const r of e.keys()){let i;r._dirtyLevel<t&&(i??(i=e.get(r)===r._trackId))&&(r._shouldSchedule||(r._shouldSchedule=r._dirtyLevel===0),r._dirtyLevel=t),r._shouldSchedule&&(i??(i=e.get(r)===r._trackId))&&(r.trigger(),(!r._runnings||r.allowRecurse)&&r._dirtyLevel!==2&&(r._shouldSchedule=!1,r.scheduler&&es.push(r.scheduler)))}Us()}const tf=(e,t)=>{const n=new Map;return n.cleanup=e,n.computed=t,n},Pi=new WeakMap,On=Symbol(""),ts=Symbol("");function pt(e,t,n){if(gn&&Tn){let r=Pi.get(e);r||Pi.set(e,r=new Map);let i=r.get(n);i||r.set(n,i=tf(()=>r.delete(n))),Qc(Tn,i)}}function Xt(e,t,n,r,i,o){const s=Pi.get(e);if(!s)return;let c=[];if(t==="clear")c=[...s.values()];else if(n==="length"&&pe(e)){const f=Number(r);s.forEach((d,u)=>{(u==="length"||!ir(u)&&u>=f)&&c.push(d)})}else switch(n!==void 0&&c.push(s.get(n)),t){case"add":pe(e)?ks(n)&&c.push(s.get("length")):(c.push(s.get(On)),Gn(e)&&c.push(s.get(ts)));break;case"delete":pe(e)||(c.push(s.get(On)),Gn(e)&&c.push(s.get(ts)));break;case"set":Gn(e)&&c.push(s.get(On));break}js();for(const f of c)f&&ef(f,4);Us()}function qh(e,t){var n;return(n=Pi.get(e))==null?void 0:n.get(t)}const Xh=Bs("__proto__,__v_isRef,__isVue"),nf=new Set(Object.getOwnPropertyNames(Symbol).filter(e=>e!=="arguments"&&e!=="caller").map(e=>Symbol[e]).filter(ir)),Ba=Yh();function Yh(){const e={};return["includes","indexOf","lastIndexOf"].forEach(t=>{e[t]=function(...n){const r=Ie(this);for(let o=0,s=this.length;o<s;o++)pt(r,"get",o+"");const i=r[t](...n);return i===-1||i===!1?r[t](...n.map(Ie)):i}}),["push","pop","shift","unshift","splice"].forEach(t=>{e[t]=function(...n){In(),js();const r=Ie(this)[t].apply(this,n);return Us(),Fn(),r}}),e}function Jh(e){const t=Ie(this);return pt(t,"has",e),t.hasOwnProperty(e)}class rf{constructor(t=!1,n=!1){this._isReadonly=t,this._isShallow=n}get(t,n,r){const i=this._isReadonly,o=this._isShallow;if(n==="__v_isReactive")return!i;if(n==="__v_isReadonly")return i;if(n==="__v_isShallow")return o;if(n==="__v_raw")return r===(i?o?cp:lf:o?af:sf).get(t)||Object.getPrototypeOf(t)===Object.getPrototypeOf(r)?t:void 0;const s=pe(t);if(!i){if(s&&Pe(Ba,n))return Reflect.get(Ba,n,r);if(n==="hasOwnProperty")return Jh}const c=Reflect.get(t,n,r);return(ir(n)?nf.has(n):Xh(n))||(i||pt(t,"get",n),o)?c:ke(c)?s&&ks(n)?c:c.value:Ve(c)?i?Zn(c):Kt(c):c}}class of extends rf{constructor(t=!1){super(!1,t)}set(t,n,r,i){let o=t[n];if(!this._isShallow){const f=Qn(o);if(!Ii(r)&&!Qn(r)&&(o=Ie(o),r=Ie(r)),!pe(t)&&ke(o)&&!ke(r))return f?!1:(o.value=r,!0)}const s=pe(t)&&ks(n)?Number(n)<t.length:Pe(t,n),c=Reflect.set(t,n,r,i);return t===Ie(i)&&(s?En(r,o)&&Xt(t,"set",n,r):Xt(t,"add",n,r)),c}deleteProperty(t,n){const r=Pe(t,n);t[n];const i=Reflect.deleteProperty(t,n);return i&&r&&Xt(t,"delete",n,void 0),i}has(t,n){const r=Reflect.has(t,n);return(!ir(n)||!nf.has(n))&&pt(t,"has",n),r}ownKeys(t){return pt(t,"iterate",pe(t)?"length":On),Reflect.ownKeys(t)}}class Zh extends rf{constructor(t=!1){super(!0,t)}set(t,n){return!0}deleteProperty(t,n){return!0}}const Qh=new of,ep=new Zh,tp=new of(!0),Vs=e=>e,Zi=e=>Reflect.getPrototypeOf(e);function oi(e,t,n=!1,r=!1){e=e.__v_raw;const i=Ie(e),o=Ie(t);n||(En(t,o)&&pt(i,"get",t),pt(i,"get",o));const{has:s}=Zi(i),c=r?Vs:n?zs:Mr;if(s.call(i,t))return c(e.get(t));if(s.call(i,o))return c(e.get(o));e!==i&&e.get(t)}function si(e,t=!1){const n=this.__v_raw,r=Ie(n),i=Ie(e);return t||(En(e,i)&&pt(r,"has",e),pt(r,"has",i)),e===i?n.has(e):n.has(e)||n.has(i)}function ai(e,t=!1){return e=e.__v_raw,!t&&pt(Ie(e),"iterate",On),Reflect.get(e,"size",e)}function Da(e){e=Ie(e);const t=Ie(this);return Zi(t).has.call(t,e)||(t.add(e),Xt(t,"add",e,e)),this}function Ma(e,t){t=Ie(t);const n=Ie(this),{has:r,get:i}=Zi(n);let o=r.call(n,e);o||(e=Ie(e),o=r.call(n,e));const s=i.call(n,e);return n.set(e,t),o?En(t,s)&&Xt(n,"set",e,t):Xt(n,"add",e,t),this}function ka(e){const t=Ie(this),{has:n,get:r}=Zi(t);let i=n.call(t,e);i||(e=Ie(e),i=n.call(t,e)),r&&r.call(t,e);const o=t.delete(e);return i&&Xt(t,"delete",e,void 0),o}function Na(){const e=Ie(this),t=e.size!==0,n=e.clear();return t&&Xt(e,"clear",void 0,void 0),n}function li(e,t){return function(r,i){const o=this,s=o.__v_raw,c=Ie(s),f=t?Vs:e?zs:Mr;return!e&&pt(c,"iterate",On),s.forEach((d,u)=>r.call(i,f(d),f(u),o))}}function ui(e,t,n){return function(...r){const i=this.__v_raw,o=Ie(i),s=Gn(o),c=e==="entries"||e===Symbol.iterator&&s,f=e==="keys"&&s,d=i[e](...r),u=n?Vs:t?zs:Mr;return!t&&pt(o,"iterate",f?ts:On),{next(){const{value:a,done:l}=d.next();return l?{value:a,done:l}:{value:c?[u(a[0]),u(a[1])]:u(a),done:l}},[Symbol.iterator](){return this}}}}function en(e){return function(...t){return e==="delete"?!1:e==="clear"?void 0:this}}function np(){const e={get(o){return oi(this,o)},get size(){return ai(this)},has:si,add:Da,set:Ma,delete:ka,clear:Na,forEach:li(!1,!1)},t={get(o){return oi(this,o,!1,!0)},get size(){return ai(this)},has:si,add:Da,set:Ma,delete:ka,clear:Na,forEach:li(!1,!0)},n={get(o){return oi(this,o,!0)},get size(){return ai(this,!0)},has(o){return si.call(this,o,!0)},add:en("add"),set:en("set"),delete:en("delete"),clear:en("clear"),forEach:li(!0,!1)},r={get(o){return oi(this,o,!0,!0)},get size(){return ai(this,!0)},has(o){return si.call(this,o,!0)},add:en("add"),set:en("set"),delete:en("delete"),clear:en("clear"),forEach:li(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(o=>{e[o]=ui(o,!1,!1),n[o]=ui(o,!0,!1),t[o]=ui(o,!1,!0),r[o]=ui(o,!0,!0)}),[e,n,t,r]}const[rp,ip,op,sp]=np();function Hs(e,t){const n=t?e?sp:op:e?ip:rp;return(r,i,o)=>i==="__v_isReactive"?!e:i==="__v_isReadonly"?e:i==="__v_raw"?r:Reflect.get(Pe(n,i)&&i in r?n:r,i,o)}const ap={get:Hs(!1,!1)},lp={get:Hs(!1,!0)},up={get:Hs(!0,!1)},sf=new WeakMap,af=new WeakMap,lf=new WeakMap,cp=new WeakMap;function fp(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function dp(e){return e.__v_skip||!Object.isExtensible(e)?0:fp(Bh(e))}function Kt(e){return Qn(e)?e:Ks(e,!1,Qh,ap,sf)}function uf(e){return Ks(e,!1,tp,lp,af)}function Zn(e){return Ks(e,!0,ep,up,lf)}function Ks(e,t,n,r,i){if(!Ve(e)||e.__v_raw&&!(t&&e.__v_isReactive))return e;const o=i.get(e);if(o)return o;const s=dp(e);if(s===0)return e;const c=new Proxy(e,s===2?r:n);return i.set(e,c),c}function qn(e){return Qn(e)?qn(e.__v_raw):!!(e&&e.__v_isReactive)}function Qn(e){return!!(e&&e.__v_isReadonly)}function Ii(e){return!!(e&&e.__v_isShallow)}function cf(e){return qn(e)||Qn(e)}function Ie(e){const t=e&&e.__v_raw;return t?Ie(t):e}function Ws(e){return Object.isExtensible(e)&&Oi(e,"__v_skip",!0),e}const Mr=e=>Ve(e)?Kt(e):e,zs=e=>Ve(e)?Zn(e):e;class ff{constructor(t,n,r,i){this.getter=t,this._setter=n,this.dep=void 0,this.__v_isRef=!0,this.__v_isReadonly=!1,this.effect=new Ns(()=>t(this._value),()=>Ar(this,this.effect._dirtyLevel===2?2:3)),this.effect.computed=this,this.effect.active=this._cacheable=!i,this.__v_isReadonly=r}get value(){const t=Ie(this);return(!t._cacheable||t.effect.dirty)&&En(t._value,t._value=t.effect.run())&&Ar(t,4),Gs(t),t.effect._dirtyLevel>=2&&Ar(t,2),t._value}set value(t){this._setter(t)}get _dirty(){return this.effect.dirty}set _dirty(t){this.effect.dirty=t}}function hp(e,t,n=!1){let r,i;const o=be(e);return o?(r=e,i=Ct):(r=e.get,i=e.set),new ff(r,i,o||!i,n)}function Gs(e){var t;gn&&Tn&&(e=Ie(e),Qc(Tn,(t=e.dep)!=null?t:e.dep=tf(()=>e.dep=void 0,e instanceof ff?e:void 0)))}function Ar(e,t=4,n){e=Ie(e);const r=e.dep;r&&ef(r,t)}function ke(e){return!!(e&&e.__v_isRef===!0)}function ie(e){return df(e,!1)}function Ci(e){return df(e,!0)}function df(e,t){return ke(e)?e:new pp(e,t)}class pp{constructor(t,n){this.__v_isShallow=n,this.dep=void 0,this.__v_isRef=!0,this._rawValue=n?t:Ie(t),this._value=n?t:Mr(t)}get value(){return Gs(this),this._value}set value(t){const n=this.__v_isShallow||Ii(t)||Qn(t);t=n?t:Ie(t),En(t,this._rawValue)&&(this._rawValue=t,this._value=n?t:Mr(t),Ar(this,4))}}function xe(e){return ke(e)?e.value:e}const mp={get:(e,t,n)=>xe(Reflect.get(e,t,n)),set:(e,t,n,r)=>{const i=e[t];return ke(i)&&!ke(n)?(i.value=n,!0):Reflect.set(e,t,n,r)}};function hf(e){return qn(e)?e:new Proxy(e,mp)}class _p{constructor(t){this.dep=void 0,this.__v_isRef=!0;const{get:n,set:r}=t(()=>Gs(this),()=>Ar(this));this._get=n,this._set=r}get value(){return this._get()}set value(t){this._set(t)}}function gp(e){return new _p(e)}class vp{constructor(t,n,r){this._object=t,this._key=n,this._defaultValue=r,this.__v_isRef=!0}get value(){const t=this._object[this._key];return t===void 0?this._defaultValue:t}set value(t){this._object[this._key]=t}get dep(){return qh(Ie(this._object),this._key)}}class yp{constructor(t){this._getter=t,this.__v_isRef=!0,this.__v_isReadonly=!0}get value(){return this._getter()}}function Ep(e,t,n){return ke(e)?e:be(e)?new yp(e):Ve(e)&&arguments.length>1?xp(e,t,n):ie(e)}function xp(e,t,n){const r=e[t];return ke(r)?r:new vp(e,t,n)}/**
* @vue/runtime-core v3.4.21
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function vn(e,t,n,r){try{return r?e(...r):e()}catch(i){Qi(i,t,n)}}function Lt(e,t,n,r){if(be(e)){const o=vn(e,t,n,r);return o&&Kc(o)&&o.catch(s=>{Qi(s,t,n)}),o}const i=[];for(let o=0;o<e.length;o++)i.push(Lt(e[o],t,n,r));return i}function Qi(e,t,n,r=!0){const i=t?t.vnode:null;if(t){let o=t.parent;const s=t.proxy,c=`https://vuejs.org/error-reference/#runtime-${n}`;for(;o;){const d=o.ec;if(d){for(let u=0;u<d.length;u++)if(d[u](e,s,c)===!1)return}o=o.parent}const f=t.appContext.config.errorHandler;if(f){vn(f,null,10,[e,s,c]);return}}bp(e,n,i,r)}function bp(e,t,n,r=!0){console.error(e)}let kr=!1,ns=!1;const ut=[];let jt=0;const Xn=[];let sn=null,Ln=0;const pf=Promise.resolve();let $s=null;function dt(e){const t=$s||pf;return e?t.then(this?e.bind(this):e):t}function Sp(e){let t=jt+1,n=ut.length;for(;t<n;){const r=t+n>>>1,i=ut[r],o=Nr(i);o<e||o===e&&i.pre?t=r+1:n=r}return t}function qs(e){(!ut.length||!ut.includes(e,kr&&e.allowRecurse?jt+1:jt))&&(e.id==null?ut.push(e):ut.splice(Sp(e.id),0,e),mf())}function mf(){!kr&&!ns&&(ns=!0,$s=pf.then(gf))}function wp(e){const t=ut.indexOf(e);t>jt&&ut.splice(t,1)}function Ap(e){pe(e)?Xn.push(...e):(!sn||!sn.includes(e,e.allowRecurse?Ln+1:Ln))&&Xn.push(e),mf()}function ja(e,t,n=kr?jt+1:0){for(;n<ut.length;n++){const r=ut[n];if(r&&r.pre){if(e&&r.id!==e.uid)continue;ut.splice(n,1),n--,r()}}}function _f(e){if(Xn.length){const t=[...new Set(Xn)].sort((n,r)=>Nr(n)-Nr(r));if(Xn.length=0,sn){sn.push(...t);return}for(sn=t,Ln=0;Ln<sn.length;Ln++)sn[Ln]();sn=null,Ln=0}}const Nr=e=>e.id==null?1/0:e.id,Cp=(e,t)=>{const n=Nr(e)-Nr(t);if(n===0){if(e.pre&&!t.pre)return-1;if(t.pre&&!e.pre)return 1}return n};function gf(e){ns=!1,kr=!0,ut.sort(Cp);try{for(jt=0;jt<ut.length;jt++){const t=ut[jt];t&&t.active!==!1&&vn(t,null,14)}}finally{jt=0,ut.length=0,_f(),kr=!1,$s=null,(ut.length||Xn.length)&&gf()}}function Lp(e,t,...n){if(e.isUnmounted)return;const r=e.vnode.props||He;let i=n;const o=t.startsWith("update:"),s=o&&t.slice(7);if(s&&s in r){const u=`${s==="modelValue"?"model":s}Modifiers`,{number:a,trim:l}=r[u]||He;l&&(i=n.map(h=>ze(h)?h.trim():h)),a&&(i=n.map(Zo))}let c,f=r[c=Co(t)]||r[c=Co(Ht(t))];!f&&o&&(f=r[c=Co(or(t))]),f&&Lt(f,e,6,i);const d=r[c+"Once"];if(d){if(!e.emitted)e.emitted={};else if(e.emitted[c])return;e.emitted[c]=!0,Lt(d,e,6,i)}}function vf(e,t,n=!1){const r=t.emitsCache,i=r.get(e);if(i!==void 0)return i;const o=e.emits;let s={},c=!1;if(!be(e)){const f=d=>{const u=vf(d,t,!0);u&&(c=!0,Ze(s,u))};!n&&t.mixins.length&&t.mixins.forEach(f),e.extends&&f(e.extends),e.mixins&&e.mixins.forEach(f)}return!o&&!c?(Ve(e)&&r.set(e,null),null):(pe(o)?o.forEach(f=>s[f]=null):Ze(s,o),Ve(e)&&r.set(e,s),s)}function eo(e,t){return!e||!$i(t)?!1:(t=t.slice(2).replace(/Once$/,""),Pe(e,t[0].toLowerCase()+t.slice(1))||Pe(e,or(t))||Pe(e,t))}let Ye=null,yf=null;function Fi(e){const t=Ye;return Ye=e,yf=e&&e.type.__scopeId||null,t}function me(e,t=Ye,n){if(!t||e._n)return e;const r=(...i)=>{r._d&&Qa(-1);const o=Fi(t);let s;try{s=e(...i)}finally{Fi(o),r._d&&Qa(1)}return s};return r._n=!0,r._c=!0,r._d=!0,r}function Ro(e){const{type:t,vnode:n,proxy:r,withProxy:i,props:o,propsOptions:[s],slots:c,attrs:f,emit:d,render:u,renderCache:a,data:l,setupState:h,ctx:g,inheritAttrs:E}=e;let y,m;const _=Fi(e);try{if(n.shapeFlag&4){const p=i||r,v=p;y=Nt(u.call(v,p,a,o,h,l,g)),m=f}else{const p=t;y=Nt(p.length>1?p(o,{attrs:f,slots:c,emit:d}):p(o,null)),m=t.props?f:Rp(f)}}catch(p){Tr.length=0,Qi(p,e,1),y=B(Rt)}let x=y;if(m&&E!==!1){const p=Object.keys(m),{shapeFlag:v}=x;p.length&&v&7&&(s&&p.some(Ds)&&(m=Tp(m,s)),x=Jt(x,m))}return n.dirs&&(x=Jt(x),x.dirs=x.dirs?x.dirs.concat(n.dirs):n.dirs),n.transition&&(x.transition=n.transition),y=x,Fi(_),y}const Rp=e=>{let t;for(const n in e)(n==="class"||n==="style"||$i(n))&&((t||(t={}))[n]=e[n]);return t},Tp=(e,t)=>{const n={};for(const r in e)(!Ds(r)||!(r.slice(9)in t))&&(n[r]=e[r]);return n};function Op(e,t,n){const{props:r,children:i,component:o}=e,{props:s,children:c,patchFlag:f}=t,d=o.emitsOptions;if(t.dirs||t.transition)return!0;if(n&&f>=0){if(f&1024)return!0;if(f&16)return r?Ua(r,s,d):!!s;if(f&8){const u=t.dynamicProps;for(let a=0;a<u.length;a++){const l=u[a];if(s[l]!==r[l]&&!eo(d,l))return!0}}}else return(i||c)&&(!c||!c.$stable)?!0:r===s?!1:r?s?Ua(r,s,d):!0:!!s;return!1}function Ua(e,t,n){const r=Object.keys(t);if(r.length!==Object.keys(e).length)return!0;for(let i=0;i<r.length;i++){const o=r[i];if(t[o]!==e[o]&&!eo(n,o))return!0}return!1}function Pp({vnode:e,parent:t},n){for(;t;){const r=t.subTree;if(r.suspense&&r.suspense.activeBranch===e&&(r.el=e.el),r===e)(e=t.vnode).el=n,t=t.parent;else break}}const Xs="components";function Ip(e,t){return xf(Xs,e,!0,t)||e}const Ef=Symbol.for("v-ndc");function Fp(e){return ze(e)?xf(Xs,e,!1)||e:e||Ef}function xf(e,t,n=!0,r=!1){const i=Ye||st;if(i){const o=i.type;if(e===Xs){const c=ds(o,!1);if(c&&(c===t||c===Ht(t)||c===Xi(Ht(t))))return o}const s=Va(i[e]||o[e],t)||Va(i.appContext[e],t);return!s&&r?o:s}}function Va(e,t){return e&&(e[t]||e[Ht(t)]||e[Xi(Ht(t))])}const bf=e=>e.__isSuspense;function Bp(e,t){t&&t.pendingBranch?pe(e)?t.effects.push(...e):t.effects.push(e):Ap(e)}const Dp=Symbol.for("v-scx"),Mp=()=>ht(Dp);function Sf(e,t){return Ys(e,null,t)}const ci={};function De(e,t,n){return Ys(e,t,n)}function Ys(e,t,{immediate:n,deep:r,flush:i,once:o,onTrack:s,onTrigger:c}=He){if(t&&o){const b=t;t=(...w)=>{b(...w),v()}}const f=st,d=b=>r===!0?b:Rn(b,r===!1?1:void 0);let u,a=!1,l=!1;if(ke(e)?(u=()=>e.value,a=Ii(e)):qn(e)?(u=()=>d(e),a=!0):pe(e)?(l=!0,a=e.some(b=>qn(b)||Ii(b)),u=()=>e.map(b=>{if(ke(b))return b.value;if(qn(b))return d(b);if(be(b))return vn(b,f,2)})):be(e)?t?u=()=>vn(e,f,2):u=()=>(h&&h(),Lt(e,f,3,[g])):u=Ct,t&&r){const b=u;u=()=>Rn(b())}let h,g=b=>{h=x.onStop=()=>{vn(b,f,4),h=x.onStop=void 0}},E;if(so)if(g=Ct,t?n&&Lt(t,f,3,[u(),l?[]:void 0,g]):u(),i==="sync"){const b=Mp();E=b.__watcherHandles||(b.__watcherHandles=[])}else return Ct;let y=l?new Array(e.length).fill(ci):ci;const m=()=>{if(!(!x.active||!x.dirty))if(t){const b=x.run();(r||a||(l?b.some((w,A)=>En(w,y[A])):En(b,y)))&&(h&&h(),Lt(t,f,3,[b,y===ci?void 0:l&&y[0]===ci?[]:y,g]),y=b)}else x.run()};m.allowRecurse=!!t;let _;i==="sync"?_=m:i==="post"?_=()=>rt(m,f&&f.suspense):(m.pre=!0,f&&(m.id=f.uid),_=()=>qs(m));const x=new Ns(u,Ct,_),p=Yc(),v=()=>{x.stop(),p&&Ms(p.effects,x)};return t?n?m():y=x.run():i==="post"?rt(x.run.bind(x),f&&f.suspense):x.run(),E&&E.push(v),v}function kp(e,t,n){const r=this.proxy,i=ze(e)?e.includes(".")?wf(r,e):()=>r[e]:e.bind(r,r);let o;be(t)?o=t:(o=t.handler,n=t);const s=Qr(this),c=Ys(i,o.bind(r),n);return s(),c}function wf(e,t){const n=t.split(".");return()=>{let r=e;for(let i=0;i<n.length&&r;i++)r=r[n[i]];return r}}function Rn(e,t,n=0,r){if(!Ve(e)||e.__v_skip)return e;if(t&&t>0){if(n>=t)return e;n++}if(r=r||new Set,r.has(e))return e;if(r.add(e),ke(e))Rn(e.value,t,n,r);else if(pe(e))for(let i=0;i<e.length;i++)Rn(e[i],t,n,r);else if(Hc(e)||Gn(e))e.forEach(i=>{Rn(i,t,n,r)});else if(zc(e))for(const i in e)Rn(e[i],t,n,r);return e}function Xr(e,t){if(Ye===null)return e;const n=ao(Ye)||Ye.proxy,r=e.dirs||(e.dirs=[]);for(let i=0;i<t.length;i++){let[o,s,c,f=He]=t[i];o&&(be(o)&&(o={mounted:o,updated:o}),o.deep&&Rn(s),r.push({dir:o,instance:n,value:s,oldValue:void 0,arg:c,modifiers:f}))}return e}function Sn(e,t,n,r){const i=e.dirs,o=t&&t.dirs;for(let s=0;s<i.length;s++){const c=i[s];o&&(c.oldValue=o[s].value);let f=c.dir[r];f&&(In(),Lt(f,n,8,[e.el,c,e,t]),Fn())}}const an=Symbol("_leaveCb"),fi=Symbol("_enterCb");function Np(){const e={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return Et(()=>{e.isMounted=!0}),Jr(()=>{e.isUnmounting=!0}),e}const bt=[Function,Array],Af={mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:bt,onEnter:bt,onAfterEnter:bt,onEnterCancelled:bt,onBeforeLeave:bt,onLeave:bt,onAfterLeave:bt,onLeaveCancelled:bt,onBeforeAppear:bt,onAppear:bt,onAfterAppear:bt,onAppearCancelled:bt},jp={name:"BaseTransition",props:Af,setup(e,{slots:t}){const n=xt(),r=Np();return()=>{const i=t.default&&Lf(t.default(),!0);if(!i||!i.length)return;let o=i[0];if(i.length>1){for(const l of i)if(l.type!==Rt){o=l;break}}const s=Ie(e),{mode:c}=s;if(r.isLeaving)return To(o);const f=Ha(o);if(!f)return To(o);const d=rs(f,s,r,n);Bi(f,d);const u=n.subTree,a=u&&Ha(u);if(a&&a.type!==Rt&&!dn(f,a)){const l=rs(a,s,r,n);if(Bi(a,l),c==="out-in")return r.isLeaving=!0,l.afterLeave=()=>{r.isLeaving=!1,n.update.active!==!1&&(n.effect.dirty=!0,n.update())},To(o);c==="in-out"&&f.type!==Rt&&(l.delayLeave=(h,g,E)=>{const y=Cf(r,a);y[String(a.key)]=a,h[an]=()=>{g(),h[an]=void 0,delete d.delayedLeave},d.delayedLeave=E})}return o}}},Up=jp;function Cf(e,t){const{leavingVNodes:n}=e;let r=n.get(t.type);return r||(r=Object.create(null),n.set(t.type,r)),r}function rs(e,t,n,r){const{appear:i,mode:o,persisted:s=!1,onBeforeEnter:c,onEnter:f,onAfterEnter:d,onEnterCancelled:u,onBeforeLeave:a,onLeave:l,onAfterLeave:h,onLeaveCancelled:g,onBeforeAppear:E,onAppear:y,onAfterAppear:m,onAppearCancelled:_}=t,x=String(e.key),p=Cf(n,e),v=(A,T)=>{A&&Lt(A,r,9,T)},b=(A,T)=>{const P=T[1];v(A,T),pe(A)?A.every(R=>R.length<=1)&&P():A.length<=1&&P()},w={mode:o,persisted:s,beforeEnter(A){let T=c;if(!n.isMounted)if(i)T=E||c;else return;A[an]&&A[an](!0);const P=p[x];P&&dn(e,P)&&P.el[an]&&P.el[an](),v(T,[A])},enter(A){let T=f,P=d,R=u;if(!n.isMounted)if(i)T=y||f,P=m||d,R=_||u;else return;let C=!1;const O=A[fi]=D=>{C||(C=!0,D?v(R,[A]):v(P,[A]),w.delayedLeave&&w.delayedLeave(),A[fi]=void 0)};T?b(T,[A,O]):O()},leave(A,T){const P=String(e.key);if(A[fi]&&A[fi](!0),n.isUnmounting)return T();v(a,[A]);let R=!1;const C=A[an]=O=>{R||(R=!0,T(),O?v(g,[A]):v(h,[A]),A[an]=void 0,p[P]===e&&delete p[P])};p[P]=e,l?b(l,[A,C]):C()},clone(A){return rs(A,t,n,r)}};return w}function To(e){if(to(e))return e=Jt(e),e.children=null,e}function Ha(e){return to(e)?e.children?e.children[0]:void 0:e}function Bi(e,t){e.shapeFlag&6&&e.component?Bi(e.component.subTree,t):e.shapeFlag&128?(e.ssContent.transition=t.clone(e.ssContent),e.ssFallback.transition=t.clone(e.ssFallback)):e.transition=t}function Lf(e,t=!1,n){let r=[],i=0;for(let o=0;o<e.length;o++){let s=e[o];const c=n==null?s.key:String(n)+String(s.key!=null?s.key:o);s.type===Qe?(s.patchFlag&128&&i++,r=r.concat(Lf(s.children,t,c))):(t||s.type!==Rt)&&r.push(c!=null?Jt(s,{key:c}):s)}if(i>1)for(let o=0;o<r.length;o++)r[o].patchFlag=-2;return r}/*! #__NO_SIDE_EFFECTS__ */function Le(e,t){return be(e)?Ze({name:e.name},t,{setup:e}):e}const Yn=e=>!!e.type.__asyncLoader,to=e=>e.type.__isKeepAlive,Vp={name:"KeepAlive",__isKeepAlive:!0,props:{include:[String,RegExp,Array],exclude:[String,RegExp,Array],max:[String,Number]},setup(e,{slots:t}){const n=xt(),r=n.ctx;if(!r.renderer)return()=>{const _=t.default&&t.default();return _&&_.length===1?_[0]:_};const i=new Map,o=new Set;let s=null;const c=n.suspense,{renderer:{p:f,m:d,um:u,o:{createElement:a}}}=r,l=a("div");r.activate=(_,x,p,v,b)=>{const w=_.component;d(_,x,p,0,c),f(w.vnode,_,x,p,w,c,v,_.slotScopeIds,b),rt(()=>{w.isDeactivated=!1,w.a&&$n(w.a);const A=_.props&&_.props.onVnodeMounted;A&&wt(A,w.parent,_)},c)},r.deactivate=_=>{const x=_.component;d(_,l,null,1,c),rt(()=>{x.da&&$n(x.da);const p=_.props&&_.props.onVnodeUnmounted;p&&wt(p,x.parent,_),x.isDeactivated=!0},c)};function h(_){Oo(_),u(_,n,c,!0)}function g(_){i.forEach((x,p)=>{const v=ds(x.type);v&&(!_||!_(v))&&E(p)})}function E(_){const x=i.get(_);!s||!dn(x,s)?h(x):s&&Oo(s),i.delete(_),o.delete(_)}De(()=>[e.include,e.exclude],([_,x])=>{_&&g(p=>xr(_,p)),x&&g(p=>!xr(x,p))},{flush:"post",deep:!0});let y=null;const m=()=>{y!=null&&i.set(y,Po(n.subTree))};return Et(m),Tf(m),Jr(()=>{i.forEach(_=>{const{subTree:x,suspense:p}=n,v=Po(x);if(_.type===v.type&&_.key===v.key){Oo(v);const b=v.component.da;b&&rt(b,p);return}h(_)})}),()=>{if(y=null,!t.default)return null;const _=t.default(),x=_[0];if(_.length>1)return s=null,_;if(!er(x)||!(x.shapeFlag&4)&&!(x.shapeFlag&128))return s=null,x;let p=Po(x);const v=p.type,b=ds(Yn(p)?p.type.__asyncResolved||{}:v),{include:w,exclude:A,max:T}=e;if(w&&(!b||!xr(w,b))||A&&b&&xr(A,b))return s=p,x;const P=p.key==null?v:p.key,R=i.get(P);return p.el&&(p=Jt(p),x.shapeFlag&128&&(x.ssContent=p)),y=P,R?(p.el=R.el,p.component=R.component,p.transition&&Bi(p,p.transition),p.shapeFlag|=512,o.delete(P),o.add(P)):(o.add(P),T&&o.size>parseInt(T,10)&&E(o.values().next().value)),p.shapeFlag|=256,s=p,bf(x.type)?x:p}}},Hp=Vp;function xr(e,t){return pe(e)?e.some(n=>xr(n,t)):ze(e)?e.split(",").includes(t):Fh(e)?e.test(t):!1}function no(e,t){Rf(e,"a",t)}function Yr(e,t){Rf(e,"da",t)}function Rf(e,t,n=st){const r=e.__wdc||(e.__wdc=()=>{let i=n;for(;i;){if(i.isDeactivated)return;i=i.parent}return e()});if(ro(t,r,n),n){let i=n.parent;for(;i&&i.parent;)to(i.parent.vnode)&&Kp(r,t,n,i),i=i.parent}}function Kp(e,t,n,r){const i=ro(t,e,r,!0);Zr(()=>{Ms(r[t],i)},n)}function Oo(e){e.shapeFlag&=-257,e.shapeFlag&=-513}function Po(e){return e.shapeFlag&128?e.ssContent:e}function ro(e,t,n=st,r=!1){if(n){const i=n[e]||(n[e]=[]),o=t.__weh||(t.__weh=(...s)=>{if(n.isUnmounted)return;In();const c=Qr(n),f=Lt(t,n,e,s);return c(),Fn(),f});return r?i.unshift(o):i.push(o),o}}const Zt=e=>(t,n=st)=>(!so||e==="sp")&&ro(e,(...r)=>t(...r),n),Wp=Zt("bm"),Et=Zt("m"),zp=Zt("bu"),Tf=Zt("u"),Jr=Zt("bum"),Zr=Zt("um"),Gp=Zt("sp"),$p=Zt("rtg"),qp=Zt("rtc");function Xp(e,t=st){ro("ec",e,t)}function Of(e,t,n,r){let i;const o=n&&n[r];if(pe(e)||ze(e)){i=new Array(e.length);for(let s=0,c=e.length;s<c;s++)i[s]=t(e[s],s,void 0,o&&o[s])}else if(typeof e=="number"){i=new Array(e);for(let s=0;s<e;s++)i[s]=t(s+1,s,void 0,o&&o[s])}else if(Ve(e))if(e[Symbol.iterator])i=Array.from(e,(s,c)=>t(s,c,void 0,o&&o[c]));else{const s=Object.keys(e);i=new Array(s.length);for(let c=0,f=s.length;c<f;c++){const d=s[c];i[c]=t(e[d],d,c,o&&o[c])}}else i=[];return n&&(n[r]=i),i}function Yp(e,t,n={},r,i){if(Ye.isCE||Ye.parent&&Yn(Ye.parent)&&Ye.parent.isCE)return t!=="default"&&(n.name=t),B("slot",n,r&&r());let o=e[t];o&&o._c&&(o._d=!1),Ke();const s=o&&Pf(o(n)),c=lt(Qe,{key:n.key||s&&s.key||`_${t}`},s||(r?r():[]),s&&e._===1?64:-2);return!i&&c.scopeId&&(c.slotScopeIds=[c.scopeId+"-s"]),o&&o._c&&(o._d=!0),c}function Pf(e){return e.some(t=>er(t)?!(t.type===Rt||t.type===Qe&&!Pf(t.children)):!0)?e:null}const is=e=>e?Wf(e)?ao(e)||e.proxy:is(e.parent):null,Cr=Ze(Object.create(null),{$:e=>e,$el:e=>e.vnode.el,$data:e=>e.data,$props:e=>e.props,$attrs:e=>e.attrs,$slots:e=>e.slots,$refs:e=>e.refs,$parent:e=>is(e.parent),$root:e=>is(e.root),$emit:e=>e.emit,$options:e=>Js(e),$forceUpdate:e=>e.f||(e.f=()=>{e.effect.dirty=!0,qs(e.update)}),$nextTick:e=>e.n||(e.n=dt.bind(e.proxy)),$watch:e=>kp.bind(e)}),Io=(e,t)=>e!==He&&!e.__isScriptSetup&&Pe(e,t),Jp={get({_:e},t){const{ctx:n,setupState:r,data:i,props:o,accessCache:s,type:c,appContext:f}=e;let d;if(t[0]!=="$"){const h=s[t];if(h!==void 0)switch(h){case 1:return r[t];case 2:return i[t];case 4:return n[t];case 3:return o[t]}else{if(Io(r,t))return s[t]=1,r[t];if(i!==He&&Pe(i,t))return s[t]=2,i[t];if((d=e.propsOptions[0])&&Pe(d,t))return s[t]=3,o[t];if(n!==He&&Pe(n,t))return s[t]=4,n[t];os&&(s[t]=0)}}const u=Cr[t];let a,l;if(u)return t==="$attrs"&&pt(e,"get",t),u(e);if((a=c.__cssModules)&&(a=a[t]))return a;if(n!==He&&Pe(n,t))return s[t]=4,n[t];if(l=f.config.globalProperties,Pe(l,t))return l[t]},set({_:e},t,n){const{data:r,setupState:i,ctx:o}=e;return Io(i,t)?(i[t]=n,!0):r!==He&&Pe(r,t)?(r[t]=n,!0):Pe(e.props,t)||t[0]==="$"&&t.slice(1)in e?!1:(o[t]=n,!0)},has({_:{data:e,setupState:t,accessCache:n,ctx:r,appContext:i,propsOptions:o}},s){let c;return!!n[s]||e!==He&&Pe(e,s)||Io(t,s)||(c=o[0])&&Pe(c,s)||Pe(r,s)||Pe(Cr,s)||Pe(i.config.globalProperties,s)},defineProperty(e,t,n){return n.get!=null?e._.accessCache[t]=0:Pe(n,"value")&&this.set(e,t,n.value,null),Reflect.defineProperty(e,t,n)}};function Ka(e){return pe(e)?e.reduce((t,n)=>(t[n]=null,t),{}):e}let os=!0;function Zp(e){const t=Js(e),n=e.proxy,r=e.ctx;os=!1,t.beforeCreate&&Wa(t.beforeCreate,e,"bc");const{data:i,computed:o,methods:s,watch:c,provide:f,inject:d,created:u,beforeMount:a,mounted:l,beforeUpdate:h,updated:g,activated:E,deactivated:y,beforeDestroy:m,beforeUnmount:_,destroyed:x,unmounted:p,render:v,renderTracked:b,renderTriggered:w,errorCaptured:A,serverPrefetch:T,expose:P,inheritAttrs:R,components:C,directives:O,filters:D}=t;if(d&&Qp(d,r,null),s)for(const U in s){const Q=s[U];be(Q)&&(r[U]=Q.bind(n))}if(i){const U=i.call(n,n);Ve(U)&&(e.data=Kt(U))}if(os=!0,o)for(const U in o){const Q=o[U],oe=be(Q)?Q.bind(n,n):be(Q.get)?Q.get.bind(n,n):Ct,ne=!be(Q)&&be(Q.set)?Q.set.bind(n):Ct,de=ye({get:oe,set:ne});Object.defineProperty(r,U,{enumerable:!0,configurable:!0,get:()=>de.value,set:he=>de.value=he})}if(c)for(const U in c)If(c[U],r,n,U);if(f){const U=be(f)?f.call(n):f;Reflect.ownKeys(U).forEach(Q=>{yn(Q,U[Q])})}u&&Wa(u,e,"c");function M(U,Q){pe(Q)?Q.forEach(oe=>U(oe.bind(n))):Q&&U(Q.bind(n))}if(M(Wp,a),M(Et,l),M(zp,h),M(Tf,g),M(no,E),M(Yr,y),M(Xp,A),M(qp,b),M($p,w),M(Jr,_),M(Zr,p),M(Gp,T),pe(P))if(P.length){const U=e.exposed||(e.exposed={});P.forEach(Q=>{Object.defineProperty(U,Q,{get:()=>n[Q],set:oe=>n[Q]=oe})})}else e.exposed||(e.exposed={});v&&e.render===Ct&&(e.render=v),R!=null&&(e.inheritAttrs=R),C&&(e.components=C),O&&(e.directives=O)}function Qp(e,t,n=Ct){pe(e)&&(e=ss(e));for(const r in e){const i=e[r];let o;Ve(i)?"default"in i?o=ht(i.from||r,i.default,!0):o=ht(i.from||r):o=ht(i),ke(o)?Object.defineProperty(t,r,{enumerable:!0,configurable:!0,get:()=>o.value,set:s=>o.value=s}):t[r]=o}}function Wa(e,t,n){Lt(pe(e)?e.map(r=>r.bind(t.proxy)):e.bind(t.proxy),t,n)}function If(e,t,n,r){const i=r.includes(".")?wf(n,r):()=>n[r];if(ze(e)){const o=t[e];be(o)&&De(i,o)}else if(be(e))De(i,e.bind(n));else if(Ve(e))if(pe(e))e.forEach(o=>If(o,t,n,r));else{const o=be(e.handler)?e.handler.bind(n):t[e.handler];be(o)&&De(i,o,e)}}function Js(e){const t=e.type,{mixins:n,extends:r}=t,{mixins:i,optionsCache:o,config:{optionMergeStrategies:s}}=e.appContext,c=o.get(t);let f;return c?f=c:!i.length&&!n&&!r?f=t:(f={},i.length&&i.forEach(d=>Di(f,d,s,!0)),Di(f,t,s)),Ve(t)&&o.set(t,f),f}function Di(e,t,n,r=!1){const{mixins:i,extends:o}=t;o&&Di(e,o,n,!0),i&&i.forEach(s=>Di(e,s,n,!0));for(const s in t)if(!(r&&s==="expose")){const c=em[s]||n&&n[s];e[s]=c?c(e[s],t[s]):t[s]}return e}const em={data:za,props:Ga,emits:Ga,methods:br,computed:br,beforeCreate:ft,created:ft,beforeMount:ft,mounted:ft,beforeUpdate:ft,updated:ft,beforeDestroy:ft,beforeUnmount:ft,destroyed:ft,unmounted:ft,activated:ft,deactivated:ft,errorCaptured:ft,serverPrefetch:ft,components:br,directives:br,watch:nm,provide:za,inject:tm};function za(e,t){return t?e?function(){return Ze(be(e)?e.call(this,this):e,be(t)?t.call(this,this):t)}:t:e}function tm(e,t){return br(ss(e),ss(t))}function ss(e){if(pe(e)){const t={};for(let n=0;n<e.length;n++)t[e[n]]=e[n];return t}return e}function ft(e,t){return e?[...new Set([].concat(e,t))]:t}function br(e,t){return e?Ze(Object.create(null),e,t):t}function Ga(e,t){return e?pe(e)&&pe(t)?[...new Set([...e,...t])]:Ze(Object.create(null),Ka(e),Ka(t??{})):t}function nm(e,t){if(!e)return t;if(!t)return e;const n=Ze(Object.create(null),e);for(const r in t)n[r]=ft(e[r],t[r]);return n}function Ff(){return{app:null,config:{isNativeTag:Ph,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let rm=0;function im(e,t){return function(r,i=null){be(r)||(r=Ze({},r)),i!=null&&!Ve(i)&&(i=null);const o=Ff(),s=new WeakSet;let c=!1;const f=o.app={_uid:rm++,_component:r,_props:i,_container:null,_context:o,_instance:null,version:Rm,get config(){return o.config},set config(d){},use(d,...u){return s.has(d)||(d&&be(d.install)?(s.add(d),d.install(f,...u)):be(d)&&(s.add(d),d(f,...u))),f},mixin(d){return o.mixins.includes(d)||o.mixins.push(d),f},component(d,u){return u?(o.components[d]=u,f):o.components[d]},directive(d,u){return u?(o.directives[d]=u,f):o.directives[d]},mount(d,u,a){if(!c){const l=B(r,i);return l.appContext=o,a===!0?a="svg":a===!1&&(a=void 0),u&&t?t(l,d):e(l,d,a),c=!0,f._container=d,d.__vue_app__=f,ao(l.component)||l.component.proxy}},unmount(){c&&(e(null,f._container),delete f._container.__vue_app__)},provide(d,u){return o.provides[d]=u,f},runWithContext(d){const u=Lr;Lr=f;try{return d()}finally{Lr=u}}};return f}}let Lr=null;function yn(e,t){if(st){let n=st.provides;const r=st.parent&&st.parent.provides;r===n&&(n=st.provides=Object.create(r)),n[e]=t}}function ht(e,t,n=!1){const r=st||Ye;if(r||Lr){const i=r?r.parent==null?r.vnode.appContext&&r.vnode.appContext.provides:r.parent.provides:Lr._context.provides;if(i&&e in i)return i[e];if(arguments.length>1)return n&&be(t)?t.call(r&&r.proxy):t}}function om(e,t,n,r=!1){const i={},o={};Oi(o,oo,1),e.propsDefaults=Object.create(null),Bf(e,t,i,o);for(const s in e.propsOptions[0])s in i||(i[s]=void 0);n?e.props=r?i:uf(i):e.type.props?e.props=i:e.props=o,e.attrs=o}function sm(e,t,n,r){const{props:i,attrs:o,vnode:{patchFlag:s}}=e,c=Ie(i),[f]=e.propsOptions;let d=!1;if((r||s>0)&&!(s&16)){if(s&8){const u=e.vnode.dynamicProps;for(let a=0;a<u.length;a++){let l=u[a];if(eo(e.emitsOptions,l))continue;const h=t[l];if(f)if(Pe(o,l))h!==o[l]&&(o[l]=h,d=!0);else{const g=Ht(l);i[g]=as(f,c,g,h,e,!1)}else h!==o[l]&&(o[l]=h,d=!0)}}}else{Bf(e,t,i,o)&&(d=!0);let u;for(const a in c)(!t||!Pe(t,a)&&((u=or(a))===a||!Pe(t,u)))&&(f?n&&(n[a]!==void 0||n[u]!==void 0)&&(i[a]=as(f,c,a,void 0,e,!0)):delete i[a]);if(o!==c)for(const a in o)(!t||!Pe(t,a))&&(delete o[a],d=!0)}d&&Xt(e,"set","$attrs")}function Bf(e,t,n,r){const[i,o]=e.propsOptions;let s=!1,c;if(t)for(let f in t){if(wr(f))continue;const d=t[f];let u;i&&Pe(i,u=Ht(f))?!o||!o.includes(u)?n[u]=d:(c||(c={}))[u]=d:eo(e.emitsOptions,f)||(!(f in r)||d!==r[f])&&(r[f]=d,s=!0)}if(o){const f=Ie(n),d=c||He;for(let u=0;u<o.length;u++){const a=o[u];n[a]=as(i,f,a,d[a],e,!Pe(d,a))}}return s}function as(e,t,n,r,i,o){const s=e[n];if(s!=null){const c=Pe(s,"default");if(c&&r===void 0){const f=s.default;if(s.type!==Function&&!s.skipFactory&&be(f)){const{propsDefaults:d}=i;if(n in d)r=d[n];else{const u=Qr(i);r=d[n]=f.call(null,t),u()}}else r=f}s[0]&&(o&&!c?r=!1:s[1]&&(r===""||r===or(n))&&(r=!0))}return r}function Df(e,t,n=!1){const r=t.propsCache,i=r.get(e);if(i)return i;const o=e.props,s={},c=[];let f=!1;if(!be(e)){const u=a=>{f=!0;const[l,h]=Df(a,t,!0);Ze(s,l),h&&c.push(...h)};!n&&t.mixins.length&&t.mixins.forEach(u),e.extends&&u(e.extends),e.mixins&&e.mixins.forEach(u)}if(!o&&!f)return Ve(e)&&r.set(e,zn),zn;if(pe(o))for(let u=0;u<o.length;u++){const a=Ht(o[u]);$a(a)&&(s[a]=He)}else if(o)for(const u in o){const a=Ht(u);if($a(a)){const l=o[u],h=s[a]=pe(l)||be(l)?{type:l}:Ze({},l);if(h){const g=Ya(Boolean,h.type),E=Ya(String,h.type);h[0]=g>-1,h[1]=E<0||g<E,(g>-1||Pe(h,"default"))&&c.push(a)}}}const d=[s,c];return Ve(e)&&r.set(e,d),d}function $a(e){return e[0]!=="$"&&!wr(e)}function qa(e){return e===null?"null":typeof e=="function"?e.name||"":typeof e=="object"&&e.constructor&&e.constructor.name||""}function Xa(e,t){return qa(e)===qa(t)}function Ya(e,t){return pe(t)?t.findIndex(n=>Xa(n,e)):be(t)&&Xa(t,e)?0:-1}const Mf=e=>e[0]==="_"||e==="$stable",Zs=e=>pe(e)?e.map(Nt):[Nt(e)],am=(e,t,n)=>{if(t._n)return t;const r=me((...i)=>Zs(t(...i)),n);return r._c=!1,r},kf=(e,t,n)=>{const r=e._ctx;for(const i in e){if(Mf(i))continue;const o=e[i];if(be(o))t[i]=am(i,o,r);else if(o!=null){const s=Zs(o);t[i]=()=>s}}},Nf=(e,t)=>{const n=Zs(t);e.slots.default=()=>n},lm=(e,t)=>{if(e.vnode.shapeFlag&32){const n=t._;n?(e.slots=Ie(t),Oi(t,"_",n)):kf(t,e.slots={})}else e.slots={},t&&Nf(e,t);Oi(e.slots,oo,1)},um=(e,t,n)=>{const{vnode:r,slots:i}=e;let o=!0,s=He;if(r.shapeFlag&32){const c=t._;c?n&&c===1?o=!1:(Ze(i,t),!n&&c===1&&delete i._):(o=!t.$stable,kf(t,i)),s=t}else t&&(Nf(e,t),s={default:1});if(o)for(const c in i)!Mf(c)&&s[c]==null&&delete i[c]};function ls(e,t,n,r,i=!1){if(pe(e)){e.forEach((l,h)=>ls(l,t&&(pe(t)?t[h]:t),n,r,i));return}if(Yn(r)&&!i)return;const o=r.shapeFlag&4?ao(r.component)||r.component.proxy:r.el,s=i?null:o,{i:c,r:f}=e,d=t&&t.r,u=c.refs===He?c.refs={}:c.refs,a=c.setupState;if(d!=null&&d!==f&&(ze(d)?(u[d]=null,Pe(a,d)&&(a[d]=null)):ke(d)&&(d.value=null)),be(f))vn(f,c,12,[s,u]);else{const l=ze(f),h=ke(f);if(l||h){const g=()=>{if(e.f){const E=l?Pe(a,f)?a[f]:u[f]:f.value;i?pe(E)&&Ms(E,o):pe(E)?E.includes(o)||E.push(o):l?(u[f]=[o],Pe(a,f)&&(a[f]=u[f])):(f.value=[o],e.k&&(u[e.k]=f.value))}else l?(u[f]=s,Pe(a,f)&&(a[f]=s)):h&&(f.value=s,e.k&&(u[e.k]=s))};s?(g.id=-1,rt(g,n)):g()}}}const rt=Bp;function cm(e){return fm(e)}function fm(e,t){const n=Gc();n.__VUE__=!0;const{insert:r,remove:i,patchProp:o,createElement:s,createText:c,createComment:f,setText:d,setElementText:u,parentNode:a,nextSibling:l,setScopeId:h=Ct,insertStaticContent:g}=e,E=(L,I,k,K=null,H=null,q=null,ee=void 0,X=null,J=!!I.dynamicChildren)=>{if(L===I)return;L&&!dn(L,I)&&(K=F(L),he(L,H,q,!0),L=null),I.patchFlag===-2&&(J=!1,I.dynamicChildren=null);const{type:z,ref:te,shapeFlag:ce}=I;switch(z){case io:y(L,I,k,K);break;case Rt:m(L,I,k,K);break;case Bo:L==null&&_(I,k,K,ee);break;case Qe:C(L,I,k,K,H,q,ee,X,J);break;default:ce&1?v(L,I,k,K,H,q,ee,X,J):ce&6?O(L,I,k,K,H,q,ee,X,J):(ce&64||ce&128)&&z.process(L,I,k,K,H,q,ee,X,J,G)}te!=null&&H&&ls(te,L&&L.ref,q,I||L,!I)},y=(L,I,k,K)=>{if(L==null)r(I.el=c(I.children),k,K);else{const H=I.el=L.el;I.children!==L.children&&d(H,I.children)}},m=(L,I,k,K)=>{L==null?r(I.el=f(I.children||""),k,K):I.el=L.el},_=(L,I,k,K)=>{[L.el,L.anchor]=g(L.children,I,k,K,L.el,L.anchor)},x=({el:L,anchor:I},k,K)=>{let H;for(;L&&L!==I;)H=l(L),r(L,k,K),L=H;r(I,k,K)},p=({el:L,anchor:I})=>{let k;for(;L&&L!==I;)k=l(L),i(L),L=k;i(I)},v=(L,I,k,K,H,q,ee,X,J)=>{I.type==="svg"?ee="svg":I.type==="math"&&(ee="mathml"),L==null?b(I,k,K,H,q,ee,X,J):T(L,I,H,q,ee,X,J)},b=(L,I,k,K,H,q,ee,X)=>{let J,z;const{props:te,shapeFlag:ce,transition:fe,dirs:_e}=L;if(J=L.el=s(L.type,q,te&&te.is,te),ce&8?u(J,L.children):ce&16&&A(L.children,J,null,K,H,Fo(L,q),ee,X),_e&&Sn(L,null,K,"created"),w(J,L,L.scopeId,ee,K),te){for(const Ee in te)Ee!=="value"&&!wr(Ee)&&o(J,Ee,null,te[Ee],q,L.children,K,H,ve);"value"in te&&o(J,"value",null,te.value,q),(z=te.onVnodeBeforeMount)&&wt(z,K,L)}_e&&Sn(L,null,K,"beforeMount");const Ae=dm(H,fe);Ae&&fe.beforeEnter(J),r(J,I,k),((z=te&&te.onVnodeMounted)||Ae||_e)&&rt(()=>{z&&wt(z,K,L),Ae&&fe.enter(J),_e&&Sn(L,null,K,"mounted")},H)},w=(L,I,k,K,H)=>{if(k&&h(L,k),K)for(let q=0;q<K.length;q++)h(L,K[q]);if(H){let q=H.subTree;if(I===q){const ee=H.vnode;w(L,ee,ee.scopeId,ee.slotScopeIds,H.parent)}}},A=(L,I,k,K,H,q,ee,X,J=0)=>{for(let z=J;z<L.length;z++){const te=L[z]=X?ln(L[z]):Nt(L[z]);E(null,te,I,k,K,H,q,ee,X)}},T=(L,I,k,K,H,q,ee)=>{const X=I.el=L.el;let{patchFlag:J,dynamicChildren:z,dirs:te}=I;J|=L.patchFlag&16;const ce=L.props||He,fe=I.props||He;let _e;if(k&&wn(k,!1),(_e=fe.onVnodeBeforeUpdate)&&wt(_e,k,I,L),te&&Sn(I,L,k,"beforeUpdate"),k&&wn(k,!0),z?P(L.dynamicChildren,z,X,k,K,Fo(I,H),q):ee||Q(L,I,X,null,k,K,Fo(I,H),q,!1),J>0){if(J&16)R(X,I,ce,fe,k,K,H);else if(J&2&&ce.class!==fe.class&&o(X,"class",null,fe.class,H),J&4&&o(X,"style",ce.style,fe.style,H),J&8){const Ae=I.dynamicProps;for(let Ee=0;Ee<Ae.length;Ee++){const Ue=Ae[Ee],j=ce[Ue],$=fe[Ue];($!==j||Ue==="value")&&o(X,Ue,j,$,H,L.children,k,K,ve)}}J&1&&L.children!==I.children&&u(X,I.children)}else!ee&&z==null&&R(X,I,ce,fe,k,K,H);((_e=fe.onVnodeUpdated)||te)&&rt(()=>{_e&&wt(_e,k,I,L),te&&Sn(I,L,k,"updated")},K)},P=(L,I,k,K,H,q,ee)=>{for(let X=0;X<I.length;X++){const J=L[X],z=I[X],te=J.el&&(J.type===Qe||!dn(J,z)||J.shapeFlag&70)?a(J.el):k;E(J,z,te,null,K,H,q,ee,!0)}},R=(L,I,k,K,H,q,ee)=>{if(k!==K){if(k!==He)for(const X in k)!wr(X)&&!(X in K)&&o(L,X,k[X],null,ee,I.children,H,q,ve);for(const X in K){if(wr(X))continue;const J=K[X],z=k[X];J!==z&&X!=="value"&&o(L,X,z,J,ee,I.children,H,q,ve)}"value"in K&&o(L,"value",k.value,K.value,ee)}},C=(L,I,k,K,H,q,ee,X,J)=>{const z=I.el=L?L.el:c(""),te=I.anchor=L?L.anchor:c("");let{patchFlag:ce,dynamicChildren:fe,slotScopeIds:_e}=I;_e&&(X=X?X.concat(_e):_e),L==null?(r(z,k,K),r(te,k,K),A(I.children||[],k,te,H,q,ee,X,J)):ce>0&&ce&64&&fe&&L.dynamicChildren?(P(L.dynamicChildren,fe,k,H,q,ee,X),(I.key!=null||H&&I===H.subTree)&&Qs(L,I,!0)):Q(L,I,k,te,H,q,ee,X,J)},O=(L,I,k,K,H,q,ee,X,J)=>{I.slotScopeIds=X,L==null?I.shapeFlag&512?H.ctx.activate(I,k,K,ee,J):D(I,k,K,H,q,ee,J):N(L,I,J)},D=(L,I,k,K,H,q,ee)=>{const X=L.component=bm(L,K,H);if(to(L)&&(X.ctx.renderer=G),Sm(X),X.asyncDep){if(H&&H.registerDep(X,M),!L.el){const J=X.subTree=B(Rt);m(null,J,I,k)}}else M(X,L,I,k,H,q,ee)},N=(L,I,k)=>{const K=I.component=L.component;if(Op(L,I,k))if(K.asyncDep&&!K.asyncResolved){U(K,I,k);return}else K.next=I,wp(K.update),K.effect.dirty=!0,K.update();else I.el=L.el,K.vnode=I},M=(L,I,k,K,H,q,ee)=>{const X=()=>{if(L.isMounted){let{next:te,bu:ce,u:fe,parent:_e,vnode:Ae}=L;{const Z=jf(L);if(Z){te&&(te.el=Ae.el,U(L,te,ee)),Z.asyncDep.then(()=>{L.isUnmounted||X()});return}}let Ee=te,Ue;wn(L,!1),te?(te.el=Ae.el,U(L,te,ee)):te=Ae,ce&&$n(ce),(Ue=te.props&&te.props.onVnodeBeforeUpdate)&&wt(Ue,_e,te,Ae),wn(L,!0);const j=Ro(L),$=L.subTree;L.subTree=j,E($,j,a($.el),F($),L,H,q),te.el=j.el,Ee===null&&Pp(L,j.el),fe&&rt(fe,H),(Ue=te.props&&te.props.onVnodeUpdated)&&rt(()=>wt(Ue,_e,te,Ae),H)}else{let te;const{el:ce,props:fe}=I,{bm:_e,m:Ae,parent:Ee}=L,Ue=Yn(I);if(wn(L,!1),_e&&$n(_e),!Ue&&(te=fe&&fe.onVnodeBeforeMount)&&wt(te,Ee,I),wn(L,!0),ce&&re){const j=()=>{L.subTree=Ro(L),re(ce,L.subTree,L,H,null)};Ue?I.type.__asyncLoader().then(()=>!L.isUnmounted&&j()):j()}else{const j=L.subTree=Ro(L);E(null,j,k,K,L,H,q),I.el=j.el}if(Ae&&rt(Ae,H),!Ue&&(te=fe&&fe.onVnodeMounted)){const j=I;rt(()=>wt(te,Ee,j),H)}(I.shapeFlag&256||Ee&&Yn(Ee.vnode)&&Ee.vnode.shapeFlag&256)&&L.a&&rt(L.a,H),L.isMounted=!0,I=k=K=null}},J=L.effect=new Ns(X,Ct,()=>qs(z),L.scope),z=L.update=()=>{J.dirty&&J.run()};z.id=L.uid,wn(L,!0),z()},U=(L,I,k)=>{I.component=L;const K=L.vnode.props;L.vnode=I,L.next=null,sm(L,I.props,K,k),um(L,I.children,k),In(),ja(L),Fn()},Q=(L,I,k,K,H,q,ee,X,J=!1)=>{const z=L&&L.children,te=L?L.shapeFlag:0,ce=I.children,{patchFlag:fe,shapeFlag:_e}=I;if(fe>0){if(fe&128){ne(z,ce,k,K,H,q,ee,X,J);return}else if(fe&256){oe(z,ce,k,K,H,q,ee,X,J);return}}_e&8?(te&16&&ve(z,H,q),ce!==z&&u(k,ce)):te&16?_e&16?ne(z,ce,k,K,H,q,ee,X,J):ve(z,H,q,!0):(te&8&&u(k,""),_e&16&&A(ce,k,K,H,q,ee,X,J))},oe=(L,I,k,K,H,q,ee,X,J)=>{L=L||zn,I=I||zn;const z=L.length,te=I.length,ce=Math.min(z,te);let fe;for(fe=0;fe<ce;fe++){const _e=I[fe]=J?ln(I[fe]):Nt(I[fe]);E(L[fe],_e,k,null,H,q,ee,X,J)}z>te?ve(L,H,q,!0,!1,ce):A(I,k,K,H,q,ee,X,J,ce)},ne=(L,I,k,K,H,q,ee,X,J)=>{let z=0;const te=I.length;let ce=L.length-1,fe=te-1;for(;z<=ce&&z<=fe;){const _e=L[z],Ae=I[z]=J?ln(I[z]):Nt(I[z]);if(dn(_e,Ae))E(_e,Ae,k,null,H,q,ee,X,J);else break;z++}for(;z<=ce&&z<=fe;){const _e=L[ce],Ae=I[fe]=J?ln(I[fe]):Nt(I[fe]);if(dn(_e,Ae))E(_e,Ae,k,null,H,q,ee,X,J);else break;ce--,fe--}if(z>ce){if(z<=fe){const _e=fe+1,Ae=_e<te?I[_e].el:K;for(;z<=fe;)E(null,I[z]=J?ln(I[z]):Nt(I[z]),k,Ae,H,q,ee,X,J),z++}}else if(z>fe)for(;z<=ce;)he(L[z],H,q,!0),z++;else{const _e=z,Ae=z,Ee=new Map;for(z=Ae;z<=fe;z++){const Fe=I[z]=J?ln(I[z]):Nt(I[z]);Fe.key!=null&&Ee.set(Fe.key,z)}let Ue,j=0;const $=fe-Ae+1;let Z=!1,ue=0;const ge=new Array($);for(z=0;z<$;z++)ge[z]=0;for(z=_e;z<=ce;z++){const Fe=L[z];if(j>=$){he(Fe,H,q,!0);continue}let nt;if(Fe.key!=null)nt=Ee.get(Fe.key);else for(Ue=Ae;Ue<=fe;Ue++)if(ge[Ue-Ae]===0&&dn(Fe,I[Ue])){nt=Ue;break}nt===void 0?he(Fe,H,q,!0):(ge[nt-Ae]=z+1,nt>=ue?ue=nt:Z=!0,E(Fe,I[nt],k,null,H,q,ee,X,J),j++)}const we=Z?hm(ge):zn;for(Ue=we.length-1,z=$-1;z>=0;z--){const Fe=Ae+z,nt=I[Fe],bn=Fe+1<te?I[Fe+1].el:K;ge[z]===0?E(null,nt,k,bn,H,q,ee,X,J):Z&&(Ue<0||z!==we[Ue]?de(nt,k,bn,2):Ue--)}}},de=(L,I,k,K,H=null)=>{const{el:q,type:ee,transition:X,children:J,shapeFlag:z}=L;if(z&6){de(L.component.subTree,I,k,K);return}if(z&128){L.suspense.move(I,k,K);return}if(z&64){ee.move(L,I,k,G);return}if(ee===Qe){r(q,I,k);for(let ce=0;ce<J.length;ce++)de(J[ce],I,k,K);r(L.anchor,I,k);return}if(ee===Bo){x(L,I,k);return}if(K!==2&&z&1&&X)if(K===0)X.beforeEnter(q),r(q,I,k),rt(()=>X.enter(q),H);else{const{leave:ce,delayLeave:fe,afterLeave:_e}=X,Ae=()=>r(q,I,k),Ee=()=>{ce(q,()=>{Ae(),_e&&_e()})};fe?fe(q,Ae,Ee):Ee()}else r(q,I,k)},he=(L,I,k,K=!1,H=!1)=>{const{type:q,props:ee,ref:X,children:J,dynamicChildren:z,shapeFlag:te,patchFlag:ce,dirs:fe}=L;if(X!=null&&ls(X,null,k,L,!0),te&256){I.ctx.deactivate(L);return}const _e=te&1&&fe,Ae=!Yn(L);let Ee;if(Ae&&(Ee=ee&&ee.onVnodeBeforeUnmount)&&wt(Ee,I,L),te&6)je(L.component,k,K);else{if(te&128){L.suspense.unmount(k,K);return}_e&&Sn(L,null,I,"beforeUnmount"),te&64?L.type.remove(L,I,k,H,G,K):z&&(q!==Qe||ce>0&&ce&64)?ve(z,I,k,!1,!0):(q===Qe&&ce&384||!H&&te&16)&&ve(J,I,k),K&&se(L)}(Ae&&(Ee=ee&&ee.onVnodeUnmounted)||_e)&&rt(()=>{Ee&&wt(Ee,I,L),_e&&Sn(L,null,I,"unmounted")},k)},se=L=>{const{type:I,el:k,anchor:K,transition:H}=L;if(I===Qe){ae(k,K);return}if(I===Bo){p(L);return}const q=()=>{i(k),H&&!H.persisted&&H.afterLeave&&H.afterLeave()};if(L.shapeFlag&1&&H&&!H.persisted){const{leave:ee,delayLeave:X}=H,J=()=>ee(k,q);X?X(L.el,q,J):J()}else q()},ae=(L,I)=>{let k;for(;L!==I;)k=l(L),i(L),L=k;i(I)},je=(L,I,k)=>{const{bum:K,scope:H,update:q,subTree:ee,um:X}=L;K&&$n(K),H.stop(),q&&(q.active=!1,he(ee,L,I,k)),X&&rt(X,I),rt(()=>{L.isUnmounted=!0},I),I&&I.pendingBranch&&!I.isUnmounted&&L.asyncDep&&!L.asyncResolved&&L.suspenseId===I.pendingId&&(I.deps--,I.deps===0&&I.resolve())},ve=(L,I,k,K=!1,H=!1,q=0)=>{for(let ee=q;ee<L.length;ee++)he(L[ee],I,k,K,H)},F=L=>L.shapeFlag&6?F(L.component.subTree):L.shapeFlag&128?L.suspense.next():l(L.anchor||L.el);let W=!1;const V=(L,I,k)=>{L==null?I._vnode&&he(I._vnode,null,null,!0):E(I._vnode||null,L,I,null,null,null,k),W||(W=!0,ja(),_f(),W=!1),I._vnode=L},G={p:E,um:he,m:de,r:se,mt:D,mc:A,pc:Q,pbc:P,n:F,o:e};let le,re;return t&&([le,re]=t(G)),{render:V,hydrate:le,createApp:im(V,le)}}function Fo({type:e,props:t},n){return n==="svg"&&e==="foreignObject"||n==="mathml"&&e==="annotation-xml"&&t&&t.encoding&&t.encoding.includes("html")?void 0:n}function wn({effect:e,update:t},n){e.allowRecurse=t.allowRecurse=n}function dm(e,t){return(!e||e&&!e.pendingBranch)&&t&&!t.persisted}function Qs(e,t,n=!1){const r=e.children,i=t.children;if(pe(r)&&pe(i))for(let o=0;o<r.length;o++){const s=r[o];let c=i[o];c.shapeFlag&1&&!c.dynamicChildren&&((c.patchFlag<=0||c.patchFlag===32)&&(c=i[o]=ln(i[o]),c.el=s.el),n||Qs(s,c)),c.type===io&&(c.el=s.el)}}function hm(e){const t=e.slice(),n=[0];let r,i,o,s,c;const f=e.length;for(r=0;r<f;r++){const d=e[r];if(d!==0){if(i=n[n.length-1],e[i]<d){t[r]=i,n.push(r);continue}for(o=0,s=n.length-1;o<s;)c=o+s>>1,e[n[c]]<d?o=c+1:s=c;d<e[n[o]]&&(o>0&&(t[r]=n[o-1]),n[o]=r)}}for(o=n.length,s=n[o-1];o-- >0;)n[o]=s,s=t[s];return n}function jf(e){const t=e.subTree.component;if(t)return t.asyncDep&&!t.asyncResolved?t:jf(t)}const pm=e=>e.__isTeleport,Rr=e=>e&&(e.disabled||e.disabled===""),Ja=e=>typeof SVGElement<"u"&&e instanceof SVGElement,Za=e=>typeof MathMLElement=="function"&&e instanceof MathMLElement,us=(e,t)=>{const n=e&&e.to;return ze(n)?t?t(n):null:n},mm={name:"Teleport",__isTeleport:!0,process(e,t,n,r,i,o,s,c,f,d){const{mc:u,pc:a,pbc:l,o:{insert:h,querySelector:g,createText:E,createComment:y}}=d,m=Rr(t.props);let{shapeFlag:_,children:x,dynamicChildren:p}=t;if(e==null){const v=t.el=E(""),b=t.anchor=E("");h(v,n,r),h(b,n,r);const w=t.target=us(t.props,g),A=t.targetAnchor=E("");w&&(h(A,w),s==="svg"||Ja(w)?s="svg":(s==="mathml"||Za(w))&&(s="mathml"));const T=(P,R)=>{_&16&&u(x,P,R,i,o,s,c,f)};m?T(n,b):w&&T(w,A)}else{t.el=e.el;const v=t.anchor=e.anchor,b=t.target=e.target,w=t.targetAnchor=e.targetAnchor,A=Rr(e.props),T=A?n:b,P=A?v:w;if(s==="svg"||Ja(b)?s="svg":(s==="mathml"||Za(b))&&(s="mathml"),p?(l(e.dynamicChildren,p,T,i,o,s,c),Qs(e,t,!0)):f||a(e,t,T,P,i,o,s,c,!1),m)A?t.props&&e.props&&t.props.to!==e.props.to&&(t.props.to=e.props.to):di(t,n,v,d,1);else if((t.props&&t.props.to)!==(e.props&&e.props.to)){const R=t.target=us(t.props,g);R&&di(t,R,null,d,0)}else A&&di(t,b,w,d,1)}Vf(t)},remove(e,t,n,r,{um:i,o:{remove:o}},s){const{shapeFlag:c,children:f,anchor:d,targetAnchor:u,target:a,props:l}=e;if(a&&o(u),s&&o(d),c&16){const h=s||!Rr(l);for(let g=0;g<f.length;g++){const E=f[g];i(E,t,n,h,!!E.dynamicChildren)}}},move:di,hydrate:_m};function di(e,t,n,{o:{insert:r},m:i},o=2){o===0&&r(e.targetAnchor,t,n);const{el:s,anchor:c,shapeFlag:f,children:d,props:u}=e,a=o===2;if(a&&r(s,t,n),(!a||Rr(u))&&f&16)for(let l=0;l<d.length;l++)i(d[l],t,n,2);a&&r(c,t,n)}function _m(e,t,n,r,i,o,{o:{nextSibling:s,parentNode:c,querySelector:f}},d){const u=t.target=us(t.props,f);if(u){const a=u._lpa||u.firstChild;if(t.shapeFlag&16)if(Rr(t.props))t.anchor=d(s(e),t,c(e),n,r,i,o),t.targetAnchor=a;else{t.anchor=s(e);let l=a;for(;l;)if(l=s(l),l&&l.nodeType===8&&l.data==="teleport anchor"){t.targetAnchor=l,u._lpa=t.targetAnchor&&s(t.targetAnchor);break}d(a,t,u,n,r,i,o)}Vf(t)}return t.anchor&&s(t.anchor)}const Uf=mm;function Vf(e){const t=e.ctx;if(t&&t.ut){let n=e.children[0].el;for(;n&&n!==e.targetAnchor;)n.nodeType===1&&n.setAttribute("data-v-owner",t.uid),n=n.nextSibling;t.ut()}}const Qe=Symbol.for("v-fgt"),io=Symbol.for("v-txt"),Rt=Symbol.for("v-cmt"),Bo=Symbol.for("v-stc"),Tr=[];let It=null;function Ke(e=!1){Tr.push(It=e?null:[])}function gm(){Tr.pop(),It=Tr[Tr.length-1]||null}let jr=1;function Qa(e){jr+=e}function Hf(e){return e.dynamicChildren=jr>0?It||zn:null,gm(),jr>0&&It&&It.push(e),e}function xn(e,t,n,r,i,o){return Hf(Ce(e,t,n,r,i,o,!0))}function lt(e,t,n,r,i){return Hf(B(e,t,n,r,i,!0))}function er(e){return e?e.__v_isVNode===!0:!1}function dn(e,t){return e.type===t.type&&e.key===t.key}const oo="__vInternal",Kf=({key:e})=>e??null,Li=({ref:e,ref_key:t,ref_for:n})=>(typeof e=="number"&&(e=""+e),e!=null?ze(e)||ke(e)||be(e)?{i:Ye,r:e,k:t,f:!!n}:e:null);function Ce(e,t=null,n=null,r=0,i=null,o=e===Qe?0:1,s=!1,c=!1){const f={__v_isVNode:!0,__v_skip:!0,type:e,props:t,key:t&&Kf(t),ref:t&&Li(t),scopeId:yf,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:o,patchFlag:r,dynamicProps:i,dynamicChildren:null,appContext:null,ctx:Ye};return c?(ea(f,n),o&128&&e.normalize(f)):n&&(f.shapeFlag|=ze(n)?8:16),jr>0&&!s&&It&&(f.patchFlag>0||o&6)&&f.patchFlag!==32&&It.push(f),f}const B=vm;function vm(e,t=null,n=null,r=0,i=null,o=!1){if((!e||e===Ef)&&(e=Rt),er(e)){const c=Jt(e,t,!0);return n&&ea(c,n),jr>0&&!o&&It&&(c.shapeFlag&6?It[It.indexOf(e)]=c:It.push(c)),c.patchFlag|=-2,c}if(Lm(e)&&(e=e.__vccOpts),t){t=ym(t);let{class:c,style:f}=t;c&&!ze(c)&&(t.class=Ji(c)),Ve(f)&&(cf(f)&&!pe(f)&&(f=Ze({},f)),t.style=Yi(f))}const s=ze(e)?1:bf(e)?128:pm(e)?64:Ve(e)?4:be(e)?2:0;return Ce(e,t,n,r,i,s,o,!0)}function ym(e){return e?cf(e)||oo in e?Ze({},e):e:null}function Jt(e,t,n=!1){const{props:r,ref:i,patchFlag:o,children:s}=e,c=t?Tt(r||{},t):r;return{__v_isVNode:!0,__v_skip:!0,type:e.type,props:c,key:c&&Kf(c),ref:t&&t.ref?n&&i?pe(i)?i.concat(Li(t)):[i,Li(t)]:Li(t):i,scopeId:e.scopeId,slotScopeIds:e.slotScopeIds,children:s,target:e.target,targetAnchor:e.targetAnchor,staticCount:e.staticCount,shapeFlag:e.shapeFlag,patchFlag:t&&e.type!==Qe?o===-1?16:o|16:o,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:e.transition,component:e.component,suspense:e.suspense,ssContent:e.ssContent&&Jt(e.ssContent),ssFallback:e.ssFallback&&Jt(e.ssFallback),el:e.el,anchor:e.anchor,ctx:e.ctx,ce:e.ce}}function Ut(e=" ",t=0){return B(io,null,e,t)}function cs(e="",t=!1){return t?(Ke(),lt(Rt,null,e)):B(Rt,null,e)}function Nt(e){return e==null||typeof e=="boolean"?B(Rt):pe(e)?B(Qe,null,e.slice()):typeof e=="object"?ln(e):B(io,null,String(e))}function ln(e){return e.el===null&&e.patchFlag!==-1||e.memo?e:Jt(e)}function ea(e,t){let n=0;const{shapeFlag:r}=e;if(t==null)t=null;else if(pe(t))n=16;else if(typeof t=="object")if(r&65){const i=t.default;i&&(i._c&&(i._d=!1),ea(e,i()),i._c&&(i._d=!0));return}else{n=32;const i=t._;!i&&!(oo in t)?t._ctx=Ye:i===3&&Ye&&(Ye.slots._===1?t._=1:(t._=2,e.patchFlag|=1024))}else be(t)?(t={default:t,_ctx:Ye},n=32):(t=String(t),r&64?(n=16,t=[Ut(t)]):n=8);e.children=t,e.shapeFlag|=n}function Tt(...e){const t={};for(let n=0;n<e.length;n++){const r=e[n];for(const i in r)if(i==="class")t.class!==r.class&&(t.class=Ji([t.class,r.class]));else if(i==="style")t.style=Yi([t.style,r.style]);else if($i(i)){const o=t[i],s=r[i];s&&o!==s&&!(pe(o)&&o.includes(s))&&(t[i]=o?[].concat(o,s):s)}else i!==""&&(t[i]=r[i])}return t}function wt(e,t,n,r=null){Lt(e,t,7,[n,r])}const Em=Ff();let xm=0;function bm(e,t,n){const r=e.type,i=(t?t.appContext:e.appContext)||Em,o={uid:xm++,vnode:e,type:r,parent:t,appContext:i,root:null,next:null,subTree:null,effect:null,update:null,scope:new Xc(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:t?t.provides:Object.create(i.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:Df(r,i),emitsOptions:vf(r,i),emit:null,emitted:null,propsDefaults:He,inheritAttrs:r.inheritAttrs,ctx:He,data:He,props:He,attrs:He,slots:He,refs:He,setupState:He,setupContext:null,attrsProxy:null,slotsProxy:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return o.ctx={_:o},o.root=t?t.root:o,o.emit=Lp.bind(null,o),e.ce&&e.ce(o),o}let st=null;const xt=()=>st||Ye;let Mi,fs;{const e=Gc(),t=(n,r)=>{let i;return(i=e[n])||(i=e[n]=[]),i.push(r),o=>{i.length>1?i.forEach(s=>s(o)):i[0](o)}};Mi=t("__VUE_INSTANCE_SETTERS__",n=>st=n),fs=t("__VUE_SSR_SETTERS__",n=>so=n)}const Qr=e=>{const t=st;return Mi(e),e.scope.on(),()=>{e.scope.off(),Mi(t)}},el=()=>{st&&st.scope.off(),Mi(null)};function Wf(e){return e.vnode.shapeFlag&4}let so=!1;function Sm(e,t=!1){t&&fs(t);const{props:n,children:r}=e.vnode,i=Wf(e);om(e,n,i,t),lm(e,r);const o=i?wm(e,t):void 0;return t&&fs(!1),o}function wm(e,t){const n=e.type;e.accessCache=Object.create(null),e.proxy=Ws(new Proxy(e.ctx,Jp));const{setup:r}=n;if(r){const i=e.setupContext=r.length>1?Cm(e):null,o=Qr(e);In();const s=vn(r,e,0,[e.props,i]);if(Fn(),o(),Kc(s)){if(s.then(el,el),t)return s.then(c=>{tl(e,c,t)}).catch(c=>{Qi(c,e,0)});e.asyncDep=s}else tl(e,s,t)}else zf(e,t)}function tl(e,t,n){be(t)?e.type.__ssrInlineRender?e.ssrRender=t:e.render=t:Ve(t)&&(e.setupState=hf(t)),zf(e,n)}let nl;function zf(e,t,n){const r=e.type;if(!e.render){if(!t&&nl&&!r.render){const i=r.template||Js(e).template;if(i){const{isCustomElement:o,compilerOptions:s}=e.appContext.config,{delimiters:c,compilerOptions:f}=r,d=Ze(Ze({isCustomElement:o,delimiters:c},s),f);r.render=nl(i,d)}}e.render=r.render||Ct}{const i=Qr(e);In();try{Zp(e)}finally{Fn(),i()}}}function Am(e){return e.attrsProxy||(e.attrsProxy=new Proxy(e.attrs,{get(t,n){return pt(e,"get","$attrs"),t[n]}}))}function Cm(e){const t=n=>{e.exposed=n||{}};return{get attrs(){return Am(e)},slots:e.slots,emit:e.emit,expose:t}}function ao(e){if(e.exposed)return e.exposeProxy||(e.exposeProxy=new Proxy(hf(Ws(e.exposed)),{get(t,n){if(n in t)return t[n];if(n in Cr)return Cr[n](e)},has(t,n){return n in t||n in Cr}}))}function ds(e,t=!0){return be(e)?e.displayName||e.name:e.name||t&&e.__name}function Lm(e){return be(e)&&"__vccOpts"in e}const ye=(e,t)=>hp(e,t,so);function ta(e,t,n){const r=arguments.length;return r===2?Ve(t)&&!pe(t)?er(t)?B(e,null,[t]):B(e,t):B(e,null,t):(r>3?n=Array.prototype.slice.call(arguments,2):r===3&&er(n)&&(n=[n]),B(e,t,n))}const Rm="3.4.21";/**
* @vue/runtime-dom v3.4.21
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/const Tm="http://www.w3.org/2000/svg",Om="http://www.w3.org/1998/Math/MathML",un=typeof document<"u"?document:null,rl=un&&un.createElement("template"),Pm={insert:(e,t,n)=>{t.insertBefore(e,n||null)},remove:e=>{const t=e.parentNode;t&&t.removeChild(e)},createElement:(e,t,n,r)=>{const i=t==="svg"?un.createElementNS(Tm,e):t==="mathml"?un.createElementNS(Om,e):un.createElement(e,n?{is:n}:void 0);return e==="select"&&r&&r.multiple!=null&&i.setAttribute("multiple",r.multiple),i},createText:e=>un.createTextNode(e),createComment:e=>un.createComment(e),setText:(e,t)=>{e.nodeValue=t},setElementText:(e,t)=>{e.textContent=t},parentNode:e=>e.parentNode,nextSibling:e=>e.nextSibling,querySelector:e=>un.querySelector(e),setScopeId(e,t){e.setAttribute(t,"")},insertStaticContent(e,t,n,r,i,o){const s=n?n.previousSibling:t.lastChild;if(i&&(i===o||i.nextSibling))for(;t.insertBefore(i.cloneNode(!0),n),!(i===o||!(i=i.nextSibling)););else{rl.innerHTML=r==="svg"?`<svg>${e}</svg>`:r==="mathml"?`<math>${e}</math>`:e;const c=rl.content;if(r==="svg"||r==="mathml"){const f=c.firstChild;for(;f.firstChild;)c.appendChild(f.firstChild);c.removeChild(f)}t.insertBefore(c,n)}return[s?s.nextSibling:t.firstChild,n?n.previousSibling:t.lastChild]}},tn="transition",pr="animation",Ur=Symbol("_vtc"),Bn=(e,{slots:t})=>ta(Up,Im(e),t);Bn.displayName="Transition";const Gf={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String};Bn.props=Ze({},Af,Gf);const An=(e,t=[])=>{pe(e)?e.forEach(n=>n(...t)):e&&e(...t)},il=e=>e?pe(e)?e.some(t=>t.length>1):e.length>1:!1;function Im(e){const t={};for(const C in e)C in Gf||(t[C]=e[C]);if(e.css===!1)return t;const{name:n="v",type:r,duration:i,enterFromClass:o=`${n}-enter-from`,enterActiveClass:s=`${n}-enter-active`,enterToClass:c=`${n}-enter-to`,appearFromClass:f=o,appearActiveClass:d=s,appearToClass:u=c,leaveFromClass:a=`${n}-leave-from`,leaveActiveClass:l=`${n}-leave-active`,leaveToClass:h=`${n}-leave-to`}=e,g=Fm(i),E=g&&g[0],y=g&&g[1],{onBeforeEnter:m,onEnter:_,onEnterCancelled:x,onLeave:p,onLeaveCancelled:v,onBeforeAppear:b=m,onAppear:w=_,onAppearCancelled:A=x}=t,T=(C,O,D)=>{Cn(C,O?u:c),Cn(C,O?d:s),D&&D()},P=(C,O)=>{C._isLeaving=!1,Cn(C,a),Cn(C,h),Cn(C,l),O&&O()},R=C=>(O,D)=>{const N=C?w:_,M=()=>T(O,C,D);An(N,[O,M]),ol(()=>{Cn(O,C?f:o),nn(O,C?u:c),il(N)||sl(O,r,E,M)})};return Ze(t,{onBeforeEnter(C){An(m,[C]),nn(C,o),nn(C,s)},onBeforeAppear(C){An(b,[C]),nn(C,f),nn(C,d)},onEnter:R(!1),onAppear:R(!0),onLeave(C,O){C._isLeaving=!0;const D=()=>P(C,O);nn(C,a),Mm(),nn(C,l),ol(()=>{C._isLeaving&&(Cn(C,a),nn(C,h),il(p)||sl(C,r,y,D))}),An(p,[C,D])},onEnterCancelled(C){T(C,!1),An(x,[C])},onAppearCancelled(C){T(C,!0),An(A,[C])},onLeaveCancelled(C){P(C),An(v,[C])}})}function Fm(e){if(e==null)return null;if(Ve(e))return[Do(e.enter),Do(e.leave)];{const t=Do(e);return[t,t]}}function Do(e){return kh(e)}function nn(e,t){t.split(/\s+/).forEach(n=>n&&e.classList.add(n)),(e[Ur]||(e[Ur]=new Set)).add(t)}function Cn(e,t){t.split(/\s+/).forEach(r=>r&&e.classList.remove(r));const n=e[Ur];n&&(n.delete(t),n.size||(e[Ur]=void 0))}function ol(e){requestAnimationFrame(()=>{requestAnimationFrame(e)})}let Bm=0;function sl(e,t,n,r){const i=e._endId=++Bm,o=()=>{i===e._endId&&r()};if(n)return setTimeout(o,n);const{type:s,timeout:c,propCount:f}=Dm(e,t);if(!s)return r();const d=s+"end";let u=0;const a=()=>{e.removeEventListener(d,l),o()},l=h=>{h.target===e&&++u>=f&&a()};setTimeout(()=>{u<f&&a()},c+1),e.addEventListener(d,l)}function Dm(e,t){const n=window.getComputedStyle(e),r=g=>(n[g]||"").split(", "),i=r(`${tn}Delay`),o=r(`${tn}Duration`),s=al(i,o),c=r(`${pr}Delay`),f=r(`${pr}Duration`),d=al(c,f);let u=null,a=0,l=0;t===tn?s>0&&(u=tn,a=s,l=o.length):t===pr?d>0&&(u=pr,a=d,l=f.length):(a=Math.max(s,d),u=a>0?s>d?tn:pr:null,l=u?u===tn?o.length:f.length:0);const h=u===tn&&/\b(transform|all)(,|$)/.test(r(`${tn}Property`).toString());return{type:u,timeout:a,propCount:l,hasTransform:h}}function al(e,t){for(;e.length<t.length;)e=e.concat(e);return Math.max(...t.map((n,r)=>ll(n)+ll(e[r])))}function ll(e){return e==="auto"?0:Number(e.slice(0,-1).replace(",","."))*1e3}function Mm(){return document.body.offsetHeight}function km(e,t,n){const r=e[Ur];r&&(t=(t?[t,...r]:[...r]).join(" ")),t==null?e.removeAttribute("class"):n?e.setAttribute("class",t):e.className=t}const ki=Symbol("_vod"),$f=Symbol("_vsh"),lo={beforeMount(e,{value:t},{transition:n}){e[ki]=e.style.display==="none"?"":e.style.display,n&&t?n.beforeEnter(e):mr(e,t)},mounted(e,{value:t},{transition:n}){n&&t&&n.enter(e)},updated(e,{value:t,oldValue:n},{transition:r}){!t!=!n&&(r?t?(r.beforeEnter(e),mr(e,!0),r.enter(e)):r.leave(e,()=>{mr(e,!1)}):mr(e,t))},beforeUnmount(e,{value:t}){mr(e,t)}};function mr(e,t){e.style.display=t?e[ki]:"none",e[$f]=!t}const Nm=Symbol(""),jm=/(^|;)\s*display\s*:/;function Um(e,t,n){const r=e.style,i=ze(n);let o=!1;if(n&&!i){if(t)if(ze(t))for(const s of t.split(";")){const c=s.slice(0,s.indexOf(":")).trim();n[c]==null&&Ri(r,c,"")}else for(const s in t)n[s]==null&&Ri(r,s,"");for(const s in n)s==="display"&&(o=!0),Ri(r,s,n[s])}else if(i){if(t!==n){const s=r[Nm];s&&(n+=";"+s),r.cssText=n,o=jm.test(n)}}else t&&e.removeAttribute("style");ki in e&&(e[ki]=o?r.display:"",e[$f]&&(r.display="none"))}const ul=/\s*!important$/;function Ri(e,t,n){if(pe(n))n.forEach(r=>Ri(e,t,r));else if(n==null&&(n=""),t.startsWith("--"))e.setProperty(t,n);else{const r=Vm(e,t);ul.test(n)?e.setProperty(or(r),n.replace(ul,""),"important"):e[r]=n}}const cl=["Webkit","Moz","ms"],Mo={};function Vm(e,t){const n=Mo[t];if(n)return n;let r=Ht(t);if(r!=="filter"&&r in e)return Mo[t]=r;r=Xi(r);for(let i=0;i<cl.length;i++){const o=cl[i]+r;if(o in e)return Mo[t]=o}return t}const fl="http://www.w3.org/1999/xlink";function Hm(e,t,n,r,i){if(r&&t.startsWith("xlink:"))n==null?e.removeAttributeNS(fl,t.slice(6,t.length)):e.setAttributeNS(fl,t,n);else{const o=Kh(t);n==null||o&&!$c(n)?e.removeAttribute(t):e.setAttribute(t,o?"":n)}}function Km(e,t,n,r,i,o,s){if(t==="innerHTML"||t==="textContent"){r&&s(r,i,o),e[t]=n??"";return}const c=e.tagName;if(t==="value"&&c!=="PROGRESS"&&!c.includes("-")){const d=c==="OPTION"?e.getAttribute("value")||"":e.value,u=n??"";(d!==u||!("_value"in e))&&(e.value=u),n==null&&e.removeAttribute(t),e._value=n;return}let f=!1;if(n===""||n==null){const d=typeof e[t];d==="boolean"?n=$c(n):n==null&&d==="string"?(n="",f=!0):d==="number"&&(n=0,f=!0)}try{e[t]=n}catch{}f&&e.removeAttribute(t)}function Hn(e,t,n,r){e.addEventListener(t,n,r)}function Wm(e,t,n,r){e.removeEventListener(t,n,r)}const dl=Symbol("_vei");function zm(e,t,n,r,i=null){const o=e[dl]||(e[dl]={}),s=o[t];if(r&&s)s.value=r;else{const[c,f]=Gm(t);if(r){const d=o[t]=Xm(r,i);Hn(e,c,d,f)}else s&&(Wm(e,c,s,f),o[t]=void 0)}}const hl=/(?:Once|Passive|Capture)$/;function Gm(e){let t;if(hl.test(e)){t={};let r;for(;r=e.match(hl);)e=e.slice(0,e.length-r[0].length),t[r[0].toLowerCase()]=!0}return[e[2]===":"?e.slice(3):or(e.slice(2)),t]}let ko=0;const $m=Promise.resolve(),qm=()=>ko||($m.then(()=>ko=0),ko=Date.now());function Xm(e,t){const n=r=>{if(!r._vts)r._vts=Date.now();else if(r._vts<=n.attached)return;Lt(Ym(r,n.value),t,5,[r])};return n.value=e,n.attached=qm(),n}function Ym(e,t){if(pe(t)){const n=e.stopImmediatePropagation;return e.stopImmediatePropagation=()=>{n.call(e),e._stopped=!0},t.map(r=>i=>!i._stopped&&r&&r(i))}else return t}const pl=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&e.charCodeAt(2)>96&&e.charCodeAt(2)<123,Jm=(e,t,n,r,i,o,s,c,f)=>{const d=i==="svg";t==="class"?km(e,r,d):t==="style"?Um(e,n,r):$i(t)?Ds(t)||zm(e,t,n,r,s):(t[0]==="."?(t=t.slice(1),!0):t[0]==="^"?(t=t.slice(1),!1):Zm(e,t,r,d))?Km(e,t,r,o,s,c,f):(t==="true-value"?e._trueValue=r:t==="false-value"&&(e._falseValue=r),Hm(e,t,r,d))};function Zm(e,t,n,r){if(r)return!!(t==="innerHTML"||t==="textContent"||t in e&&pl(t)&&be(n));if(t==="spellcheck"||t==="draggable"||t==="translate"||t==="form"||t==="list"&&e.tagName==="INPUT"||t==="type"&&e.tagName==="TEXTAREA")return!1;if(t==="width"||t==="height"){const i=e.tagName;if(i==="IMG"||i==="VIDEO"||i==="CANVAS"||i==="SOURCE")return!1}return pl(t)&&ze(n)?!1:t in e}const ml=e=>{const t=e.props["onUpdate:modelValue"]||!1;return pe(t)?n=>$n(t,n):t};function Qm(e){e.target.composing=!0}function _l(e){const t=e.target;t.composing&&(t.composing=!1,t.dispatchEvent(new Event("input")))}const No=Symbol("_assign"),e0={created(e,{modifiers:{lazy:t,trim:n,number:r}},i){e[No]=ml(i);const o=r||i.props&&i.props.type==="number";Hn(e,t?"change":"input",s=>{if(s.target.composing)return;let c=e.value;n&&(c=c.trim()),o&&(c=Zo(c)),e[No](c)}),n&&Hn(e,"change",()=>{e.value=e.value.trim()}),t||(Hn(e,"compositionstart",Qm),Hn(e,"compositionend",_l),Hn(e,"change",_l))},mounted(e,{value:t}){e.value=t??""},beforeUpdate(e,{value:t,modifiers:{lazy:n,trim:r,number:i}},o){if(e[No]=ml(o),e.composing)return;const s=i||e.type==="number"?Zo(e.value):e.value,c=t??"";s!==c&&(document.activeElement===e&&e.type!=="range"&&(n||r&&e.value.trim()===c)||(e.value=c))}},t0=Ze({patchProp:Jm},Pm);let gl;function n0(){return gl||(gl=cm(t0))}const qf=(...e)=>{const t=n0().createApp(...e),{mount:n}=t;return t.mount=r=>{const i=i0(r);if(!i)return;const o=t._component;!be(o)&&!o.render&&!o.template&&(o.template=i.innerHTML),i.innerHTML="";const s=n(i,!1,r0(i));return i instanceof Element&&(i.removeAttribute("v-cloak"),i.setAttribute("data-v-app","")),s},t};function r0(e){if(e instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&e instanceof MathMLElement)return"mathml"}function i0(e){return ze(e)?document.querySelector(e):e}var o0=!1;/*!
 * pinia v2.1.7
 * (c) 2023 Eduardo San Martin Morote
 * @license MIT
 */const s0=Symbol();var vl;(function(e){e.direct="direct",e.patchObject="patch object",e.patchFunction="patch function"})(vl||(vl={}));function a0(){const e=Wh(!0),t=e.run(()=>ie({}));let n=[],r=[];const i=Ws({install(o){i._a=o,o.provide(s0,i),o.config.globalProperties.$pinia=i,r.forEach(s=>n.push(s)),r=[]},use(o){return!this._a&&!o0?r.push(o):n.push(o),this},_p:n,_a:null,_e:e,_s:new Map,state:t});return i}function l0(){}const mt=Object.assign,na=typeof window<"u",sr=e=>e!==null&&typeof e=="object",ot=e=>e!=null,Ni=e=>typeof e=="function",Xf=e=>sr(e)&&Ni(e.then)&&Ni(e.catch),Yf=e=>typeof e=="number"||/^\d+(\.\d+)?$/.test(e),u0=()=>na?/ios|iphone|ipad|ipod/.test(navigator.userAgent.toLowerCase()):!1;function yl(e,t){const n=t.split(".");let r=e;return n.forEach(i=>{var o;r=sr(r)&&(o=r[i])!=null?o:""}),r}function hs(e,t,n){return t.reduce((r,i)=>((!n||e[i]!==void 0)&&(r[i]=e[i]),r),{})}const El=(e,t)=>JSON.stringify(e)===JSON.stringify(t),xl=e=>Array.isArray(e)?e:[e],Ft=null,Oe=[Number,String],$e={type:Boolean,default:!0},c0=e=>({type:Number,default:e}),Vt=e=>({type:Oe,default:e}),Ne=e=>({type:String,default:e});var ei=typeof window<"u";function ps(e){return ei?requestAnimationFrame(e):-1}function f0(e){ps(()=>ps(e))}var d0=e=>e===window,bl=(e,t)=>({top:0,left:0,right:e,bottom:t,width:e,height:t}),ms=e=>{const t=xe(e);if(d0(t)){const n=t.innerWidth,r=t.innerHeight;return bl(n,r)}return t!=null&&t.getBoundingClientRect?t.getBoundingClientRect():bl(0,0)};function uo(e){const t=ht(e,null);if(t){const n=xt(),{link:r,unlink:i,internalChildren:o}=t;r(n),Zr(()=>i(n));const s=ye(()=>o.indexOf(n));return{parent:t,index:s}}return{parent:null,index:ie(-1)}}function h0(e){const t=[],n=r=>{Array.isArray(r)&&r.forEach(i=>{var o;er(i)&&(t.push(i),(o=i.component)!=null&&o.subTree&&(t.push(i.component.subTree),n(i.component.subTree.children)),i.children&&n(i.children))})};return n(e),t}var Sl=(e,t)=>{const n=e.indexOf(t);return n===-1?e.findIndex(r=>t.key!==void 0&&t.key!==null&&r.type===t.type&&r.key===t.key):n};function p0(e,t,n){const r=h0(e.subTree.children);n.sort((o,s)=>Sl(r,o.vnode)-Sl(r,s.vnode));const i=n.map(o=>o.proxy);t.sort((o,s)=>{const c=i.indexOf(o),f=i.indexOf(s);return c-f})}function ra(e){const t=Kt([]),n=Kt([]),r=xt();return{children:t,linkChildren:o=>{yn(e,Object.assign({link:f=>{f.proxy&&(n.push(f),t.push(f.proxy),p0(r,t,n))},unlink:f=>{const d=n.indexOf(f);t.splice(d,1),n.splice(d,1)},children:t,internalChildren:n},o))}}}function Jf(e){let t;Et(()=>{e(),dt(()=>{t=!0})}),no(()=>{t&&e()})}function ar(e,t,n={}){if(!ei)return;const{target:r=window,passive:i=!1,capture:o=!1}=n;let s=!1,c;const f=a=>{if(s)return;const l=xe(a);l&&!c&&(l.addEventListener(e,t,{capture:o,passive:i}),c=!0)},d=a=>{if(s)return;const l=xe(a);l&&c&&(l.removeEventListener(e,t,o),c=!1)};Zr(()=>d(r)),Yr(()=>d(r)),Jf(()=>f(r));let u;return ke(r)&&(u=De(r,(a,l)=>{d(l),f(a)})),()=>{u==null||u(),d(r),s=!0}}function m0(e,t,n={}){if(!ei)return;const{eventName:r="click"}=n;ar(r,o=>{(Array.isArray(e)?e:[e]).every(f=>{const d=xe(f);return d&&!d.contains(o.target)})&&t(o)},{target:document})}var hi,jo;function _0(){if(!hi&&(hi=ie(0),jo=ie(0),ei)){const e=()=>{hi.value=window.innerWidth,jo.value=window.innerHeight};e(),window.addEventListener("resize",e,{passive:!0}),window.addEventListener("orientationchange",e,{passive:!0})}return{width:hi,height:jo}}var g0=/scroll|auto|overlay/i,Zf=ei?window:void 0;function v0(e){return e.tagName!=="HTML"&&e.tagName!=="BODY"&&e.nodeType===1}function Qf(e,t=Zf){let n=e;for(;n&&n!==t&&v0(n);){const{overflowY:r}=window.getComputedStyle(n);if(g0.test(r))return n;n=n.parentNode}return t}function y0(e,t=Zf){const n=ie();return Et(()=>{e.value&&(n.value=Qf(e.value,t))}),n}var ed=Symbol("van-field");function td(e){const t=ht(ed,null);t&&!t.customValue.value&&(t.customValue.value=e,De(e,()=>{t.resetValidation(),t.validateWithTrigger("onChange")}))}function E0(e){const t="scrollTop"in e?e.scrollTop:e.pageYOffset;return Math.max(t,0)}function wl(e,t){"scrollTop"in e?e.scrollTop=t:e.scrollTo(e.scrollX,t)}function nd(){return window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0}function rd(e){wl(window,e),wl(document.body,e)}const x0=u0();function b0(){x0&&rd(nd())}const ia=e=>e.stopPropagation();function Yt(e,t){(typeof e.cancelable!="boolean"||e.cancelable)&&e.preventDefault(),t&&ia(e)}const{width:S0,height:w0}=_0();function et(e){if(ot(e))return Yf(e)?`${e}px`:String(e)}function oa(e){if(ot(e)){if(Array.isArray(e))return{width:et(e[0]),height:et(e[1])};const t=et(e);return{width:t,height:t}}}function sa(e){const t={};return e!==void 0&&(t.zIndex=+e),t}const A0=/-(\w)/g,id=e=>e.replace(A0,(t,n)=>n.toUpperCase()),C0=e=>e.replace(/([A-Z])/g,"-$1").toLowerCase().replace(/^-/,""),L0=(e,t,n)=>Math.min(Math.max(e,t),n);function Al(e,t,n){const r=e.indexOf(t);return r===-1?e:t==="-"&&r!==0?e.slice(0,r):e.slice(0,r+1)+e.slice(r).replace(n,"")}function R0(e,t=!0,n=!0){t?e=Al(e,".",/\./g):e=e.split(".")[0],n?e=Al(e,"-",/-/g):e=e.replace(/-/,"");const r=t?/[^-0-9.]/g:/[^-0-9]/g;return e.replace(r,"")}function T0(e,t){return Math.round((e+t)*1e10)/1e10}const{hasOwnProperty:O0}=Object.prototype;function P0(e,t,n){const r=t[n];ot(r)&&(!O0.call(e,n)||!sr(r)?e[n]=r:e[n]=od(Object(e[n]),r))}function od(e,t){return Object.keys(t).forEach(n=>{P0(e,t,n)}),e}var I0={name:"",tel:"",save:"",clear:"",cancel:"",confirm:"",delete:"",loading:"...",noCoupon:"",nameEmpty:"",addContact:"",telInvalid:"",vanCalendar:{end:"",start:"",title:"",weekdays:["","","","","","",""],monthTitle:(e,t)=>`${e}${t}`,rangePrompt:e=>` ${e} `},vanCascader:{select:""},vanPagination:{prev:"",next:""},vanPullRefresh:{pulling:"...",loosing:"..."},vanSubmitBar:{label:":"},vanCoupon:{unlimited:"",discount:e=>`${e}`,condition:e=>`${e}`},vanCouponCell:{title:"",count:e=>`${e}`},vanCouponList:{exchange:"",close:"",enable:"",disabled:"",placeholder:""},vanAddressEdit:{area:"",areaEmpty:"",addressEmpty:"",addressDetail:"",defaultAddress:""},vanAddressList:{add:""}};const Cl=ie("zh-CN"),Ll=Kt({"zh-CN":I0}),F0={messages(){return Ll[Cl.value]},use(e,t){Cl.value=e,this.add({[e]:t})},add(e={}){od(Ll,e)}};var B0=F0;function D0(e){const t=id(e)+".";return(n,...r)=>{const i=B0.messages(),o=yl(i,t+n)||yl(i,n);return Ni(o)?o(...r):o}}function _s(e,t){return t?typeof t=="string"?` ${e}--${t}`:Array.isArray(t)?t.reduce((n,r)=>n+_s(e,r),""):Object.keys(t).reduce((n,r)=>n+(t[r]?_s(e,r):""),""):""}function M0(e){return(t,n)=>(t&&typeof t!="string"&&(n=t,t=""),t=t?`${e}__${t}`:e,`${t}${_s(t,n)}`)}function We(e){const t=`van-${e}`;return[t,M0(t),D0(t)]}const co="van-hairline",k0=`${co}--top`,N0=`${co}--surround`,aa=`${co}--top-bottom`,la="van-haptics-feedback",j0=Symbol("van-form"),Rl=5;function sd(e,{args:t=[],done:n,canceled:r,error:i}){if(e){const o=e.apply(null,t);Xf(o)?o.then(s=>{s?n():r&&r()}).catch(i||l0):o?n():r&&r()}else n()}function Ge(e){return e.install=t=>{const{name:n}=e;n&&(t.component(n,e),t.component(id(`-${n}`),e))},e}const ad=Symbol();function U0(e){const t=ht(ad,null);t&&De(t,n=>{n&&e()})}const V0=(e,t)=>{const n=ie(),r=()=>{n.value=ms(e).height};return Et(()=>{if(dt(r),t)for(let i=1;i<=3;i++)setTimeout(r,100*i)}),U0(()=>dt(r)),De([S0,w0],r),n};function H0(e,t){const n=V0(e,!0);return r=>B("div",{class:t("placeholder"),style:{height:n.value?`${n.value}px`:void 0}},[r()])}function ti(e){const t=xt();t&&mt(t.proxy,e)}const fo={to:[String,Object],url:String,replace:Boolean};function K0({to:e,url:t,replace:n,$router:r}){e&&r?r[n?"replace":"push"](e):t&&(n?location.replace(t):location.href=t)}function ho(){const e=xt().proxy;return()=>K0(e)}const[W0,Tl]=We("badge"),z0={dot:Boolean,max:Oe,tag:Ne("div"),color:String,offset:Array,content:Oe,showZero:$e,position:Ne("top-right")};var G0=Le({name:W0,props:z0,setup(e,{slots:t}){const n=()=>{if(t.content)return!0;const{content:c,showZero:f}=e;return ot(c)&&c!==""&&(f||c!==0&&c!=="0")},r=()=>{const{dot:c,max:f,content:d}=e;if(!c&&n())return t.content?t.content():ot(f)&&Yf(d)&&+d>+f?`${f}+`:d},i=c=>c.startsWith("-")?c.replace("-",""):`-${c}`,o=ye(()=>{const c={background:e.color};if(e.offset){const[f,d]=e.offset,{position:u}=e,[a,l]=u.split("-");t.default?(typeof d=="number"?c[a]=et(a==="top"?d:-d):c[a]=a==="top"?et(d):i(d),typeof f=="number"?c[l]=et(l==="left"?f:-f):c[l]=l==="left"?et(f):i(f)):(c.marginTop=et(d),c.marginLeft=et(f))}return c}),s=()=>{if(n()||e.dot)return B("div",{class:Tl([e.position,{dot:e.dot,fixed:!!t.default}]),style:o.value},[r()])};return()=>{if(t.default){const{tag:c}=e;return B(c,{class:Tl("wrapper")},{default:()=>[t.default(),s()]})}return s()}}});const ua=Ge(G0);let ld=2e3;const $0=()=>++ld,q0=e=>{ld=e},[ud,X0]=We("config-provider"),cd=Symbol(ud),Y0={tag:Ne("div"),theme:Ne("light"),zIndex:Number,themeVars:Object,themeVarsDark:Object,themeVarsLight:Object,themeVarsScope:Ne("local"),iconPrefix:String};function J0(e){return e.replace(/([a-zA-Z])(\d)/g,"$1-$2")}function Z0(e){const t={};return Object.keys(e).forEach(n=>{const r=J0(C0(n));t[`--van-${r}`]=e[n]}),t}function pi(e={},t={}){Object.keys(e).forEach(n=>{e[n]!==t[n]&&document.documentElement.style.setProperty(n,e[n])}),Object.keys(t).forEach(n=>{e[n]||document.documentElement.style.removeProperty(n)})}var Q0=Le({name:ud,props:Y0,setup(e,{slots:t}){const n=ye(()=>Z0(mt({},e.themeVars,e.theme==="dark"?e.themeVarsDark:e.themeVarsLight)));if(na){const r=()=>{document.documentElement.classList.add(`van-theme-${e.theme}`)},i=(o=e.theme)=>{document.documentElement.classList.remove(`van-theme-${o}`)};De(()=>e.theme,(o,s)=>{s&&i(s),r()},{immediate:!0}),no(r),Yr(i),Jr(i),De(n,(o,s)=>{e.themeVarsScope==="global"&&pi(o,s)}),De(()=>e.themeVarsScope,(o,s)=>{s==="global"&&pi({},n.value),o==="global"&&pi(n.value,{})}),e.themeVarsScope==="global"&&pi(n.value,{})}return yn(cd,e),Sf(()=>{e.zIndex!==void 0&&q0(e.zIndex)}),()=>B(e.tag,{class:X0(),style:e.themeVarsScope==="local"?n.value:void 0},{default:()=>{var r;return[(r=t.default)==null?void 0:r.call(t)]}})}});const[e_,Ol]=We("icon"),t_=e=>e==null?void 0:e.includes("/"),n_={dot:Boolean,tag:Ne("i"),name:String,size:Oe,badge:Oe,color:String,badgeProps:Object,classPrefix:String};var r_=Le({name:e_,props:n_,setup(e,{slots:t}){const n=ht(cd,null),r=ye(()=>e.classPrefix||(n==null?void 0:n.iconPrefix)||Ol());return()=>{const{tag:i,dot:o,name:s,size:c,badge:f,color:d}=e,u=t_(s);return B(ua,Tt({dot:o,tag:i,class:[r.value,u?"":`${r.value}-${s}`],style:{color:d,fontSize:et(c)},content:f},e.badgeProps),{default:()=>{var a;return[(a=t.default)==null?void 0:a.call(t),u&&B("img",{class:Ol("image"),src:s},null)]}})}}});const Bt=Ge(r_),[i_,Or]=We("loading"),o_=Array(12).fill(null).map((e,t)=>B("i",{class:Or("line",String(t+1))},null)),s_=B("svg",{class:Or("circular"),viewBox:"25 25 50 50"},[B("circle",{cx:"50",cy:"50",r:"20",fill:"none"},null)]),a_={size:Oe,type:Ne("circular"),color:String,vertical:Boolean,textSize:Oe,textColor:String};var l_=Le({name:i_,props:a_,setup(e,{slots:t}){const n=ye(()=>mt({color:e.color},oa(e.size))),r=()=>{const o=e.type==="spinner"?o_:s_;return B("span",{class:Or("spinner",e.type),style:n.value},[t.icon?t.icon():o])},i=()=>{var o;if(t.default)return B("span",{class:Or("text"),style:{fontSize:et(e.textSize),color:(o=e.textColor)!=null?o:e.color}},[t.default()])};return()=>{const{type:o,vertical:s}=e;return B("div",{class:Or([o,{vertical:s}]),"aria-live":"polite","aria-busy":!0},[r(),i()])}}});const ni=Ge(l_),[u_,Mn]=We("button"),c_=mt({},fo,{tag:Ne("button"),text:String,icon:String,type:Ne("default"),size:Ne("normal"),color:String,block:Boolean,plain:Boolean,round:Boolean,square:Boolean,loading:Boolean,hairline:Boolean,disabled:Boolean,iconPrefix:String,nativeType:Ne("button"),loadingSize:Oe,loadingText:String,loadingType:String,iconPosition:Ne("left")});var f_=Le({name:u_,props:c_,emits:["click"],setup(e,{emit:t,slots:n}){const r=ho(),i=()=>n.loading?n.loading():B(ni,{size:e.loadingSize,type:e.loadingType,class:Mn("loading")},null),o=()=>{if(e.loading)return i();if(n.icon)return B("div",{class:Mn("icon")},[n.icon()]);if(e.icon)return B(Bt,{name:e.icon,class:Mn("icon"),classPrefix:e.iconPrefix},null)},s=()=>{let d;if(e.loading?d=e.loadingText:d=n.default?n.default():e.text,d)return B("span",{class:Mn("text")},[d])},c=()=>{const{color:d,plain:u}=e;if(d){const a={color:u?d:"white"};return u||(a.background=d),d.includes("gradient")?a.border=0:a.borderColor=d,a}},f=d=>{e.loading?Yt(d):e.disabled||(t("click",d),r())};return()=>{const{tag:d,type:u,size:a,block:l,round:h,plain:g,square:E,loading:y,disabled:m,hairline:_,nativeType:x,iconPosition:p}=e,v=[Mn([u,a,{plain:g,block:l,round:h,square:E,loading:y,disabled:m,hairline:_}]),{[N0]:_}];return B(d,{type:x,class:v,style:c(),disabled:m,onClick:f},{default:()=>[B("div",{class:Mn("content")},[p==="left"&&o(),s(),p==="right"&&o()])]})}}});const fd=Ge(f_),d_={show:Boolean,zIndex:Oe,overlay:$e,duration:Oe,teleport:[String,Object],lockScroll:$e,lazyRender:$e,beforeClose:Function,overlayStyle:Object,overlayClass:Ft,transitionAppear:Boolean,closeOnClickOverlay:$e};function h_(e,t){return e>t?"horizontal":t>e?"vertical":""}function po(){const e=ie(0),t=ie(0),n=ie(0),r=ie(0),i=ie(0),o=ie(0),s=ie(""),c=ie(!0),f=()=>s.value==="vertical",d=()=>s.value==="horizontal",u=()=>{n.value=0,r.value=0,i.value=0,o.value=0,s.value="",c.value=!0};return{move:h=>{const g=h.touches[0];n.value=(g.clientX<0?0:g.clientX)-e.value,r.value=g.clientY-t.value,i.value=Math.abs(n.value),o.value=Math.abs(r.value);const E=10;(!s.value||i.value<E&&o.value<E)&&(s.value=h_(i.value,o.value)),c.value&&(i.value>Rl||o.value>Rl)&&(c.value=!1)},start:h=>{u(),e.value=h.touches[0].clientX,t.value=h.touches[0].clientY},reset:u,startX:e,startY:t,deltaX:n,deltaY:r,offsetX:i,offsetY:o,direction:s,isVertical:f,isHorizontal:d,isTap:c}}let _r=0;const Pl="van-overflow-hidden";function p_(e,t){const n=po(),r="01",i="10",o=u=>{n.move(u);const a=n.deltaY.value>0?i:r,l=Qf(u.target,e.value),{scrollHeight:h,offsetHeight:g,scrollTop:E}=l;let y="11";E===0?y=g>=h?"00":"01":E+g>=h&&(y="10"),y!=="11"&&n.isVertical()&&!(parseInt(y,2)&parseInt(a,2))&&Yt(u,!0)},s=()=>{document.addEventListener("touchstart",n.start),document.addEventListener("touchmove",o,{passive:!1}),_r||document.body.classList.add(Pl),_r++},c=()=>{_r&&(document.removeEventListener("touchstart",n.start),document.removeEventListener("touchmove",o),_r--,_r||document.body.classList.remove(Pl))},f=()=>t()&&s(),d=()=>t()&&c();Jf(f),Yr(d),Jr(d),De(t,u=>{u?s():c()})}function ca(e){const t=ie(!1);return De(e,n=>{n&&(t.value=n)},{immediate:!0}),n=>()=>t.value?n():null}const gs=()=>{var e;const{scopeId:t}=((e=xt())==null?void 0:e.vnode)||{};return t?{[t]:""}:null},[m_,__]=We("overlay"),g_={show:Boolean,zIndex:Oe,duration:Oe,className:Ft,lockScroll:$e,lazyRender:$e,customStyle:Object};var v_=Le({name:m_,props:g_,setup(e,{slots:t}){const n=ie(),r=ca(()=>e.show||!e.lazyRender),i=s=>{e.lockScroll&&Yt(s,!0)},o=r(()=>{var s;const c=mt(sa(e.zIndex),e.customStyle);return ot(e.duration)&&(c.animationDuration=`${e.duration}s`),Xr(B("div",{ref:n,style:c,class:[__(),e.className]},[(s=t.default)==null?void 0:s.call(t)]),[[lo,e.show]])});return ar("touchmove",i,{target:n}),()=>B(Bn,{name:"van-fade",appear:!0},{default:o})}});const y_=Ge(v_),E_=mt({},d_,{round:Boolean,position:Ne("center"),closeIcon:Ne("cross"),closeable:Boolean,transition:String,iconPrefix:String,closeOnPopstate:Boolean,closeIconPosition:Ne("top-right"),safeAreaInsetTop:Boolean,safeAreaInsetBottom:Boolean}),[x_,Il]=We("popup");var b_=Le({name:x_,inheritAttrs:!1,props:E_,emits:["open","close","opened","closed","keydown","update:show","clickOverlay","clickCloseIcon"],setup(e,{emit:t,attrs:n,slots:r}){let i,o;const s=ie(),c=ie(),f=ca(()=>e.show||!e.lazyRender),d=ye(()=>{const b={zIndex:s.value};if(ot(e.duration)){const w=e.position==="center"?"animationDuration":"transitionDuration";b[w]=`${e.duration}s`}return b}),u=()=>{i||(i=!0,s.value=e.zIndex!==void 0?+e.zIndex:$0(),t("open"))},a=()=>{i&&sd(e.beforeClose,{done(){i=!1,t("close"),t("update:show",!1)}})},l=b=>{t("clickOverlay",b),e.closeOnClickOverlay&&a()},h=()=>{if(e.overlay)return B(y_,Tt({show:e.show,class:e.overlayClass,zIndex:s.value,duration:e.duration,customStyle:e.overlayStyle,role:e.closeOnClickOverlay?"button":void 0,tabindex:e.closeOnClickOverlay?0:void 0},gs(),{onClick:l}),{default:r["overlay-content"]})},g=b=>{t("clickCloseIcon",b),a()},E=()=>{if(e.closeable)return B(Bt,{role:"button",tabindex:0,name:e.closeIcon,class:[Il("close-icon",e.closeIconPosition),la],classPrefix:e.iconPrefix,onClick:g},null)};let y;const m=()=>{y&&clearTimeout(y),y=setTimeout(()=>{t("opened")})},_=()=>t("closed"),x=b=>t("keydown",b),p=f(()=>{var b;const{round:w,position:A,safeAreaInsetTop:T,safeAreaInsetBottom:P}=e;return Xr(B("div",Tt({ref:c,style:d.value,role:"dialog",tabindex:0,class:[Il({round:w,[A]:A}),{"van-safe-area-top":T,"van-safe-area-bottom":P}],onKeydown:x},n,gs()),[(b=r.default)==null?void 0:b.call(r),E()]),[[lo,e.show]])}),v=()=>{const{position:b,transition:w,transitionAppear:A}=e,T=b==="center"?"van-fade":`van-popup-slide-${b}`;return B(Bn,{name:w||T,appear:A,onAfterEnter:m,onAfterLeave:_},{default:p})};return De(()=>e.show,b=>{b&&!i&&(u(),n.tabindex===0&&dt(()=>{var w;(w=c.value)==null||w.focus()})),!b&&i&&(i=!1,t("close"))}),ti({popupRef:c}),p_(c,()=>e.show&&e.lockScroll),ar("popstate",()=>{e.closeOnPopstate&&(a(),o=!1)}),Et(()=>{e.show&&u()}),no(()=>{o&&(t("update:show",!0),o=!1)}),Yr(()=>{e.show&&e.teleport&&(a(),o=!0)}),yn(ad,()=>e.show),()=>e.teleport?B(Uf,{to:e.teleport},{default:()=>[h(),v()]}):B(Qe,null,[h(),v()])}});const dd=Ge(b_);let S_=0;function hd(){const e=xt(),{name:t="unknown"}=(e==null?void 0:e.type)||{};return`${t}-${++S_}`}const[w_,kn]=We("cell"),mo={tag:Ne("div"),icon:String,size:String,title:Oe,value:Oe,label:Oe,center:Boolean,isLink:Boolean,border:$e,iconPrefix:String,valueClass:Ft,labelClass:Ft,titleClass:Ft,titleStyle:null,arrowDirection:String,required:{type:[Boolean,String],default:null},clickable:{type:Boolean,default:null}},A_=mt({},mo,fo);var C_=Le({name:w_,props:A_,setup(e,{slots:t}){const n=ho(),r=()=>{if(t.label||ot(e.label))return B("div",{class:[kn("label"),e.labelClass]},[t.label?t.label():e.label])},i=()=>{var f;if(t.title||ot(e.title)){const d=(f=t.title)==null?void 0:f.call(t);return Array.isArray(d)&&d.length===0?void 0:B("div",{class:[kn("title"),e.titleClass],style:e.titleStyle},[d||B("span",null,[e.title]),r()])}},o=()=>{const f=t.value||t.default;if(f||ot(e.value))return B("div",{class:[kn("value"),e.valueClass]},[f?f():B("span",null,[e.value])])},s=()=>{if(t.icon)return t.icon();if(e.icon)return B(Bt,{name:e.icon,class:kn("left-icon"),classPrefix:e.iconPrefix},null)},c=()=>{if(t["right-icon"])return t["right-icon"]();if(e.isLink){const f=e.arrowDirection&&e.arrowDirection!=="right"?`arrow-${e.arrowDirection}`:"arrow";return B(Bt,{name:f,class:kn("right-icon")},null)}};return()=>{var f;const{tag:d,size:u,center:a,border:l,isLink:h,required:g}=e,E=(f=e.clickable)!=null?f:h,y={center:a,required:!!g,clickable:E,borderless:!l};return u&&(y[u]=!!u),B(d,{class:kn(y),role:E?"button":void 0,tabindex:E?0:void 0,onClick:n},{default:()=>{var m;return[s(),i(),o(),c(),(m=t.extra)==null?void 0:m.call(t)]}})}}});const lr=Ge(C_);function pd(e){return Array.isArray(e)?!e.length:e===0?!1:!e}function L_(e,t){if(pd(e)){if(t.required)return!1;if(t.validateEmpty===!1)return!0}return!(t.pattern&&!t.pattern.test(String(e)))}function R_(e,t){return new Promise(n=>{const r=t.validator(e,t);if(Xf(r)){r.then(n);return}n(r)})}function Fl(e,t){const{message:n}=t;return Ni(n)?n(e,t):n||""}function T_({target:e}){e.composing=!0}function Bl({target:e}){e.composing&&(e.composing=!1,e.dispatchEvent(new Event("input")))}function O_(e,t){const n=nd();e.style.height="auto";let r=e.scrollHeight;if(sr(t)){const{maxHeight:i,minHeight:o}=t;i!==void 0&&(r=Math.min(r,i)),o!==void 0&&(r=Math.max(r,o))}r&&(e.style.height=`${r}px`,rd(n))}function P_(e){return e==="number"?{type:"text",inputmode:"decimal"}:e==="digit"?{type:"tel",inputmode:"numeric"}:{type:e}}function zt(e){return[...e].length}function Uo(e,t){return[...e].slice(0,t).join("")}const[I_,St]=We("field"),F_={id:String,name:String,leftIcon:String,rightIcon:String,autofocus:Boolean,clearable:Boolean,maxlength:Oe,formatter:Function,clearIcon:Ne("clear"),modelValue:Vt(""),inputAlign:String,placeholder:String,autocomplete:String,autocapitalize:String,autocorrect:String,errorMessage:String,enterkeyhint:String,clearTrigger:Ne("focus"),formatTrigger:Ne("onChange"),spellcheck:{type:Boolean,default:null},error:{type:Boolean,default:null},disabled:{type:Boolean,default:null},readonly:{type:Boolean,default:null}},B_=mt({},mo,F_,{rows:Oe,type:Ne("text"),rules:Array,autosize:[Boolean,Object],labelWidth:Oe,labelClass:Ft,labelAlign:String,showWordLimit:Boolean,errorMessageAlign:String,colon:{type:Boolean,default:null}});var D_=Le({name:I_,props:B_,emits:["blur","focus","clear","keypress","clickInput","endValidate","startValidate","clickLeftIcon","clickRightIcon","update:modelValue"],setup(e,{emit:t,slots:n}){const r=hd(),i=Kt({status:"unvalidated",focused:!1,validateMessage:""}),o=ie(),s=ie(),c=ie(),{parent:f}=uo(j0),d=()=>{var F;return String((F=e.modelValue)!=null?F:"")},u=F=>{if(ot(e[F]))return e[F];if(f&&ot(f.props[F]))return f.props[F]},a=ye(()=>{const F=u("readonly");if(e.clearable&&!F){const W=d()!=="",V=e.clearTrigger==="always"||e.clearTrigger==="focus"&&i.focused;return W&&V}return!1}),l=ye(()=>c.value&&n.input?c.value():e.modelValue),h=ye(()=>{var F;const W=u("required");return W==="auto"?(F=e.rules)==null?void 0:F.some(V=>V.required):W}),g=F=>F.reduce((W,V)=>W.then(()=>{if(i.status==="failed")return;let{value:G}=l;if(V.formatter&&(G=V.formatter(G,V)),!L_(G,V)){i.status="failed",i.validateMessage=Fl(G,V);return}if(V.validator)return pd(G)&&V.validateEmpty===!1?void 0:R_(G,V).then(le=>{le&&typeof le=="string"?(i.status="failed",i.validateMessage=le):le===!1&&(i.status="failed",i.validateMessage=Fl(G,V))})}),Promise.resolve()),E=()=>{i.status="unvalidated",i.validateMessage=""},y=()=>t("endValidate",{status:i.status,message:i.validateMessage}),m=(F=e.rules)=>new Promise(W=>{E(),F?(t("startValidate"),g(F).then(()=>{i.status==="failed"?(W({name:e.name,message:i.validateMessage}),y()):(i.status="passed",W(),y())})):W()}),_=F=>{if(f&&e.rules){const{validateTrigger:W}=f.props,V=xl(W).includes(F),G=e.rules.filter(le=>le.trigger?xl(le.trigger).includes(F):V);G.length&&m(G)}},x=F=>{var W;const{maxlength:V}=e;if(ot(V)&&zt(F)>+V){const G=d();if(G&&zt(G)===+V)return G;const le=(W=o.value)==null?void 0:W.selectionEnd;if(i.focused&&le){const re=[...F],L=re.length-+V;return re.splice(le-L,L),re.join("")}return Uo(F,+V)}return F},p=(F,W="onChange")=>{const V=F;F=x(F);const G=zt(V)-zt(F);if(e.type==="number"||e.type==="digit"){const re=e.type==="number";F=R0(F,re,re)}let le=0;if(e.formatter&&W===e.formatTrigger){const{formatter:re,maxlength:L}=e;if(F=re(F),ot(L)&&zt(F)>+L&&(F=Uo(F,+L)),o.value&&i.focused){const{selectionEnd:I}=o.value,k=Uo(V,I);le=zt(re(k))-zt(k)}}if(o.value&&o.value.value!==F)if(i.focused){let{selectionStart:re,selectionEnd:L}=o.value;if(o.value.value=F,ot(re)&&ot(L)){const I=zt(F);G?(re-=G,L-=G):le&&(re+=le,L+=le),o.value.setSelectionRange(Math.min(re,I),Math.min(L,I))}}else o.value.value=F;F!==e.modelValue&&t("update:modelValue",F)},v=F=>{F.target.composing||p(F.target.value)},b=()=>{var F;return(F=o.value)==null?void 0:F.blur()},w=()=>{var F;return(F=o.value)==null?void 0:F.focus()},A=()=>{const F=o.value;e.type==="textarea"&&e.autosize&&F&&O_(F,e.autosize)},T=F=>{i.focused=!0,t("focus",F),dt(A),u("readonly")&&b()},P=F=>{i.focused=!1,p(d(),"onBlur"),t("blur",F),!u("readonly")&&(_("onBlur"),dt(A),b0())},R=F=>t("clickInput",F),C=F=>t("clickLeftIcon",F),O=F=>t("clickRightIcon",F),D=F=>{Yt(F),t("update:modelValue",""),t("clear",F)},N=ye(()=>{if(typeof e.error=="boolean")return e.error;if(f&&f.props.showError&&i.status==="failed")return!0}),M=ye(()=>{const F=u("labelWidth"),W=u("labelAlign");if(F&&W!=="top")return{width:et(F)}}),U=F=>{F.keyCode===13&&(!(f&&f.props.submitOnEnter)&&e.type!=="textarea"&&Yt(F),e.type==="search"&&b()),t("keypress",F)},Q=()=>e.id||`${r}-input`,oe=()=>i.status,ne=()=>{const F=St("control",[u("inputAlign"),{error:N.value,custom:!!n.input,"min-height":e.type==="textarea"&&!e.autosize}]);if(n.input)return B("div",{class:F,onClick:R},[n.input()]);const W={id:Q(),ref:o,name:e.name,rows:e.rows!==void 0?+e.rows:void 0,class:F,disabled:u("disabled"),readonly:u("readonly"),autofocus:e.autofocus,placeholder:e.placeholder,autocomplete:e.autocomplete,autocapitalize:e.autocapitalize,autocorrect:e.autocorrect,enterkeyhint:e.enterkeyhint,spellcheck:e.spellcheck,"aria-labelledby":e.label?`${r}-label`:void 0,onBlur:P,onFocus:T,onInput:v,onClick:R,onChange:Bl,onKeypress:U,onCompositionend:Bl,onCompositionstart:T_};return e.type==="textarea"?B("textarea",W,null):B("input",Tt(P_(e.type),W),null)},de=()=>{const F=n["left-icon"];if(e.leftIcon||F)return B("div",{class:St("left-icon"),onClick:C},[F?F():B(Bt,{name:e.leftIcon,classPrefix:e.iconPrefix},null)])},he=()=>{const F=n["right-icon"];if(e.rightIcon||F)return B("div",{class:St("right-icon"),onClick:O},[F?F():B(Bt,{name:e.rightIcon,classPrefix:e.iconPrefix},null)])},se=()=>{if(e.showWordLimit&&e.maxlength){const F=zt(d());return B("div",{class:St("word-limit")},[B("span",{class:St("word-num")},[F]),Ut("/"),e.maxlength])}},ae=()=>{if(f&&f.props.showErrorMessage===!1)return;const F=e.errorMessage||i.validateMessage;if(F){const W=n["error-message"],V=u("errorMessageAlign");return B("div",{class:St("error-message",V)},[W?W({message:F}):F])}},je=()=>{const F=u("labelWidth"),W=u("labelAlign"),V=u("colon")?":":"";if(n.label)return[n.label(),V];if(e.label)return B("label",{id:`${r}-label`,for:n.input?void 0:Q(),onClick:G=>{Yt(G),w()},style:W==="top"&&F?{width:et(F)}:void 0},[e.label+V])},ve=()=>[B("div",{class:St("body")},[ne(),a.value&&B(Bt,{ref:s,name:e.clearIcon,class:St("clear")},null),he(),n.button&&B("div",{class:St("button")},[n.button()])]),se(),ae()];return ti({blur:b,focus:w,validate:m,formValue:l,resetValidation:E,getValidationStatus:oe}),yn(ed,{customValue:c,resetValidation:E,validateWithTrigger:_}),De(()=>e.modelValue,()=>{p(d()),E(),_("onChange"),dt(A)}),Et(()=>{p(d(),e.formatTrigger),dt(A)}),ar("touchstart",D,{target:ye(()=>{var F;return(F=s.value)==null?void 0:F.$el})}),()=>{const F=u("disabled"),W=u("labelAlign"),V=de(),G=()=>{const le=je();return W==="top"?[V,le].filter(Boolean):le||[]};return B(lr,{size:e.size,class:St({error:N.value,disabled:F,[`label-${W}`]:W}),center:e.center,border:e.border,isLink:e.isLink,clickable:e.clickable,titleStyle:M.value,valueClass:St("value"),titleClass:[St("label",[W,{required:h.value}]),e.labelClass],arrowDirection:e.arrowDirection},{icon:V&&W!=="top"?()=>V:null,title:G,value:ve,extra:n.extra})}}});const M_=Ge(D_);let gr=0;function k_(e){e?(gr||document.body.classList.add("van-toast--unclickable"),gr++):gr&&(gr--,gr||document.body.classList.remove("van-toast--unclickable"))}const[N_,Nn]=We("toast"),j_=["show","overlay","teleport","transition","overlayClass","overlayStyle","closeOnClickOverlay","zIndex"],U_={icon:String,show:Boolean,type:Ne("text"),overlay:Boolean,message:Oe,iconSize:Oe,duration:c0(2e3),position:Ne("middle"),teleport:[String,Object],wordBreak:String,className:Ft,iconPrefix:String,transition:Ne("van-fade"),loadingType:String,forbidClick:Boolean,overlayClass:Ft,overlayStyle:Object,closeOnClick:Boolean,closeOnClickOverlay:Boolean,zIndex:Oe};var md=Le({name:N_,props:U_,emits:["update:show"],setup(e,{emit:t,slots:n}){let r,i=!1;const o=()=>{const a=e.show&&e.forbidClick;i!==a&&(i=a,k_(i))},s=a=>t("update:show",a),c=()=>{e.closeOnClick&&s(!1)},f=()=>clearTimeout(r),d=()=>{const{icon:a,type:l,iconSize:h,iconPrefix:g,loadingType:E}=e;if(a||l==="success"||l==="fail")return B(Bt,{name:a||l,size:h,class:Nn("icon"),classPrefix:g},null);if(l==="loading")return B(ni,{class:Nn("loading"),size:h,type:E},null)},u=()=>{const{type:a,message:l}=e;if(n.message)return B("div",{class:Nn("text")},[n.message()]);if(ot(l)&&l!=="")return a==="html"?B("div",{key:0,class:Nn("text"),innerHTML:String(l)},null):B("div",{class:Nn("text")},[l])};return De(()=>[e.show,e.forbidClick],o),De(()=>[e.show,e.type,e.message,e.duration],()=>{f(),e.show&&e.duration>0&&(r=setTimeout(()=>{s(!1)},e.duration))}),Et(o),Zr(o),()=>B(dd,Tt({class:[Nn([e.position,e.wordBreak==="normal"?"break-normal":e.wordBreak,{[e.type]:!e.icon}]),e.className],lockScroll:!1,onClick:c,onClosed:f,"onUpdate:show":s},hs(e,j_)),{default:()=>[d(),u()]})}});function V_(){const e=Kt({show:!1}),t=i=>{e.show=i},n=i=>{mt(e,i,{transitionAppear:!0}),t(!0)},r=()=>t(!1);return ti({open:n,close:r,toggle:t}),{open:n,close:r,state:e,toggle:t}}function H_(e){const t=qf(e),n=document.createElement("div");return document.body.appendChild(n),{instance:t.mount(n),unmount(){t.unmount(),document.body.removeChild(n)}}}const K_={icon:"",type:"text",message:"",className:"",overlay:!1,onClose:void 0,onOpened:void 0,duration:2e3,teleport:"body",iconSize:void 0,iconPrefix:void 0,position:"middle",transition:"van-fade",forbidClick:!1,loadingType:void 0,overlayClass:"",overlayStyle:void 0,closeOnClick:!1,closeOnClickOverlay:!1};let mi=[],W_=!1,Dl=mt({},K_);const z_=new Map;function G_(e){return sr(e)?e:{message:e}}function $_(){const{instance:e,unmount:t}=H_({setup(){const n=ie(""),{open:r,state:i,close:o,toggle:s}=V_(),c=()=>{},f=()=>B(md,Tt(i,{onClosed:c,"onUpdate:show":s}),null);return De(n,d=>{i.message=d}),xt().render=f,{open:r,close:o,message:n}}});return e}function q_(){if(!mi.length||W_){const e=$_();mi.push(e)}return mi[mi.length-1]}function X_(e={}){if(!na)return{};const t=q_(),n=G_(e);return t.open(mt({},Dl,z_.get(n.type||Dl.type),n)),t}Ge(md);const[Y_,Vo]=We("switch"),J_={size:Oe,loading:Boolean,disabled:Boolean,modelValue:Ft,activeColor:String,inactiveColor:String,activeValue:{type:Ft,default:!0},inactiveValue:{type:Ft,default:!1}};var Z_=Le({name:Y_,props:J_,emits:["change","update:modelValue"],setup(e,{emit:t,slots:n}){const r=()=>e.modelValue===e.activeValue,i=()=>{if(!e.disabled&&!e.loading){const s=r()?e.inactiveValue:e.activeValue;t("update:modelValue",s),t("change",s)}},o=()=>{if(e.loading){const s=r()?e.activeColor:e.inactiveColor;return B(ni,{class:Vo("loading"),color:s},null)}if(n.node)return n.node()};return td(()=>e.modelValue),()=>{var s;const{size:c,loading:f,disabled:d,activeColor:u,inactiveColor:a}=e,l=r(),h={fontSize:et(c),backgroundColor:l?u:a};return B("div",{role:"switch",class:Vo({on:l,loading:f,disabled:d}),style:h,tabindex:d?void 0:0,"aria-checked":l,onClick:i},[B("div",{class:Vo("node")},[o()]),(s=n.background)==null?void 0:s.call(n)])}}});const _d=Ge(Z_),[Q_,Ml]=We("tag"),eg={size:String,mark:Boolean,show:$e,type:Ne("default"),color:String,plain:Boolean,round:Boolean,textColor:String,closeable:Boolean};var tg=Le({name:Q_,props:eg,emits:["close"],setup(e,{slots:t,emit:n}){const r=s=>{s.stopPropagation(),n("close",s)},i=()=>e.plain?{color:e.textColor||e.color,borderColor:e.color}:{color:e.textColor,background:e.color},o=()=>{var s;const{type:c,mark:f,plain:d,round:u,size:a,closeable:l}=e,h={mark:f,plain:d,round:u};a&&(h[a]=a);const g=l&&B(Bt,{name:"cross",class:[Ml("close"),la],onClick:r},null);return B("span",{style:i(),class:Ml([h,c])},[(s=t.default)==null?void 0:s.call(t),g])};return()=>B(Bn,{name:e.closeable?"van-fade":void 0},{default:()=>[e.show?o():null]})}});const gd=Ge(tg),[ng,kl]=We("cell-group"),rg={title:String,inset:Boolean,border:$e};var ig=Le({name:ng,inheritAttrs:!1,props:rg,setup(e,{slots:t,attrs:n}){const r=()=>{var o;return B("div",Tt({class:[kl({inset:e.inset}),{[aa]:e.border&&!e.inset}]},n,gs()),[(o=t.default)==null?void 0:o.call(t)])},i=()=>B("div",{class:kl("title",{inset:e.inset})},[t.title?t.title():e.title]);return()=>e.title||t.title?B(Qe,null,[i(),r()]):r()}});const ri=Ge(ig),[vd,og]=We("collapse"),yd=Symbol(vd),sg={border:$e,accordion:Boolean,modelValue:{type:[String,Number,Array],default:""}};var ag=Le({name:vd,props:sg,emits:["change","update:modelValue"],setup(e,{emit:t,slots:n}){const{linkChildren:r,children:i}=ra(yd),o=d=>{t("change",d),t("update:modelValue",d)},s=(d,u)=>{const{accordion:a,modelValue:l}=e;o(a?d===l?"":d:u?l.concat(d):l.filter(h=>h!==d))},c=(d={})=>{if(e.accordion)return;typeof d=="boolean"&&(d={expanded:d});const{expanded:u,skipDisabled:a}=d,h=i.filter(g=>g.disabled&&a?g.expanded.value:u??!g.expanded.value).map(g=>g.itemName.value);o(h)},f=d=>{const{accordion:u,modelValue:a}=e;return u?a===d:a.includes(d)};return ti({toggleAll:c}),r({toggle:s,isExpanded:f}),()=>{var d;return B("div",{class:[og(),{[aa]:e.border}]},[(d=n.default)==null?void 0:d.call(n)])}}});const lg=Ge(ag),[ug,_i]=We("collapse-item"),cg=["icon","title","value","label","right-icon"],fg=mt({},mo,{name:Oe,isLink:$e,disabled:Boolean,readonly:Boolean,lazyRender:$e});var dg=Le({name:ug,props:fg,setup(e,{slots:t}){const n=ie(),r=ie(),{parent:i,index:o}=uo(yd);if(!i)return;const s=ye(()=>{var E;return(E=e.name)!=null?E:o.value}),c=ye(()=>i.isExpanded(s.value)),f=ie(c.value),d=ca(()=>f.value||!e.lazyRender),u=()=>{c.value?n.value&&(n.value.style.height=""):f.value=!1};De(c,(E,y)=>{if(y===null)return;E&&(f.value=!0),(E?dt:ps)(()=>{if(!r.value||!n.value)return;const{offsetHeight:_}=r.value;if(_){const x=`${_}px`;n.value.style.height=E?"0":x,f0(()=>{n.value&&(n.value.style.height=E?x:"0")})}else u()})});const a=(E=!c.value)=>{i.toggle(s.value,E)},l=()=>{!e.disabled&&!e.readonly&&a()},h=()=>{const{border:E,disabled:y,readonly:m}=e,_=hs(e,Object.keys(mo));return m&&(_.isLink=!1),(y||m)&&(_.clickable=!1),B(lr,Tt({role:"button",class:_i("title",{disabled:y,expanded:c.value,borderless:!E}),"aria-expanded":String(c.value),onClick:l},_),hs(t,cg))},g=d(()=>{var E;return Xr(B("div",{ref:n,class:_i("wrapper"),onTransitionend:u},[B("div",{ref:r,class:_i("content")},[(E=t.default)==null?void 0:E.call(t)])]),[[lo,f.value]])});return ti({toggle:a,expanded:c,itemName:s}),()=>B("div",{class:[_i({border:o.value&&e.border})]},[h(),g()])}});const hg=Ge(dg),pg=Ge(Q0),[mg,gi]=We("empty"),_g={image:Ne("default"),imageSize:[Number,String,Array],description:String};var gg=Le({name:mg,props:_g,setup(e,{slots:t}){const n=()=>{const m=t.description?t.description():e.description;if(m)return B("p",{class:gi("description")},[m])},r=()=>{if(t.default)return B("div",{class:gi("bottom")},[t.default()])},i=hd(),o=m=>`${i}-${m}`,s=m=>`url(#${o(m)})`,c=(m,_,x)=>B("stop",{"stop-color":m,offset:`${_}%`,"stop-opacity":x},null),f=(m,_)=>[c(m,0),c(_,100)],d=m=>[B("defs",null,[B("radialGradient",{id:o(m),cx:"50%",cy:"54%",fx:"50%",fy:"54%",r:"297%",gradientTransform:"matrix(-.16 0 0 -.33 .58 .72)"},[c("#EBEDF0",0),c("#F2F3F5",100,.3)])]),B("ellipse",{fill:s(m),opacity:".8",cx:"80",cy:"140",rx:"46",ry:"8"},null)],u=()=>[B("defs",null,[B("linearGradient",{id:o("a"),x1:"64%",y1:"100%",x2:"64%"},[c("#FFF",0,.5),c("#F2F3F5",100)])]),B("g",{opacity:".8"},[B("path",{d:"M36 131V53H16v20H2v58h34z",fill:s("a")},null),B("path",{d:"M123 15h22v14h9v77h-31V15z",fill:s("a")},null)])],a=()=>[B("defs",null,[B("linearGradient",{id:o("b"),x1:"64%",y1:"97%",x2:"64%",y2:"0%"},[c("#F2F3F5",0,.3),c("#F2F3F5",100)])]),B("g",{opacity:".8"},[B("path",{d:"M87 6c3 0 7 3 8 6a8 8 0 1 1-1 16H80a7 7 0 0 1-8-6c0-4 3-7 6-7 0-5 4-9 9-9Z",fill:s("b")},null),B("path",{d:"M19 23c2 0 3 1 4 3 2 0 4 2 4 4a4 4 0 0 1-4 3v1h-7v-1l-1 1c-2 0-3-2-3-4 0-1 1-3 3-3 0-2 2-4 4-4Z",fill:s("b")},null)])],l=()=>B("svg",{viewBox:"0 0 160 160"},[B("defs",null,[B("linearGradient",{id:o(1),x1:"64%",y1:"100%",x2:"64%"},[c("#FFF",0,.5),c("#F2F3F5",100)]),B("linearGradient",{id:o(2),x1:"50%",x2:"50%",y2:"84%"},[c("#EBEDF0",0),c("#DCDEE0",100,0)]),B("linearGradient",{id:o(3),x1:"100%",x2:"100%",y2:"100%"},[f("#EAEDF0","#DCDEE0")]),B("radialGradient",{id:o(4),cx:"50%",cy:"0%",fx:"50%",fy:"0%",r:"100%",gradientTransform:"matrix(0 1 -.54 0 .5 -.5)"},[c("#EBEDF0",0),c("#FFF",100,0)])]),B("g",{fill:"none"},[u(),B("path",{fill:s(4),d:"M0 139h160v21H0z"},null),B("path",{d:"M80 54a7 7 0 0 1 3 13v27l-2 2h-2a2 2 0 0 1-2-2V67a7 7 0 0 1 3-13z",fill:s(2)},null),B("g",{opacity:".6","stroke-linecap":"round","stroke-width":"7"},[B("path",{d:"M64 47a19 19 0 0 0-5 13c0 5 2 10 5 13",stroke:s(3)},null),B("path",{d:"M53 36a34 34 0 0 0 0 48",stroke:s(3)},null),B("path",{d:"M95 73a19 19 0 0 0 6-13c0-5-2-9-6-13",stroke:s(3)},null),B("path",{d:"M106 84a34 34 0 0 0 0-48",stroke:s(3)},null)]),B("g",{transform:"translate(31 105)"},[B("rect",{fill:"#EBEDF0",width:"98",height:"34",rx:"2"},null),B("rect",{fill:"#FFF",x:"9",y:"8",width:"80",height:"18",rx:"1.1"},null),B("rect",{fill:"#EBEDF0",x:"15",y:"12",width:"18",height:"6",rx:"1.1"},null)])])]),h=()=>B("svg",{viewBox:"0 0 160 160"},[B("defs",null,[B("linearGradient",{x1:"50%",x2:"50%",y2:"100%",id:o(5)},[f("#F2F3F5","#DCDEE0")]),B("linearGradient",{x1:"95%",y1:"48%",x2:"5.5%",y2:"51%",id:o(6)},[f("#EAEDF1","#DCDEE0")]),B("linearGradient",{y1:"45%",x2:"100%",y2:"54%",id:o(7)},[f("#EAEDF1","#DCDEE0")])]),u(),a(),B("g",{transform:"translate(36 50)",fill:"none"},[B("g",{transform:"translate(8)"},[B("rect",{fill:"#EBEDF0",opacity:".6",x:"38",y:"13",width:"36",height:"53",rx:"2"},null),B("rect",{fill:s(5),width:"64",height:"66",rx:"2"},null),B("rect",{fill:"#FFF",x:"6",y:"6",width:"52",height:"55",rx:"1"},null),B("g",{transform:"translate(15 17)",fill:s(6)},[B("rect",{width:"34",height:"6",rx:"1"},null),B("path",{d:"M0 14h34v6H0z"},null),B("rect",{y:"28",width:"34",height:"6",rx:"1"},null)])]),B("rect",{fill:s(7),y:"61",width:"88",height:"28",rx:"1"},null),B("rect",{fill:"#F7F8FA",x:"29",y:"72",width:"30",height:"6",rx:"1"},null)])]),g=()=>B("svg",{viewBox:"0 0 160 160"},[B("defs",null,[B("linearGradient",{x1:"50%",x2:"50%",y2:"100%",id:o(8)},[f("#EAEDF1","#DCDEE0")])]),u(),a(),d("c"),B("path",{d:"m59 60 21 21 21-21h3l9 9v3L92 93l21 21v3l-9 9h-3l-21-21-21 21h-3l-9-9v-3l21-21-21-21v-3l9-9h3Z",fill:s(8)},null)]),E=()=>B("svg",{viewBox:"0 0 160 160"},[B("defs",null,[B("linearGradient",{x1:"50%",y1:"100%",x2:"50%",id:o(9)},[f("#EEE","#D8D8D8")]),B("linearGradient",{x1:"100%",y1:"50%",y2:"50%",id:o(10)},[f("#F2F3F5","#DCDEE0")]),B("linearGradient",{x1:"50%",x2:"50%",y2:"100%",id:o(11)},[f("#F2F3F5","#DCDEE0")]),B("linearGradient",{x1:"50%",x2:"50%",y2:"100%",id:o(12)},[f("#FFF","#F7F8FA")])]),u(),a(),d("d"),B("g",{transform:"rotate(-45 113 -4)",fill:"none"},[B("rect",{fill:s(9),x:"24",y:"52.8",width:"5.8",height:"19",rx:"1"},null),B("rect",{fill:s(10),x:"22.1",y:"67.3",width:"9.9",height:"28",rx:"1"},null),B("circle",{stroke:s(11),"stroke-width":"8",cx:"27",cy:"27",r:"27"},null),B("circle",{fill:s(12),cx:"27",cy:"27",r:"16"},null),B("path",{d:"M37 7c-8 0-15 5-16 12",stroke:s(11),"stroke-width":"3",opacity:".5","stroke-linecap":"round",transform:"rotate(45 29 13)"},null)])]),y=()=>{var m;if(t.image)return t.image();const _={error:g,search:E,network:l,default:h};return((m=_[e.image])==null?void 0:m.call(_))||B("img",{src:e.image},null)};return()=>B("div",{class:gi()},[B("div",{class:gi("image"),style:oa(e.imageSize)},[y()]),n(),r()])}});const vg=Ge(gg),[Ed,yg]=We("grid"),Eg={square:Boolean,center:$e,border:$e,gutter:Oe,reverse:Boolean,iconSize:Oe,direction:String,clickable:Boolean,columnNum:Vt(4)},xd=Symbol(Ed);var xg=Le({name:Ed,props:Eg,setup(e,{slots:t}){const{linkChildren:n}=ra(xd);return n({props:e}),()=>{var r;return B("div",{style:{paddingLeft:et(e.gutter)},class:[yg(),{[k0]:e.border&&!e.gutter}]},[(r=t.default)==null?void 0:r.call(t)])}}});const bg=Ge(xg),[Sg,vi]=We("grid-item"),wg=mt({},fo,{dot:Boolean,text:String,icon:String,badge:Oe,iconColor:String,iconPrefix:String,badgeProps:Object});var Ag=Le({name:Sg,props:wg,setup(e,{slots:t}){const{parent:n,index:r}=uo(xd),i=ho();if(!n)return;const o=ye(()=>{const{square:u,gutter:a,columnNum:l}=n.props,h=`${100/+l}%`,g={flexBasis:h};if(u)g.paddingTop=h;else if(a){const E=et(a);g.paddingRight=E,r.value>=+l&&(g.marginTop=E)}return g}),s=ye(()=>{const{square:u,gutter:a}=n.props;if(u&&a){const l=et(a);return{right:l,bottom:l,height:"auto"}}}),c=()=>{if(t.icon)return B(ua,Tt({dot:e.dot,content:e.badge},e.badgeProps),{default:t.icon});if(e.icon)return B(Bt,{dot:e.dot,name:e.icon,size:n.props.iconSize,badge:e.badge,class:vi("icon"),color:e.iconColor,badgeProps:e.badgeProps,classPrefix:e.iconPrefix},null)},f=()=>{if(t.text)return t.text();if(e.text)return B("span",{class:vi("text")},[e.text])},d=()=>t.default?t.default():[c(),f()];return()=>{const{center:u,border:a,square:l,gutter:h,reverse:g,direction:E,clickable:y}=n.props,m=[vi("content",[E,{center:u,square:l,reverse:g,clickable:y,surround:a&&h}]),{[co]:a}];return B("div",{class:[vi({square:l})],style:o.value},[B("div",{role:y?"button":void 0,class:m,style:s.value,tabindex:y?0:void 0,onClick:i},[d()])])}}});const Cg=Ge(Ag),[Lg,Pr]=We("key"),Rg=B("svg",{class:Pr("collapse-icon"),viewBox:"0 0 30 24"},[B("path",{d:"M26 13h-2v2h2v-2zm-8-3h2V8h-2v2zm2-4h2V4h-2v2zm2 4h4V4h-2v4h-2v2zm-7 14 3-3h-6l3 3zM6 13H4v2h2v-2zm16 0H8v2h14v-2zm-12-3h2V8h-2v2zM28 0l1 1 1 1v15l-1 2H1l-1-2V2l1-1 1-1zm0 2H2v15h26V2zM6 4v2H4V4zm10 2h2V4h-2v2zM8 9v1H4V8zm8 0v1h-2V8zm-6-5v2H8V4zm4 0v2h-2V4z",fill:"currentColor"},null)]),Tg=B("svg",{class:Pr("delete-icon"),viewBox:"0 0 32 22"},[B("path",{d:"M28 0a4 4 0 0 1 4 4v14a4 4 0 0 1-4 4H10.4a2 2 0 0 1-1.4-.6L1 13.1c-.6-.5-.9-1.3-.9-2 0-1 .3-1.7.9-2.2L9 .6a2 2 0 0 1 1.4-.6zm0 2H10.4l-8.2 8.3a1 1 0 0 0-.3.7c0 .3.1.5.3.7l8.2 8.4H28a2 2 0 0 0 2-2V4c0-1.1-.9-2-2-2zm-5 4a1 1 0 0 1 .7.3 1 1 0 0 1 0 1.4L20.4 11l3.3 3.3c.2.2.3.5.3.7 0 .3-.1.5-.3.7a1 1 0 0 1-.7.3 1 1 0 0 1-.7-.3L19 12.4l-3.4 3.3a1 1 0 0 1-.6.3 1 1 0 0 1-.7-.3 1 1 0 0 1-.3-.7c0-.2.1-.5.3-.7l3.3-3.3-3.3-3.3A1 1 0 0 1 14 7c0-.3.1-.5.3-.7A1 1 0 0 1 15 6a1 1 0 0 1 .6.3L19 9.6l3.3-3.3A1 1 0 0 1 23 6z",fill:"currentColor"},null)]);var Ho=Le({name:Lg,props:{type:String,text:Oe,color:String,wider:Boolean,large:Boolean,loading:Boolean},emits:["press"],setup(e,{emit:t,slots:n}){const r=ie(!1),i=po(),o=d=>{i.start(d),r.value=!0},s=d=>{i.move(d),i.direction.value&&(r.value=!1)},c=d=>{r.value&&(n.default||Yt(d),r.value=!1,t("press",e.text,e.type))},f=()=>{if(e.loading)return B(ni,{class:Pr("loading-icon")},null);const d=n.default?n.default():e.text;switch(e.type){case"delete":return d||Tg;case"extra":return d||Rg;default:return d}};return()=>B("div",{class:Pr("wrapper",{wider:e.wider}),onTouchstartPassive:o,onTouchmovePassive:s,onTouchend:c,onTouchcancel:c},[B("div",{role:"button",tabindex:0,class:Pr([e.color,{large:e.large,active:r.value,delete:e.type==="delete"}])},[f()])])}});const[Og,rn]=We("number-keyboard"),Pg={show:Boolean,title:String,theme:Ne("default"),zIndex:Oe,teleport:[String,Object],maxlength:Vt(1/0),modelValue:Ne(""),transition:$e,blurOnClose:$e,showDeleteKey:$e,randomKeyOrder:Boolean,closeButtonText:String,deleteButtonText:String,closeButtonLoading:Boolean,hideOnClickOutside:$e,safeAreaInsetBottom:$e,extraKey:{type:[String,Array],default:""}};function Ig(e){for(let t=e.length-1;t>0;t--){const n=Math.floor(Math.random()*(t+1)),r=e[t];e[t]=e[n],e[n]=r}return e}var Fg=Le({name:Og,inheritAttrs:!1,props:Pg,emits:["show","hide","blur","input","close","delete","update:modelValue"],setup(e,{emit:t,slots:n,attrs:r}){const i=ie(),o=()=>{const y=Array(9).fill("").map((m,_)=>({text:_+1}));return e.randomKeyOrder&&Ig(y),y},s=()=>[...o(),{text:e.extraKey,type:"extra"},{text:0},{text:e.showDeleteKey?e.deleteButtonText:"",type:e.showDeleteKey?"delete":""}],c=()=>{const y=o(),{extraKey:m}=e,_=Array.isArray(m)?m:[m];return _.length===1?y.push({text:0,wider:!0},{text:_[0],type:"extra"}):_.length===2&&y.push({text:_[0],type:"extra"},{text:0},{text:_[1],type:"extra"}),y},f=ye(()=>e.theme==="custom"?c():s()),d=()=>{e.show&&t("blur")},u=()=>{t("close"),e.blurOnClose&&d()},a=()=>t(e.show?"show":"hide"),l=(y,m)=>{if(y===""){m==="extra"&&d();return}const _=e.modelValue;m==="delete"?(t("delete"),t("update:modelValue",_.slice(0,_.length-1))):m==="close"?u():_.length<+e.maxlength&&(t("input",y),t("update:modelValue",_+y))},h=()=>{const{title:y,theme:m,closeButtonText:_}=e,x=n["title-left"],p=_&&m==="default";if(y||p||x)return B("div",{class:rn("header")},[x&&B("span",{class:rn("title-left")},[x()]),y&&B("h2",{class:rn("title")},[y]),p&&B("button",{type:"button",class:[rn("close"),la],onClick:u},[_])])},g=()=>f.value.map(y=>{const m={};return y.type==="delete"&&(m.default=n.delete),y.type==="extra"&&(m.default=n["extra-key"]),B(Ho,{key:y.text,text:y.text,type:y.type,wider:y.wider,color:y.color,onPress:l},m)}),E=()=>{if(e.theme==="custom")return B("div",{class:rn("sidebar")},[e.showDeleteKey&&B(Ho,{large:!0,text:e.deleteButtonText,type:"delete",onPress:l},{default:n.delete}),B(Ho,{large:!0,text:e.closeButtonText,type:"close",color:"blue",loading:e.closeButtonLoading,onPress:l},null)])};return De(()=>e.show,y=>{e.transition||t(y?"show":"hide")}),e.hideOnClickOutside&&m0(i,d,{eventName:"touchstart"}),()=>{const y=h(),m=B(Bn,{name:e.transition?"van-slide-up":""},{default:()=>[Xr(B("div",Tt({ref:i,style:sa(e.zIndex),class:rn({unfit:!e.safeAreaInsetBottom,"with-title":!!y}),onAnimationend:a,onTouchstartPassive:ia},r),[y,B("div",{class:rn("body")},[B("div",{class:rn("keys")},[g()]),E()])]),[[lo,e.show]])]});return e.teleport?B(Uf,{to:e.teleport},{default:()=>[m]}):m}}});const Bg=Ge(Fg),[Dg,vr,Mg]=We("pull-refresh"),bd=50,kg=["pulling","loosing","success"],Ng={disabled:Boolean,modelValue:Boolean,headHeight:Vt(bd),successText:String,pullingText:String,loosingText:String,loadingText:String,pullDistance:Oe,successDuration:Vt(500),animationDuration:Vt(300)};var jg=Le({name:Dg,props:Ng,emits:["change","refresh","update:modelValue"],setup(e,{emit:t,slots:n}){let r;const i=ie(),o=ie(),s=y0(i),c=Kt({status:"normal",distance:0,duration:0}),f=po(),d=()=>{if(e.headHeight!==bd)return{height:`${e.headHeight}px`}},u=()=>c.status!=="loading"&&c.status!=="success"&&!e.disabled,a=p=>{const v=+(e.pullDistance||e.headHeight);return p>v&&(p<v*2?p=v+(p-v)/2:p=v*1.5+(p-v*2)/4),Math.round(p)},l=(p,v)=>{const b=+(e.pullDistance||e.headHeight);c.distance=p,v?c.status="loading":p===0?c.status="normal":p<b?c.status="pulling":c.status="loosing",t("change",{status:c.status,distance:p})},h=()=>{const{status:p}=c;return p==="normal"?"":e[`${p}Text`]||Mg(p)},g=()=>{const{status:p,distance:v}=c;if(n[p])return n[p]({distance:v});const b=[];return kg.includes(p)&&b.push(B("div",{class:vr("text")},[h()])),p==="loading"&&b.push(B(ni,{class:vr("loading")},{default:h})),b},E=()=>{c.status="success",setTimeout(()=>{l(0)},+e.successDuration)},y=p=>{r=E0(s.value)===0,r&&(c.duration=0,f.start(p))},m=p=>{u()&&y(p)},_=p=>{if(u()){r||y(p);const{deltaY:v}=f;f.move(p),r&&v.value>=0&&f.isVertical()&&(Yt(p),l(a(v.value)))}},x=()=>{r&&f.deltaY.value&&u()&&(c.duration=+e.animationDuration,c.status==="loosing"?(l(+e.headHeight,!0),t("update:modelValue",!0),dt(()=>t("refresh"))):l(0))};return De(()=>e.modelValue,p=>{c.duration=+e.animationDuration,p?l(+e.headHeight,!0):n.success||e.successText?E():l(0,!1)}),ar("touchmove",_,{target:o}),()=>{var p;const v={transitionDuration:`${c.duration}ms`,transform:c.distance?`translate3d(0,${c.distance}px, 0)`:""};return B("div",{ref:i,class:vr()},[B("div",{ref:o,class:vr("track"),style:v,onTouchstartPassive:m,onTouchend:x,onTouchcancel:x},[B("div",{class:vr("head"),style:d()},[g()]),(p=n.default)==null?void 0:p.call(n)])])}}});const Sd=Ge(jg),[Ug,yr]=We("slider"),Vg={min:Vt(0),max:Vt(100),step:Vt(1),range:Boolean,reverse:Boolean,disabled:Boolean,readonly:Boolean,vertical:Boolean,barHeight:Oe,buttonSize:Oe,activeColor:String,inactiveColor:String,modelValue:{type:[Number,Array],default:0}};var Hg=Le({name:Ug,props:Vg,emits:["change","dragEnd","dragStart","update:modelValue"],setup(e,{emit:t,slots:n}){let r,i,o;const s=ie(),c=[ie(),ie()],f=ie(),d=po(),u=ye(()=>Number(e.max)-Number(e.min)),a=ye(()=>{const R=e.vertical?"width":"height";return{background:e.inactiveColor,[R]:et(e.barHeight)}}),l=R=>e.range&&Array.isArray(R),h=()=>{const{modelValue:R,min:C}=e;return l(R)?`${(R[1]-R[0])*100/u.value}%`:`${(R-Number(C))*100/u.value}%`},g=()=>{const{modelValue:R,min:C}=e;return l(R)?`${(R[0]-Number(C))*100/u.value}%`:"0%"},E=ye(()=>{const C={[e.vertical?"height":"width"]:h(),background:e.activeColor};f.value&&(C.transition="none");const O=()=>e.vertical?e.reverse?"bottom":"top":e.reverse?"right":"left";return C[O()]=g(),C}),y=R=>{const C=+e.min,O=+e.max,D=+e.step;R=L0(R,C,O);const N=Math.round((R-C)/D)*D;return T0(C,N)},m=()=>{const R=e.modelValue;l(R)?o=R.map(y):o=y(R)},_=R=>{var C,O;const D=(C=R[0])!=null?C:Number(e.min),N=(O=R[1])!=null?O:Number(e.max);return D>N?[N,D]:[D,N]},x=(R,C)=>{l(R)?R=_(R).map(y):R=y(R),El(R,e.modelValue)||t("update:modelValue",R),C&&!El(R,o)&&t("change",R)},p=R=>{if(R.stopPropagation(),e.disabled||e.readonly)return;m();const{min:C,reverse:O,vertical:D,modelValue:N}=e,M=ms(s),U=()=>D?O?M.bottom-R.clientY:R.clientY-M.top:O?M.right-R.clientX:R.clientX-M.left,Q=D?M.height:M.width,oe=Number(C)+U()/Q*u.value;if(l(N)){const[ne,de]=N,he=(ne+de)/2;oe<=he?x([oe,de],!0):x([ne,oe],!0)}else x(oe,!0)},v=R=>{e.disabled||e.readonly||(d.start(R),i=e.modelValue,m(),f.value="start")},b=R=>{if(e.disabled||e.readonly)return;f.value==="start"&&t("dragStart",R),Yt(R,!0),d.move(R),f.value="dragging";const C=ms(s),O=e.vertical?d.deltaY.value:d.deltaX.value,D=e.vertical?C.height:C.width;let N=O/D*u.value;if(e.reverse&&(N=-N),l(o)){const M=e.reverse?1-r:r;i[M]=o[M]+N}else i=o+N;x(i)},w=R=>{e.disabled||e.readonly||(f.value==="dragging"&&(x(i,!0),t("dragEnd",R)),f.value="")},A=R=>typeof R=="number"?yr("button-wrapper",["left","right"][R]):yr("button-wrapper",e.reverse?"left":"right"),T=(R,C)=>{const O=f.value==="dragging";if(typeof C=="number"){const D=n[C===0?"left-button":"right-button"];let N;if(O&&Array.isArray(i)&&(N=i[0]>i[1]?r^1:r),D)return D({value:R,dragging:O,dragIndex:N})}return n.button?n.button({value:R,dragging:O}):B("div",{class:yr("button"),style:oa(e.buttonSize)},null)},P=R=>{const C=typeof R=="number"?e.modelValue[R]:e.modelValue;return B("div",{ref:c[R??0],role:"slider",class:A(R),tabindex:e.disabled?void 0:0,"aria-valuemin":e.min,"aria-valuenow":C,"aria-valuemax":e.max,"aria-disabled":e.disabled||void 0,"aria-readonly":e.readonly||void 0,"aria-orientation":e.vertical?"vertical":"horizontal",onTouchstartPassive:O=>{typeof R=="number"&&(r=R),v(O)},onTouchend:w,onTouchcancel:w,onClick:ia},[T(C,R)])};return x(e.modelValue),td(()=>e.modelValue),c.forEach(R=>{ar("touchmove",b,{target:R})}),()=>B("div",{ref:s,style:a.value,class:yr({vertical:e.vertical,disabled:e.disabled}),onClick:p},[B("div",{class:yr("bar"),style:E.value},[e.range?[P(0),P(1)]:P()])])}});const Kg=Ge(Hg),[wd,Nl]=We("tabbar"),Wg={route:Boolean,fixed:$e,border:$e,zIndex:Oe,placeholder:Boolean,activeColor:String,beforeChange:Function,inactiveColor:String,modelValue:Vt(0),safeAreaInsetBottom:{type:Boolean,default:null}},Ad=Symbol(wd);var zg=Le({name:wd,props:Wg,emits:["change","update:modelValue"],setup(e,{emit:t,slots:n}){const r=ie(),{linkChildren:i}=ra(Ad),o=H0(r,Nl),s=()=>{var d;return(d=e.safeAreaInsetBottom)!=null?d:e.fixed},c=()=>{var d;const{fixed:u,zIndex:a,border:l}=e;return B("div",{ref:r,role:"tablist",style:sa(a),class:[Nl({fixed:u}),{[aa]:l,"van-safe-area-bottom":s()}]},[(d=n.default)==null?void 0:d.call(n)])};return i({props:e,setActive:(d,u)=>{sd(e.beforeChange,{args:[d],done(){t("update:modelValue",d),t("change",d),u()}})}}),()=>e.fixed&&e.placeholder?o(c):c()}});const Gg=Ge(zg),[$g,Ko]=We("tabbar-item"),qg=mt({},fo,{dot:Boolean,icon:String,name:Oe,badge:Oe,badgeProps:Object,iconPrefix:String});var Xg=Le({name:$g,props:qg,emits:["click"],setup(e,{emit:t,slots:n}){const r=ho(),i=xt().proxy,{parent:o,index:s}=uo(Ad);if(!o)return;const c=ye(()=>{var u;const{route:a,modelValue:l}=o.props;if(a&&"$route"in i){const{$route:h}=i,{to:g}=e,E=sr(g)?g:{path:g};return!!h.matched.find(y=>{const m="path"in E&&E.path===y.path,_="name"in E&&E.name===y.name;return m||_})}return((u=e.name)!=null?u:s.value)===l}),f=u=>{var a;c.value||o.setActive((a=e.name)!=null?a:s.value,r),t("click",u)},d=()=>{if(n.icon)return n.icon({active:c.value});if(e.icon)return B(Bt,{name:e.icon,classPrefix:e.iconPrefix},null)};return()=>{var u;const{dot:a,badge:l}=e,{activeColor:h,inactiveColor:g}=o.props,E=c.value?h:g;return B("div",{role:"tab",class:Ko({active:c.value}),style:{color:E},tabindex:0,"aria-selected":c.value,onClick:f},[B(ua,Tt({dot:a,class:Ko("icon"),content:l},e.badgeProps),{default:d}),B("div",{class:Ko("text")},[(u=n.default)==null?void 0:u.call(n,{active:c.value})])])}}});const Yg=Ge(Xg),Jg=""+new URL("paimeng-DwlxSD1J.mp3",import.meta.url).href,Zg=["src"],Qg=Le({__name:"[...all]",setup(e){return(t,n)=>{const r=vg;return Ke(),xn(Qe,null,[B(r,{image:"error",description:"",style:{color:"white"}}),Ce("audio",{src:xe(Jg),autoplay:""},null,8,Zg)],64)}}});class fa{constructor(t){this.value={},t&&(this.value.devid=t)}static to(t){return new fa(t)}set(t){return this.value.pack={method:"set",data:t},this}get(t){return this.value.pack={method:"get",data:t},this}unwrap(){return this.value}}function Cd(e){return new fa(e)}function da(e){return Yc()?(Gh(e),!0):!1}function Wo(){const e=new Set,t=i=>{e.delete(i)};return{on:i=>{e.add(i);const o=()=>t(i);return da(o),{off:o}},off:t,trigger:(...i)=>Promise.all(Array.from(e).map(o=>o(...i)))}}function yt(e){return typeof e=="function"?e():xe(e)}const Ld=typeof window<"u"&&typeof document<"u";typeof WorkerGlobalScope<"u"&&globalThis instanceof WorkerGlobalScope;const ev=e=>typeof e<"u",vs=()=>{};function tv(e,t){function n(...r){return new Promise((i,o)=>{Promise.resolve(e(()=>t.apply(this,r),{fn:t,thisArg:this,args:r})).then(i).catch(o)})}return n}const nv=e=>e();function rv(e,t={}){let n,r,i=vs;const o=c=>{clearTimeout(c),i(),i=vs};return c=>{const f=yt(e),d=yt(t.maxWait);return n&&o(n),f<=0||d!==void 0&&d<=0?(r&&(o(r),r=null),Promise.resolve(c())):new Promise((u,a)=>{i=t.rejectOnCancel?a:u,d&&!r&&(r=setTimeout(()=>{n&&o(n),r=null,u(c())},d)),n=setTimeout(()=>{r&&o(r),r=null,u(c())},f)})}}function jl(e,t=!1,n="Timeout"){return new Promise((r,i)=>{setTimeout(t?()=>i(n):r,e)})}function iv(e,...t){return t.some(n=>n in e)}function ov(e){return e||xt()}function zo(...e){if(e.length!==1)return Ep(...e);const t=e[0];return typeof t=="function"?Zn(gp(()=>({get:t,set:vs}))):ie(t)}function sv(e,t,n={}){const{eventFilter:r=nv,...i}=n;return De(e,tv(r,t),i)}function av(e,t=!0,n){ov()?Et(e,n):t?e():dt(e)}function ys(e,t=!1){function n(a,{flush:l="sync",deep:h=!1,timeout:g,throwOnTimeout:E}={}){let y=null;const _=[new Promise(x=>{y=De(e,p=>{a(p)!==t&&(y==null||y(),x(p))},{flush:l,deep:h,immediate:!0})})];return g!=null&&_.push(jl(g,E).then(()=>yt(e)).finally(()=>y==null?void 0:y())),Promise.race(_)}function r(a,l){if(!ke(a))return n(p=>p===a,l);const{flush:h="sync",deep:g=!1,timeout:E,throwOnTimeout:y}=l??{};let m=null;const x=[new Promise(p=>{m=De([e,a],([v,b])=>{t!==(v===b)&&(m==null||m(),p(v))},{flush:h,deep:g,immediate:!0})})];return E!=null&&x.push(jl(E,y).then(()=>yt(e)).finally(()=>(m==null||m(),yt(e)))),Promise.race(x)}function i(a){return n(l=>!!l,a)}function o(a){return r(null,a)}function s(a){return r(void 0,a)}function c(a){return n(Number.isNaN,a)}function f(a,l){return n(h=>{const g=Array.from(h);return g.includes(a)||g.includes(yt(a))},l)}function d(a){return u(1,a)}function u(a=1,l){let h=-1;return n(()=>(h+=1,h>=a),l)}return Array.isArray(yt(e))?{toMatch:n,toContains:f,changed:d,changedTimes:u,get not(){return ys(e,!t)}}:{toMatch:n,toBe:r,toBeTruthy:i,toBeNull:o,toBeNaN:c,toBeUndefined:s,changed:d,changedTimes:u,get not(){return ys(e,!t)}}}function lv(e){return ys(e)}function uv(e,t,n={}){const{immediate:r=!0}=n,i=ie(!1);let o=null;function s(){o&&(clearTimeout(o),o=null)}function c(){i.value=!1,s()}function f(...d){s(),i.value=!0,o=setTimeout(()=>{i.value=!1,o=null,e(...d)},yt(t))}return r&&(i.value=!0,Ld&&f()),da(c),{isPending:Zn(i),start:f,stop:c}}function Rd(e,t,n={}){const{debounce:r=0,maxWait:i=void 0,...o}=n;return sv(e,t,{...o,eventFilter:rv(r,{maxWait:i})})}function Wn(e){var t;const n=yt(e);return(t=n==null?void 0:n.$el)!=null?t:n}const ha=Ld?window:void 0;function cv(){const e=ie(!1),t=xt();return t&&Et(()=>{e.value=!0},t),e}function fv(e){const t=cv();return ye(()=>(t.value,!!e()))}function dv(e){return JSON.parse(JSON.stringify(e))}function hv(e,t,n={}){const{window:r=ha,...i}=n;let o;const s=fv(()=>r&&"ResizeObserver"in r),c=()=>{o&&(o.disconnect(),o=void 0)},f=ye(()=>Array.isArray(e)?e.map(a=>Wn(a)):[Wn(e)]),d=De(f,a=>{if(c(),s.value&&r){o=new ResizeObserver(t);for(const l of a)l&&o.observe(l,i)}},{immediate:!0,flush:"post"}),u=()=>{c(),d()};return da(u),{isSupported:s,stop:u}}function pv(e,t={width:0,height:0},n={}){const{window:r=ha,box:i="content-box"}=n,o=ye(()=>{var a,l;return(l=(a=Wn(e))==null?void 0:a.namespaceURI)==null?void 0:l.includes("svg")}),s=ie(t.width),c=ie(t.height),{stop:f}=hv(e,([a])=>{const l=i==="border-box"?a.borderBoxSize:i==="content-box"?a.contentBoxSize:a.devicePixelContentBoxSize;if(r&&o.value){const h=Wn(e);if(h){const g=r.getComputedStyle(h);s.value=Number.parseFloat(g.width),c.value=Number.parseFloat(g.height)}}else if(l){const h=Array.isArray(l)?l:[l];s.value=h.reduce((g,{inlineSize:E})=>g+E,0),c.value=h.reduce((g,{blockSize:E})=>g+E,0)}else s.value=a.contentRect.width,c.value=a.contentRect.height},n);av(()=>{const a=Wn(e);a&&(s.value="offsetWidth"in a?a.offsetWidth:t.width,c.value="offsetHeight"in a?a.offsetHeight:t.height)});const d=De(()=>Wn(e),a=>{s.value=a?t.width:0,c.value=a?t.height:0});function u(){f(),d()}return{width:s,height:c,stop:u}}const mv={json:"application/json",text:"text/plain"};function ji(e){return e&&iv(e,"immediate","refetch","initialData","timeout","beforeFetch","afterFetch","onFetchError","fetch","updateDataOnError")}function _v(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function Ir(e){return typeof Headers<"u"&&e instanceof Headers?Object.fromEntries(e.entries()):e}function jn(e,...t){return e==="overwrite"?async n=>{const r=t[t.length-1];return r?{...n,...await r(n)}:n}:async n=>{for(const r of t)r&&(n={...n,...await r(n)});return n}}function gv(e={}){const t=e.combination||"chain",n=e.options||{},r=e.fetchOptions||{};function i(o,...s){const c=ye(()=>{const u=yt(e.baseUrl),a=yt(o);return u&&!_v(a)?yv(u,a):a});let f=n,d=r;return s.length>0&&(ji(s[0])?f={...f,...s[0],beforeFetch:jn(t,n.beforeFetch,s[0].beforeFetch),afterFetch:jn(t,n.afterFetch,s[0].afterFetch),onFetchError:jn(t,n.onFetchError,s[0].onFetchError)}:d={...d,...s[0],headers:{...Ir(d.headers)||{},...Ir(s[0].headers)||{}}}),s.length>1&&ji(s[1])&&(f={...f,...s[1],beforeFetch:jn(t,n.beforeFetch,s[1].beforeFetch),afterFetch:jn(t,n.afterFetch,s[1].afterFetch),onFetchError:jn(t,n.onFetchError,s[1].onFetchError)}),vv(c,d,f)}return i}function vv(e,...t){var n;const r=typeof AbortController=="function";let i={},o={immediate:!0,refetch:!1,timeout:0,updateDataOnError:!1};const s={method:"GET",type:"text",payload:void 0};t.length>0&&(ji(t[0])?o={...o,...t[0]}:i=t[0]),t.length>1&&ji(t[1])&&(o={...o,...t[1]});const{fetch:c=(n=ha)==null?void 0:n.fetch,initialData:f,timeout:d}=o,u=Wo(),a=Wo(),l=Wo(),h=ie(!1),g=ie(!1),E=ie(!1),y=ie(null),m=Ci(null),_=Ci(null),x=Ci(f||null),p=ye(()=>r&&g.value);let v,b;const w=()=>{r&&(v==null||v.abort(),v=new AbortController,v.signal.onabort=()=>E.value=!0,i={...i,signal:v.signal})},A=M=>{g.value=M,h.value=!M};d&&(b=uv(w,d,{immediate:!1}));let T=0;const P=async(M=!1)=>{var U,Q;w(),A(!0),_.value=null,y.value=null,E.value=!1,T+=1;const oe=T,ne={method:s.method,headers:{}};if(s.payload){const ae=Ir(ne.headers),je=yt(s.payload);!s.payloadType&&je&&Object.getPrototypeOf(je)===Object.prototype&&!(je instanceof FormData)&&(s.payloadType="json"),s.payloadType&&(ae["Content-Type"]=(U=mv[s.payloadType])!=null?U:s.payloadType),ne.body=s.payloadType==="json"?JSON.stringify(je):je}let de=!1;const he={url:yt(e),options:{...ne,...i},cancel:()=>{de=!0}};if(o.beforeFetch&&Object.assign(he,await o.beforeFetch(he)),de||!c)return A(!1),Promise.resolve(null);let se=null;return b&&b.start(),c(he.url,{...ne,...he.options,headers:{...Ir(ne.headers),...Ir((Q=he.options)==null?void 0:Q.headers)}}).then(async ae=>{if(m.value=ae,y.value=ae.status,se=await ae.clone()[s.type](),!ae.ok)throw x.value=f||null,new Error(ae.statusText);return o.afterFetch&&({data:se}=await o.afterFetch({data:se,response:ae})),x.value=se,u.trigger(ae),ae}).catch(async ae=>{let je=ae.message||ae.name;if(o.onFetchError&&({error:je,data:se}=await o.onFetchError({data:se,error:ae,response:m.value})),_.value=je,o.updateDataOnError&&(x.value=se),a.trigger(ae),M)throw ae;return null}).finally(()=>{oe===T&&A(!1),b&&b.stop(),l.trigger(null)})},R=zo(o.refetch);De([R,zo(e)],([M])=>M&&P(),{deep:!0});const C={isFinished:Zn(h),isFetching:Zn(g),statusCode:y,response:m,error:_,data:x,canAbort:p,aborted:E,abort:w,execute:P,onFetchResponse:u.on,onFetchError:a.on,onFetchFinally:l.on,get:O("GET"),put:O("PUT"),post:O("POST"),delete:O("DELETE"),patch:O("PATCH"),head:O("HEAD"),options:O("OPTIONS"),json:N("json"),text:N("text"),blob:N("blob"),arrayBuffer:N("arrayBuffer"),formData:N("formData")};function O(M){return(U,Q)=>{if(!g.value)return s.method=M,s.payload=U,s.payloadType=Q,ke(s.payload)&&De([R,zo(s.payload)],([oe])=>oe&&P(),{deep:!0}),{...C,then(oe,ne){return D().then(oe,ne)}}}}function D(){return new Promise((M,U)=>{lv(h).toBe(!0).then(()=>M(C)).catch(Q=>U(Q))})}function N(M){return()=>{if(!g.value)return s.type=M,{...C,then(U,Q){return D().then(U,Q)}}}}return o.immediate&&Promise.resolve().then(()=>P()),{...C,then(M,U){return D().then(M,U)}}}function yv(e,t){return!e.endsWith("/")&&!t.startsWith("/")?`${e}/${t}`:`${e}${t}`}function Ev(e,t,n,r={}){var i,o,s;const{clone:c=!1,passive:f=!1,eventName:d,deep:u=!1,defaultValue:a,shouldEmit:l}=r,h=xt(),g=n||(h==null?void 0:h.emit)||((i=h==null?void 0:h.$emit)==null?void 0:i.bind(h))||((s=(o=h==null?void 0:h.proxy)==null?void 0:o.$emit)==null?void 0:s.bind(h==null?void 0:h.proxy));let E=d;t||(t="modelValue"),E=E||`update:${t.toString()}`;const y=x=>c?typeof c=="function"?c(x):dv(x):x,m=()=>ev(e[t])?y(e[t]):a,_=x=>{l?l(x)&&g(E,x):g(E,x)};if(f){const x=m(),p=ie(x);let v=!1;return De(()=>e[t],b=>{v||(v=!0,p.value=y(b),dt(()=>v=!1))}),De(p,b=>{!v&&(b!==e[t]||u)&&_(b)},{deep:u}),p}else return ye({get(){return m()},set(x){_(x)}})}function Td(e,t,n={}){const r={};for(const i in e)r[i]=Ev(e,i,t,n);return r}const S=globalThis.__edger__;var Ul;(function(e){e.EVENT_SERVER="EVENT_SERVER",e.EVENT_CONTAINER="EVENT_CONTAINER",e.MAIN_DESKTOP="MAIN_DESKTOP",e.TRUST_ZONE="TRUST_ZONE"})(Ul||(Ul={}));const tr=(e="Not Support")=>Promise.reject({message:e,status:"error"}),Y=e=>e?e.then(t=>{var n;return console.log(e,t),((n=t==null?void 0:t.result)==null?void 0:n.status)==="error"?tr(t.result.message||"Error"):t==null?void 0:t.payload}):tr();function xv(e){var t,n;try{if(e.speed||(e.speed=1),(e.headless===void 0||e.headless===null)&&(e.headless=!1),[.5,1,1.5,2].includes(e.speed)===!1)return Promise.reject(new Error("speed "));if(e.mode||(e.mode="repeat_mode_all"),!["repeat_mode_one","repeat_mode_all","repeat_mode_random"].includes(e.mode))return Promise.reject(new Error("mode "));if(!e.files.length)return Promise.reject(new Error("files "));for(const r of e.files){if(!r.url)return Promise.reject(new Error("files  url "));if(!r.name)return Promise.reject(new Error("files  name "))}if(e!=null&&e.toolbar&&e.toolbar.length)for(const r of e.toolbar){if(!r.icon)return Promise.reject(new Error("toolbar  icon "));if(!r.code)return Promise.reject(new Error("toolbar  code "));if(!r.label)return Promise.reject(new Error("toolbar  label "))}return Y((n=(t=S==null?void 0:S.audio)==null?void 0:t.play)==null?void 0:n.call(t,e))}catch(r){return Promise.reject(r)}}function bv(){var e,t;return Y((t=(e=S==null?void 0:S.audio)==null?void 0:e.pause)==null?void 0:t.call(e))}function Sv(){var e,t;return Y((t=(e=S==null?void 0:S.audio)==null?void 0:e.resume)==null?void 0:t.call(e))}function wv(){var e,t;return Y((t=(e=S==null?void 0:S.audio)==null?void 0:e.destroy)==null?void 0:t.call(e))}function Av(e){var t,n;return Y((n=(t=S==null?void 0:S.audio)==null?void 0:t.delete)==null?void 0:n.call(t,e))}function Cv(e){var t,n;return Y((n=(t=S==null?void 0:S.audio)==null?void 0:t.setSpeed)==null?void 0:n.call(t,e))}function Lv(e){var t,n;return Y((n=(t=S==null?void 0:S.audio)==null?void 0:t.setMode)==null?void 0:n.call(t,e))}function Rv(){var e,t;return Y((t=(e=S==null?void 0:S.audio)==null?void 0:e.previous)==null?void 0:t.call(e))}function Tv(){var e,t;return Y((t=(e=S==null?void 0:S.audio)==null?void 0:e.next)==null?void 0:t.call(e))}function Ov(e,t){var n,r;return Y((r=(n=S==null?void 0:S.audio)==null?void 0:n.setPosition)==null?void 0:r.call(n,e,t))}function Pv(e){var t,n;return Y((n=(t=S==null?void 0:S.audio)==null?void 0:t.append)==null?void 0:n.call(t,e))}function Iv(e){var t,n;if(e!=null&&e.toolbar&&e.toolbar.length)for(const r of e.toolbar){if(!r.icon)return Promise.reject(new Error("toolbar  icon "));if(!r.code)return Promise.reject(new Error("toolbar  code "));if(!r.label)return Promise.reject(new Error("toolbar  label "))}return Y((n=(t=S==null?void 0:S.audio)==null?void 0:t.setToolbar)==null?void 0:n.call(t,e))}const Fv=(e,t)=>{var n,r;(n=S==null?void 0:S.audio)!=null&&n.addEventListener?(r=S.audio)==null||r.addEventListener(e,t):console.error("audio addEventListener not supported.")},Bv=(e,t)=>{var n,r;(n=S==null?void 0:S.audio)!=null&&n.removeEventListener?(r=S.audio)==null||r.removeEventListener(e,t):console.error("audio removeEventListener not supported.")},Dv=e=>{var t,n;(t=S==null?void 0:S.audio)!=null&&t.removeAllListeners?(n=S.audio)==null||n.removeAllListeners(e):console.error("audio removeAllListeners not supported.")},Mv={play:xv,pause:bv,resume:Sv,destroy:wv,delete:Av,setSpeed:Cv,setMode:Lv,previous:Rv,next:Tv,setPosition:Ov,append:Pv,setToolbar:Iv,addEventListener:Fv,removeEventListener:Bv,removeAllListeners:Dv};var Se;(function(e){e[e.onlyTop=1]="onlyTop",e[e.preferTop=2]="preferTop",e[e.desktop=3]="desktop"})(Se||(Se={}));const at={active:[],deactive:[],login:[],logout:[],pay:[],orientation:[],network:[],swipe:[],token:[],permission:[],wallpaper:[],theme:[],language:[],safeArea:[],download:[],verify:[],keyboardHeight:[],event_job_start:[],event_job_pause:[],event_job_resume:[],event_job_cancel:[],event_job_done:[],event_job_error:[],event_job_progress:[],event_job_timeout:[],event_album_change:[],event_media_player_change:[],event_media_player_delete:[],event_media_player_export:[],event_service_pause:[],event_service_resume:[],event_service_status:[],event_service_delete:[],status:[],pause:[],resume:[],delete:[],change:[],close:[],select:[],start:[],cancel:[],retry:[],done:[],error:[],progress:[],connect_mode:[]};window.addEventListener("message",e=>{const t=e.data.cmd;at[t]&&(at[t].forEach((n,r)=>{if(typeof n=="function")if(n.__edger_uid__){const i=e.data.uid;n.__edger_uid__===i&&(n(e.data.payload,e.data.error),n.__edger_done__=!0)}else n(e.data.payload,e.data.error)}),at[t]=at[t].filter(n=>n.__edger_done__!==!0))});const Od=(e,t)=>{const n=e;at[n]?at[n].push(t):at[n]=[t]},Pn=(e,t=Se.preferTop)=>{t===Se.preferTop?window.parent===window.parent.parent?(console.warn("No app shell, downgrade to desktop",e),window.parent.postMessage({...e},"*")):window.parent.parent.postMessage({...e},"*"):t===Se.onlyTop?window.parent===window.parent.parent?console.warn("No app shell, ignore message",e):window.parent.parent.postMessage({...e},"*"):window.parent.postMessage({...e},"*")};let kv=0;const Re=(e,t,n={timeout:5e3,ignoreResponse:!0,deliverStrategy:Se.preferTop,disableTimeout:!1},r="")=>{if(!e)throw new Error("Illegal cmd");const{timeout:i=1e3,ignoreResponse:o=!0,deliverStrategy:s,disableTimeout:c=!1}=n;return new Promise((f,d)=>{if(o)Pn({cmd:e,payload:t,ts:Date.now()},s),f(void 0);else{const u=`${Math.random()}-${Date.now()}-${kv++}`,a=function(l,h){h?(console.error("error",h),d({error:h})):f(l)};a.__edger_uid__=u,Od(e,a),Pn({cmd:e,payload:t,uid:u,ts:Date.now(),scope:r},s)}})},Nv=(e,t)=>{const n=at[e];n?(n.push(t),Re("__edgeros_register_event__",{action:e},{deliverStrategy:Se.desktop,ignoreResponse:!0})):console.warn(`The action you specified is unknown: ${e}`)};function jv(e,t){if(typeof t!="function")throw new TypeError("listener must be a function");const n=at[e];return n&&(n.push(t),Re("__edgeros_register_event__",{action:e},{deliverStrategy:Se.desktop,ignoreResponse:!0})),this}function Uv(e,t){if(typeof t!="function")throw new TypeError("listener must be a function");return at[e]&&(at[e]=at[e].filter(n=>n!==t)),this}function Vv(e){return e?at[e]&&(at[e]=[]):Object.keys(at).forEach(t=>{at[t]&&(at[t]=[])}),this}function Hv(e){const t=e;return this.removeAllListeners(t)}const Kv=e=>Re("qrscan",{...e},{deliverStrategy:Se.preferTop,ignoreResponse:!1,timeout:5*60*1e3,disableTimeout:!0}),Wv=()=>Re("contacts",{},{deliverStrategy:Se.preferTop,ignoreResponse:!1,timeout:5*10*1e3}),zv=()=>{var e,t;return Y((t=(e=S==null?void 0:S.system)==null?void 0:e.getVolume)==null?void 0:t.call(e))},Gv=()=>{var e,t;return Y((t=(e=S==null?void 0:S.system)==null?void 0:e.networkInfo)==null?void 0:t.call(e))},Vl=(e,t)=>{var n,r;(n=S==null?void 0:S.system)!=null&&n.addEventListener?(r=S.system)==null||r.addEventListener(e,t):console.error("mobile addEventListener not supported.")},$v=(e,t)=>{var n,r;(n=S==null?void 0:S.system)!=null&&n.removeEventListener?(r=S.system)==null||r.removeEventListener(e,t):console.error("mobile removeEventListener not supported.")},qv=e=>{var t,n;(t=S==null?void 0:S.system)!=null&&t.removeAllListeners?(n=S.system)==null||n.removeAllListeners(e):console.error("mobile removeAllListeners not supported.")},Xv={qrscan:Kv,contacts:Wv,getVolume:zv,networkInfo:Gv,onAction:Vl,addEventListener:Vl,removeEventListener:$v,removeAllListeners:qv},Yv=e=>Re("payRequest",e,{deliverStrategy:Se.desktop,ignoreResponse:!1,timeout:2*60*1e3}),Jv=(e,t=!1)=>Re("apps",{appids:e,ico:t},{deliverStrategy:Se.desktop,ignoreResponse:!1}),Zv=(e,t)=>Re("open",{target:e,letter:t},{deliverStrategy:Se.desktop,ignoreResponse:!1,timeout:2*60*1e3}),Qv=e=>(window.__title=e,Re("title",{title:e},{deliverStrategy:Se.desktop,ignoreResponse:!1,timeout:5*1e3})),ey=()=>Re("language",{},{deliverStrategy:Se.desktop,ignoreResponse:!1}),ty=e=>Re("openInBrowser",{url:e},{deliverStrategy:Se.desktop,ignoreResponse:!1}),ny=e=>{var n,r,i;const t=window.__edger__;return Y((i=(r=(n=t==null?void 0:t.app)==null?void 0:n.view)==null?void 0:r.navigate)==null?void 0:i.call(r,e))},ry=e=>{var n,r;const t=window.__edger__;return Y((r=(n=t==null?void 0:t.app)==null?void 0:n.callThirdPartyApp)==null?void 0:r.call(n,e))},iy=()=>Re("connectMode",{},{ignoreResponse:!1,deliverStrategy:Se.preferTop,disableTimeout:!0}),oy=()=>{Re("__edgeros_register__",{},{deliverStrategy:Se.desktop,ignoreResponse:!0}),Re("__edgeros_register__",{},{deliverStrategy:Se.onlyTop,ignoreResponse:!0})},sy=e=>Re("setOrientation",{type:"lock",orientation:e},{deliverStrategy:Se.preferTop,ignoreResponse:!1}),ay=()=>Re("setOrientation",{type:"unlock"},{deliverStrategy:Se.preferTop,ignoreResponse:!1}),ly=()=>Re("orientation",{},{deliverStrategy:Se.preferTop,ignoreResponse:!1}),uy=()=>Re("user",{},{ignoreResponse:!1,timeout:5e3,deliverStrategy:Se.desktop}),cy=e=>Re("reqPerms",e,{ignoreResponse:!1,timeout:2*60*1e3,deliverStrategy:Se.desktop}),fy=e=>Re("permission",{data:e||null},{ignoreResponse:!1,timeout:5*1e3,deliverStrategy:Se.desktop}),dy=e=>{var t,n;return Y((n=(t=S==null?void 0:S.permissionTexts)==null?void 0:t.register)==null?void 0:n.call(t,e))},hy=e=>{var t,n;return Y((n=(t=S==null?void 0:S.permissionTexts)==null?void 0:t.unregister)==null?void 0:n.call(t,e))},py=()=>{var e,t;return Y((t=(e=S==null?void 0:S.permissionTexts)==null?void 0:e.query)==null?void 0:t.call(e))},my={register:dy,unregister:hy,query:py},_y=()=>Re("network",{},{ignoreResponse:!1,deliverStrategy:Se.preferTop}),gt={height:0,activeElement:{el:null,originToBottomHeight:0}};function gy(){gt.height=0,gt.activeElement.el=null,gt.activeElement.originToBottomHeight=0}const vy=(e="#app",t=".van-dialog")=>window.addEventListener("message",r=>{if(r.data.cmd==="keyboardHeight"){let i=0,o=document.querySelector(e);const s=document.documentElement.clientHeight||document.body.clientHeight,c=document.activeElement;let f=document.activeElement;const d=+r.data.payload.keyboardHeight,u=document.querySelectorAll(t),a=Array.from(u).filter(h=>h.style.display!=="none")[0],l=a&&a.style.display!=="none";if(l&&(o=a,f=a,i=f.getBoundingClientRect().top),o.style.transition||(o.style.transition="margin-top .3s ease-in-out"),d||(gy(),o.style.marginTop="0px"),d>0&&c&&(c.tagName.toUpperCase()==="INPUT"||c.tagName.toUpperCase()==="TEXTAREA")){let h=!1,g=s-f.getBoundingClientRect().bottom;if(gt.height){const E=gt.activeElement.originToBottomHeight;if(E){let y=0;try{y=parseFloat(getComputedStyle(o).marginTop.replace(/[px ]/g,""))}catch(p){console.error("keyboard marginTop",p)}let m=s-c.getBoundingClientRect().bottom+y,_=0,x=40;gt.activeElement.el&&(x=10,_=s-gt.activeElement.el.getBoundingClientRect().bottom+y-gt.activeElement.originToBottomHeight),m=m-_,h=Math.abs(m-E)>x,h?g=m:g=E}}if(!h&&d<=gt.height&&gt.height-d<150)return;if(h||g<d){gt.activeElement.el=c,gt.activeElement.originToBottomHeight=g,gt.height=d;let E=g-d;i>0&&(E=i-Math.abs(E)>25?E:25-i),E>=0&&(E=0),o.style.marginTop=E+"px",l||Pn({cmd:"switchStatusBar",payload:"hide"},Se.onlyTop)}}else o.style.marginTop="0px",u.length&&Array.from(u).forEach(h=>h.style.marginTop="0px"),Pn({cmd:"switchStatusBar",payload:"show"},Se.onlyTop)}}),yy=()=>Re("version",{},{ignoreResponse:!1,timeout:5e3,deliverStrategy:Se.desktop}),Ey=()=>Re("token",{},{ignoreResponse:!1,timeout:5e3,deliverStrategy:Se.desktop}),xy=()=>Re("letter",{},{ignoreResponse:!1,timeout:5e3,deliverStrategy:Se.desktop}),by=()=>{Re("ping",{},{ignoreResponse:!0,timeout:5e3,deliverStrategy:Se.desktop})},Sy=(e=10)=>{setInterval(()=>by(),e*1e3)},wy=["outApp","logout","desktop","route"];let Dt=[],it=-1;function Pd(){Dt=[],it=-1}function Ay(e){let t=e.current;location.hash&&location.hash[0]==="#"&&(t="#"+t),history.pushState(e,"",t)}function Cy(){wy.forEach(e=>{const t={...history.state,mark:e};Ay(t),Dt.push(t),it++})}function Ly(){Dt=Dt.slice(0,it+1),Dt.push(history.state),it++}function Ry(){Dt.splice(it,1,history.state)}const Hl=(e,t)=>e.mark&&t.mark?JSON.stringify(e)===JSON.stringify(t):JSON.stringify({...e,mark:""})===JSON.stringify({...t,mark:""});function Ty(){if(history.state.mark==="desktop"){it=2,history.go(1);return}if(history.state.mark==="logout"){it=1,history.go(2);return}if(history.state.mark==="outApp"){it=0,history.go(3);return}let e=-1;for(let t=it-1;t>0&&e===-1;t--)Hl(Dt[t],history.state)&&(e=t);for(let t=it+1;t<Dt.length&&e===-1;t++)Hl(Dt[t],history.state)&&(e=t);it=e,it===-1&&history.go(1)}function Oy(){const e=[...Dt],t=it;Pd();for(let r=0;r<e.length;r++)history.pushState(e[r],"",e[r].current);const n=t-e.length+1;n&&history.go(n)}let Fr=!0;function Py(){window.addEventListener("message",e=>{const{cmd:t}=e.data;t==="active"?(Fr=!0,Oy()):t==="deactive"&&(Fr=!1)})}function Iy(){const e=t=>{const n=history[t];return function(r,i,o){n.call(history,r,i,o);const s=new Event(t);window.dispatchEvent(s)}};history.pushState=e("pushState"),history.replaceState=e("replaceState"),window.addEventListener("pushState",()=>{Fr&&Ly()}),window.addEventListener("replaceState",()=>{Fr&&Ry()}),window.addEventListener("popstate",()=>{Fr&&Ty()})}function Fy(e){var t,n,r;return((t=history.state.current)==null?void 0:t.split("?")[0])===e?"forward":((n=history.state.forward)==null?void 0:n.split("?")[0])===e?"backward":(((r=history.state.back)==null?void 0:r.split("?")[0])===e,"forward")}function By(){return it>3?it-3:0}function Dy(e){const t=Dt.findIndex(n=>n.current===e);return t<0?(console.warn("not find current route"),0):t>it?0:it-t}function My(){var e;window._routerInitialized||(window._routerInitialized=Symbol(),Pd(),Cy(),Iy(),((e=window==null?void 0:window.__edger_env__)==null?void 0:e.env)!=="edgerapp"&&Py())}const ky={init:My,direction:Fy,historyDepth:Dy,historyLength:By},Ny=e=>Re("openAppInWorld",{target:{id:e}},{ignoreResponse:!1,timeout:2*60*1e3,deliverStrategy:Se.desktop}),jy=()=>{var e;(e=S==null?void 0:S.enableHistoryNavigation)==null||e.call(S)},Uy=(e=!0)=>{var t;(t=S==null?void 0:S.enableCustomNavigation)==null||t.call(S,e)},Vy=()=>Re("theme",{},{ignoreResponse:!1,timeout:5e3,deliverStrategy:Se.preferTop}),Hy=()=>Re("env",{},{ignoreResponse:!1,timeout:5e3,deliverStrategy:Se.preferTop}).then(e=>{const t=e;return t.env==="mobile"&&(t.env="edgerapp"),t}),Ky=()=>Re("deviceInfo",{},{ignoreResponse:!1,timeout:5e3,deliverStrategy:Se.preferTop}).then(e=>e),Kl=["top","left","right","bottom"],Ui={};let pa,At,yi;function ma(){return!("CSS"in window)||typeof CSS.supports!="function"?At="":CSS.supports("top: env(safe-area-inset-top)")?At="env":CSS.supports("top: constant(safe-area-inset-top)")?At="constant":At="",At}function Id(){if(At=typeof At=="string"?At:ma(),!At){Kl.forEach(o=>{Ui[o]=0});return}function e(o,s){const c=o.style;Object.keys(s).forEach(f=>{const d=s[f];c[f]=d})}const t=[];function n(o){o?t.push(o):t.forEach(s=>{s()})}let r=!1;try{const o=Object.defineProperty({},"passive",{get:function(){r={passive:!0}}});window.addEventListener("test",null,o)}catch{}function i(o,s){const c=document.createElement("div"),f=document.createElement("div"),d=document.createElement("div"),u=document.createElement("div"),a=100,l=1e4,h={position:"absolute",width:a+"px",height:"200px",boxSizing:"border-box",overflow:"hidden",paddingBottom:`${At}(safe-area-inset-${s})`};e(c,h),e(f,h),e(d,{transition:"0s",animation:"none",width:"400px",height:"400px"}),e(u,{transition:"0s",animation:"none",width:"250%",height:"250%"}),c.appendChild(d),f.appendChild(u),o.appendChild(c),o.appendChild(f),n(()=>{c.scrollTop=f.scrollTop=l;let E=c.scrollTop,y=f.scrollTop;function m(){this.scrollTop!==(this===c?E:y)&&(c.scrollTop=f.scrollTop=l,E=c.scrollTop,y=f.scrollTop,Wy(s))}c.addEventListener("scroll",m,r),f.addEventListener("scroll",m,r)});const g=getComputedStyle(c);Object.defineProperty(Ui,s,{configurable:!0,get(){return parseFloat(g.paddingBottom)}})}yi=document.createElement("div"),e(yi,{position:"absolute",left:"0",top:"0",width:"0",height:"0",zIndex:"-1",overflow:"hidden",visibility:"hidden"}),Kl.forEach(o=>{i(yi,o)}),document.body.appendChild(yi),n(),pa=!0}function Ei(e){return pa||Id(),Ui[e]}const xi=[];function Wy(e){xi.length||setTimeout(()=>{const t={};xi.forEach(n=>{t[n]=Ui[n]}),xi.length=0,Vi.forEach(n=>{n(t)})},0),xi.push(e)}const Vi=[];function zy(e){ma()&&(pa||Id(),typeof e=="function"&&Vi.push(e))}function Gy(e){const t=Vi.indexOf(e);t>=0&&Vi.splice(t,1)}const qt={get support(){return(typeof At=="string"?At:ma()).length!=0},get top(){return Ei("top")},get left(){return Ei("left")},get right(){return Ei("right")},get bottom(){return Ei("bottom")},onChange:zy,offChange:Gy},Fd=["top","left","right","bottom"];let Es=!1;const $y=()=>{const e={top:qt.top,left:qt.left,right:qt.right,bottom:qt.bottom};Fd.forEach(t=>document.body.style.setProperty(`--edger-safe-area-inset-${t}`,`${e[t]}px`))},Bd=()=>(Es||$y(),Re("safeArea",{},{ignoreResponse:!1,timeout:5e3,deliverStrategy:Se.desktop}).then(({safeAreaInsets:t})=>(Fd.forEach(n=>document.body.style.setProperty(`--edger-safe-area-inset-${n}`,`${t[n]}px`)),Es=!0,{safeAreaInsets:t})).catch(()=>({safeAreaInsets:{top:qt.top,left:qt.left,right:qt.right,bottom:qt.bottom}}))),Wl=()=>{qt.onChange(e=>{if(!Es){const t=Object.keys(e);Array.isArray(t)&&t.length&&t.forEach(n=>{document.body.style.setProperty(`--edger-safe-area-inset-${n}`,`${e[n]}px`)})}}),Bd()};document.body?Wl():window.addEventListener("load",()=>{Wl()});const qy=(e,t,n)=>Re("downloadFile",{uri:e,options:t,headers:n},{deliverStrategy:Se.preferTop,ignoreResponse:!1,timeout:10*1e3}).then(r=>{const{id:i,status:o,path:s}=r;return{id:i,status:o,path:s}}),Xy=e=>Re("downloadAbort",{id:e},{deliverStrategy:Se.preferTop,ignoreResponse:!1,timeout:10*1e3}).then(t=>({success:t})).catch(()=>({success:!1})),Yy=e=>Re("downloadState",{id:e},{deliverStrategy:Se.preferTop,ignoreResponse:!1,timeout:10*1e3}).then(t=>(delete t.packageName,{...t})),Jy=e=>Re("downloadFile",{id:e},{deliverStrategy:Se.preferTop,ignoreResponse:!1,timeout:10*1e3}).then(t=>{const{id:n,status:r}=t;return{id:n,status:r}}),Zy=e=>Re("openFile",{id:e},{deliverStrategy:Se.preferTop,ignoreResponse:!1,timeout:10*1e3}).then(t=>({success:t})).catch(()=>({success:!1})),Qy=e=>{var t,n;return Y((n=(t=S==null?void 0:S.fs)==null?void 0:t.showMediaSelector)==null?void 0:n.call(t,e))},eE=()=>{var e,t;return Y((t=(e=S==null?void 0:S.fs)==null?void 0:e.releaseMediaSelector)==null?void 0:t.call(e))},tE=e=>{var t,n;return Y((n=(t=S==null?void 0:S.fs)==null?void 0:t.showFileSelector)==null?void 0:n.call(t,e))},nE=e=>{var t,n;return Y((n=(t=S==null?void 0:S.fs)==null?void 0:t.dumpDir)==null?void 0:n.call(t,e))},rE=e=>{var t,n;return Y((n=(t=S==null?void 0:S.fs)==null?void 0:t.readAsBase64)==null?void 0:n.call(t,e))},iE=e=>{var t,n;return Y((n=(t=S==null?void 0:S.fs)==null?void 0:t.stat)==null?void 0:n.call(t,e))},oE=e=>{var t,n;return Y((n=(t=S==null?void 0:S.fs)==null?void 0:t.save)==null?void 0:n.call(t,e))},zl={open:Zy,showMediaSelector:Qy,releaseMediaSelector:eE,showFileSelector:tE,dumpDir:nE,readAsBase64:rE,stat:iE,save:oE};function _o(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=Math.random()*16|0;return(e=="x"?t:t&3|8).toString(16)})}class sE{constructor(t,n){_t(this,"type");_t(this,"config");_t(this,"id");_t(this,"listeners",new Map);this.type=t,this.config=n,this.id=_o()}getId(){return this.id}present(){var t,n;if(!this.config)return tr("Parameter error");if(this.config.clickOverlayToClose??(this.config.clickOverlayToClose=!1),this.type==="bottom_sheet_btn"){const r=this.config;r.multiple??(r.multiple=!1),r.content.forEach(i=>{i!=null&&i.label&&(i.labelColor??(i.labelColor="#0077fa"),i.labelBgColor??(i.labelBgColor="#eaf5ff"))})}return Y((n=(t=S==null?void 0:S.dialog)==null?void 0:t.present)==null?void 0:n.call(t,this.id,this.type,this.config))}update(t){var n,r;return Y((r=(n=S==null?void 0:S.dialog)==null?void 0:n.update)==null?void 0:r.call(n,this.id,this.type,t))}dismiss(){var t,n;return Y((n=(t=S==null?void 0:S.dialog)==null?void 0:t.dismiss)==null?void 0:n.call(t,this.id))}onAction(t,n){var r,i;if((r=S==null?void 0:S.dialog)!=null&&r.addEventListener){const o=s=>{s.id===this.id&&n(s)};(i=S.dialog)==null||i.addEventListener(t,o),this.listeners.set(n,{event:t,listener:o})}else console.error("dialog addEventListener not supported.")}addEventListener(t,n){var r,i;if((r=S==null?void 0:S.dialog)!=null&&r.addEventListener){const o=s=>{s.id===this.id&&n(s)};(i=S.dialog)==null||i.addEventListener(t,o),this.listeners.set(n,{event:t,listener:o})}else console.error("dialog addEventListener not supported.")}removeEventListener(t,n){var i,o;const r=this.listeners.get(n);r&&((i=S==null?void 0:S.dialog)!=null&&i.removeEventListener)?(o=S.dialog)==null||o.removeEventListener(t,r==null?void 0:r.listener):console.error("dialog addEventListener not supported.")}removeAllListeners(t){var n;(n=S==null?void 0:S.dialog)!=null&&n.removeAllListeners?this.listeners.forEach((r,i)=>{var o,s;t?r.event===t&&((s=S.dialog)==null||s.removeEventListener(t,r.listener)):(o=S.dialog)==null||o.removeEventListener(t,r.listener)}):console.error("dialog addEventListener not supported.")}}const Gl=(e,t)=>{var n,r;(n=S==null?void 0:S.dialog)!=null&&n.addEventListener?(r=S.dialog)==null||r.addEventListener(e,t):console.error("dialog addEventListener not supported.")},aE=(e,t)=>{var n,r;(n=S==null?void 0:S.dialog)!=null&&n.removeEventListener?(r=S.dialog)==null||r.removeEventListener(e,t):console.error("dialog removeEventListener not supported.")},lE=e=>{var t,n;(t=S==null?void 0:S.dialog)!=null&&t.removeAllListeners?(n=S.dialog)==null||n.removeAllListeners(e):console.error("dialog removeAllListeners not supported.")},uE=(e,t)=>new sE(e,t),cE={create:uE,onAction:Gl,addEventListener:Gl,removeEventListener:aE,removeAllListeners:lE};class fE{present(t,n={}){var r,i;return(n==null?void 0:n.duration)??(n.duration=3e3),(n==null?void 0:n.position)??(n.position="top"),Y((i=(r=S==null?void 0:S.toast)==null?void 0:r.present)==null?void 0:i.call(r,t,{...n,actions:n.actions?[n.actions]:void 0}))}addEventListener(t,n){var r,i;(r=S==null?void 0:S.toast)!=null&&r.addEventListener?(i=S.toast)==null||i.addEventListener(t,n):console.error("toast addEventListener not supported.")}removeEventListener(t,n){var r,i;(r=S==null?void 0:S.toast)!=null&&r.removeEventListener?(i=S.toast)==null||i.removeEventListener(t,n):console.error("toast removeEventListener not supported.")}removeAllListeners(t){var n,r;(n=S==null?void 0:S.toast)!=null&&n.removeAllListeners?(r=S.toast)==null||r.removeAllListeners(t):console.error("toast removeAllListeners not supported.")}}const dE=new fE,pn=window.__edger__;function bi(e,t,n={}){return pn!=null&&pn.notice?(n??(n={}),n.singleton??(n.singleton=!0),n.duration??(n.duration=3e3),n.closable??(n.closable=!1),pn.notice.present(t,e,n)):tr()}class hE{info(t,n){return bi("info",t,n)}success(t,n){return bi("success",t,n)}warning(t,n){return bi("warning",t,n)}error(t,n){return bi("error",t,n)}dismiss(t){return pn!=null&&pn.notify?pn.notice.dismiss(t):Promise.reject(Error("Not Support"))}}const pE=new hE;class mE{constructor(t=0){_t(this,"duration");_t(this,"id");this.duration=t,this.id=_o()}present(){var t,n;return Y((n=(t=S==null?void 0:S.loading)==null?void 0:t.present)==null?void 0:n.call(t,this.id,this.duration))}dismiss(){var t,n;return Y((n=(t=S==null?void 0:S.loading)==null?void 0:t.dismiss)==null?void 0:n.call(t,this.id))}}const _E=e=>new mE(e),gE={create:_E};class vE{constructor(){}address(t,n){var r,i;return Y((i=(r=S==null?void 0:S.geo)==null?void 0:r.address)==null?void 0:i.call(r,t,n))}}const yE=new vE,EE=()=>Re("verifySecurity",null,{deliverStrategy:Se.desktop,ignoreResponse:!1,timeout:2*60*1e3}),xE="1.2.1",bE=()=>S!=null&&S.setHeaders?S.setHeaders({version:xE}):tr(),ii=e=>!(S!=null&&S.haptics)||!S.haptics[e]?tr():S.haptics[e](),SE=()=>ii("impactMedium"),wE=()=>ii("impactHeavy"),AE=()=>ii("impactLight"),CE=()=>ii("impactTick"),LE=()=>ii("vibrate"),RE=Object.freeze(Object.defineProperty({__proto__:null,impactHeavy:wE,impactLight:AE,impactMedium:SE,impactTick:CE,vibrate:LE},Symbol.toStringTag,{value:"Module"})),TE=["start","pause","resume","cancel","retry","resume","done","error","progress"];TE.forEach(e=>{S==null||S.on(`job_${e}`,t=>{Pn(t)})});const OE=(e,t,n)=>{var r,i;return Y((i=(r=S==null?void 0:S.job)==null?void 0:r.create)==null?void 0:i.call(r,e,t,n))},PE=e=>{var t,n;return Y((n=(t=S==null?void 0:S.job)==null?void 0:t.get)==null?void 0:n.call(t,e))},IE=(e,t)=>{var n,r;return Y((r=(n=S==null?void 0:S.job)==null?void 0:n.cancel)==null?void 0:r.call(n,e,t))},FE=(e,t)=>{var n,r;return Y((r=(n=S==null?void 0:S.job)==null?void 0:n.pause)==null?void 0:r.call(n,e,t))},BE=(e,t,n)=>{var r,i;return Y((i=(r=S==null?void 0:S.job)==null?void 0:r.resume)==null?void 0:i.call(r,e,t,n))},DE=(e,t,n)=>{var r,i;return Y((i=(r=S==null?void 0:S.job)==null?void 0:r.retry)==null?void 0:i.call(r,e,t,n))},ME=()=>{var e,t;return Y((t=(e=S==null?void 0:S.job)==null?void 0:e.errorSummary)==null?void 0:t.call(e))},kE=(e,t)=>{var n,r;return Y((r=(n=S==null?void 0:S.job)==null?void 0:n.updateStatus)==null?void 0:r.call(n,e,t))},NE=(e,t)=>{var n,r,i;return Y((i=(r=(n=S==null?void 0:S.job)==null?void 0:n.history)==null?void 0:r.query)==null?void 0:i.call(r,e,t))},jE=e=>{var t,n,r;return Y((r=(n=(t=S==null?void 0:S.job)==null?void 0:t.history)==null?void 0:n.count)==null?void 0:r.call(n,e))},UE=e=>{var t,n,r;return Y((r=(n=(t=S==null?void 0:S.job)==null?void 0:t.history)==null?void 0:n.delete)==null?void 0:r.call(n,e))},VE=e=>{var t,n,r;return Y((r=(n=(t=S==null?void 0:S.job)==null?void 0:t.history)==null?void 0:n.deleteAll)==null?void 0:r.call(n,e))},$l=(e,t)=>{var n,r;(n=S==null?void 0:S.job)!=null&&n.addEventListener?(r=S.job)==null||r.addEventListener(e,t):console.error("job addEventListener not supported.")},HE=(e,t)=>{var n,r;(n=S==null?void 0:S.job)!=null&&n.removeEventListener?(r=S.job)==null||r.removeEventListener(e,t):console.error("job removeEventListener not supported.")},KE=e=>{var t,n;(t=S==null?void 0:S.job)!=null&&t.removeAllListeners?(n=S.job)==null||n.removeAllListeners(e):console.error("job removeAllListeners not supported.")},WE={query:NE,count:jE,delete:UE,deleteAll:VE},zE={create:OE,get:PE,cancel:IE,pause:FE,resume:BE,retry:DE,errorSummary:ME,updateStatus:kE,history:WE,onAction:$l,addEventListener:$l,removeEventListener:HE,removeAllListeners:KE};S==null||S.on("event_album_change",e=>{Pn(e)});const GE=()=>{var e,t;return Y((t=(e=S==null?void 0:S.album)==null?void 0:e.query)==null?void 0:t.call(e))},$E=e=>{var t,n;return Y((n=(t=S==null?void 0:S.album)==null?void 0:t.dir)==null?void 0:n.call(t,e))},qE=(e,t={})=>{var n,r;return Y((r=(n=S==null?void 0:S.album)==null?void 0:n.save)==null?void 0:r.call(n,{...e,headers:t}))},ql=(e,t)=>{var n,r;(n=S==null?void 0:S.album)!=null&&n.addEventListener?(r=S.album)==null||r.addEventListener(e,t):console.error("album addEventListener not supported.")},XE=(e,t)=>{var n,r;(n=S==null?void 0:S.album)!=null&&n.removeEventListener?(r=S.album)==null||r.removeEventListener(e,t):console.error("album removeEventListener not supported.")},YE=e=>{var t,n;(t=S==null?void 0:S.album)!=null&&t.removeAllListeners?(n=S.album)==null||n.removeAllListeners(e):console.error("album removeAllListeners not supported.")},JE={query:GE,dir:$E,save:qE,onAction:ql,addEventListener:ql,removeEventListener:XE,removeAllListeners:YE};class ZE{constructor(t){_t(this,"id");_t(this,"options");_t(this,"addEventListener",(t,n)=>{var r,i;(r=S==null?void 0:S.media)!=null&&r.addEventListener?(i=S.media)==null||i.addEventListener(t,n):console.error("media addEventListener not supported.")});_t(this,"onAction",this.addEventListener);_t(this,"removeEventListener",(t,n)=>{var r,i;(r=S==null?void 0:S.media)!=null&&r.removeEventListener?(i=S.media)==null||i.removeEventListener(t,n):console.error("media removeEventListener not supported.")});_t(this,"removeAllListeners",t=>{var n,r;(n=S==null?void 0:S.media)!=null&&n.removeAllListeners?(r=S.media)==null||r.removeAllListeners(t):console.error("media removeAllListeners not supported.")});this.id=_o(),this.options=t}play(t){var r,i,o,s;const n={...this.options,position:(r=this.options)==null?void 0:r.position,toolbar:(i=this.options)==null?void 0:i.toolbarItems,toolbarItems:void 0,sourceFrame:t};return Y((s=(o=S==null?void 0:S.media)==null?void 0:o.play)==null?void 0:s.call(o,this.id,n))}toolbar(t){var n,r;return Y((r=(n=S==null?void 0:S.media)==null?void 0:n.updateToolbar)==null?void 0:r.call(n,this.id,t)).then(i=>(i!=null&&i.playerId&&delete i.playerId,i))}update(t,n,r=!0,i=!0){var s,c;const o={playerId:this.id,index:t,file:n,loading:r,showError:i};return Y((c=(s=S==null?void 0:S.media)==null?void 0:s.update)==null?void 0:c.call(s,o))}layout(t){var r,i;return Y((i=(r=S==null?void 0:S.media)==null?void 0:r.updateLayout)==null?void 0:i.call(r,this.id,0,t))}append(t,n){var r,i;return Y((i=(r=S==null?void 0:S.media)==null?void 0:r.append)==null?void 0:i.call(r,this.id,{direction:n,files:t}))}drop(t){var n,r;return Y((r=(n=S==null?void 0:S.media)==null?void 0:n.drop)==null?void 0:r.call(n,this.id,t))}close(t){var n,r;return Y((r=(n=S==null?void 0:S.media)==null?void 0:n.close)==null?void 0:r.call(n,this.id,t))}setMode(t){var r,i;const n={...t,playerId:this.id};return Y((i=(r=S==null?void 0:S.media)==null?void 0:r.setMode)==null?void 0:i.call(r,n))}setCasterControls(t){var r,i;const n={...t,playerId:this.id};return Y((i=(r=S==null?void 0:S.media)==null?void 0:r.setCasterControls)==null?void 0:i.call(r,n))}scrollTo(t){var r,i;const n={...t,playerId:this.id};return Y((i=(r=S==null?void 0:S.media)==null?void 0:r.scrollTo)==null?void 0:i.call(r,n))}updateAttributes(t){var r,i;const n={...t,playerId:this.id};return Y((i=(r=S==null?void 0:S.media)==null?void 0:r.updateAttributes)==null?void 0:i.call(r,n))}}const QE=e=>new ZE(e),ex={player:QE},Xl=window.__edger__,tx={init:()=>Promise.resolve(),ready:()=>Promise.resolve(),reload:()=>Promise.resolve()},nx=Xl?Xl.lifecycle:tx,rx=e=>{var t,n;return Y((n=(t=S==null?void 0:S.service)==null?void 0:t.create)==null?void 0:n.call(t,e))},ix=e=>{var t,n;return Y((n=(t=S==null?void 0:S.service)==null?void 0:t.run)==null?void 0:n.call(t,e))},ox=e=>{var t,n;return Y((n=(t=S==null?void 0:S.service)==null?void 0:t.pause)==null?void 0:n.call(t,e))},sx=e=>{var t,n;return Y((n=(t=S==null?void 0:S.service)==null?void 0:t.resume)==null?void 0:n.call(t,e))},ax=()=>{var e,t;return Y((t=(e=S==null?void 0:S.service)==null?void 0:e.query)==null?void 0:t.call(e))},lx=e=>{var t,n;return Y((n=(t=S==null?void 0:S.service)==null?void 0:t.delete)==null?void 0:n.call(t,e))},ux=e=>{var t,n;return Y((n=(t=S==null?void 0:S.service)==null?void 0:t.status)==null?void 0:n.call(t,e))},Yl=(e,t)=>{var n,r;(n=S==null?void 0:S.service)!=null&&n.addEventListener?(r=S.service)==null||r.addEventListener(e,t):console.error("service addEventListener not supported.")},cx=(e,t)=>{var n,r;(n=S==null?void 0:S.service)!=null&&n.removeEventListener?(r=S.service)==null||r.removeEventListener(e,t):console.error("service removeEventListener not supported.")},fx=e=>{var t,n;(t=S==null?void 0:S.service)!=null&&t.removeAllListeners?(n=S.service)==null||n.removeAllListeners(e):console.error("service removeAllListeners not supported.")},dx={create:rx,run:ix,pause:ox,resume:sx,query:ax,remove:lx,status:ux,onAction:Yl,addEventListener:Yl,removeEventListener:cx,removeAllListeners:fx},hx=()=>{var t,n;const e=window.__edger__;return Y((n=(t=e==null?void 0:e.app)==null?void 0:t.layout)==null?void 0:n.call(t))},px=e=>{var t,n;return Y((n=(t=S==null?void 0:S.ssdp)==null?void 0:t.init)==null?void 0:n.call(t,e))},mx=()=>{var e,t;return Y((t=(e=S==null?void 0:S.ssdp)==null?void 0:e.start)==null?void 0:t.call(e))},_x=()=>{var e,t;return Y((t=(e=S==null?void 0:S.ssdp)==null?void 0:e.stop)==null?void 0:t.call(e))},gx=()=>{var e,t;return Y((t=(e=S==null?void 0:S.ssdp)==null?void 0:e.destroy)==null?void 0:t.call(e))},vx=()=>{var e,t;return Y((t=(e=S==null?void 0:S.ssdp)==null?void 0:e.getStatus)==null?void 0:t.call(e))},Jl=(e,t)=>{var n,r;(n=S==null?void 0:S.ssdp)!=null&&n.addEventListener?(r=S.ssdp)==null||r.addEventListener(e,t):console.error("ssdp addEventListener not supported.")},yx=(e,t)=>{var n,r;(n=S==null?void 0:S.ssdp)!=null&&n.removeEventListener?(r=S.ssdp)==null||r.removeEventListener(e,t):console.error("ssdp removeEventListener not supported.")},Ex=e=>{var t,n;(t=S==null?void 0:S.ssdp)!=null&&t.removeAllListeners?(n=S.ssdp)==null||n.removeAllListeners(e):console.error("ssdp removeAllListeners not supported.")},xx={init:px,start:mx,stop:_x,destroy:gx,getStatus:vx,onAction:Jl,addEventListener:Jl,removeEventListener:yx,removeAllListeners:Ex},bx=e=>{var t,n;return Y((n=(t=S==null?void 0:S.caster)==null?void 0:t.start)==null?void 0:n.call(t,e))},Sx=()=>{var e,t;return Y((t=(e=S==null?void 0:S.caster)==null?void 0:e.stop)==null?void 0:t.call(e))},wx=()=>{var e,t;return Y((t=(e=S==null?void 0:S.caster)==null?void 0:e.getStatus)==null?void 0:t.call(e))},Zl=(e,t)=>{var n,r;(n=S==null?void 0:S.caster)!=null&&n.addEventListener?(r=S.caster)==null||r.addEventListener(e,t):console.error("caster addEventListener not supported.")},Ax=(e,t)=>{var n,r;(n=S==null?void 0:S.caster)!=null&&n.removeEventListener?(r=S.caster)==null||r.removeEventListener(e,t):console.error("caster removeEventListener not supported.")},Cx=e=>{var t,n;(t=S==null?void 0:S.caster)!=null&&t.removeAllListeners?(n=S.caster)==null||n.removeAllListeners(e):console.error("caster removeAllListeners not supported.")},Lx={start:bx,stop:Sx,getStatus:wx,onAction:Zl,addEventListener:Zl,removeEventListener:Ax,removeAllListeners:Cx},Ql={name:"app.navigate",_name:"app.view.navigate",input:{path:!0,queryParams:!0},output:{success:!0}},Rx={[Ql.name]:Ql},eu={name:"audio",event:{change:!0,status:!0,action:!0}},tu={name:"audio.play",input:{index:!0,position:!0,autoPlay:!0,speed:!0,mode:!0,headless:!0,files:{id:!0,title:!0,url:!0,author:!0,cover:!0,size:!0,headers:!0},toolbar:{icon:!0,code:!0,label:!0,disabled:!0,position:!0,labelColor:!0,labelBgColor:!0}}},nu={name:"audio.setToolbar",input:{toolbar:{icon:!0,code:!0,label:!0,disabled:!0,position:!0,labelColor:!0,labelBgColor:!0}},output:{code:!0,id:!0}},ru={name:"audio.destroy"},iu={name:"audio.delete",input:{index:!0},output:{}},Tx={[tu.name]:tu,[nu.name]:nu,[eu.name]:eu,[ru.name]:ru,[iu.name]:iu},ou={name:"float",event:{click:!0}},su={name:"float.show",input:{labelColor:!0,labelBgColor:!0,backgroundColor:!0,icon:!0,drag:!0,position:{x:!0,y:!0},margin:{top:!0,left:!0,right:!0,bottom:!0}},output:{id:!0}},au={name:"float.hide",input:{id:!0}},lu={name:"float.animate",input:{id:!0,animation:!0}},uu={name:"float.update",input:{id:!0,labelColor:!0,labelBgColor:!0,backgroundColor:!0,icon:!0,drag:!0,position:{top:!0,left:!0,right:!0,bottom:!0}}},Ox={[su.name]:su,[au.name]:au,[ou.name]:ou,[lu.name]:lu,[uu.name]:uu},cu={name:"keepAlive.start"},fu={name:"keepAlive.update"},du={name:"keepAlive.stop"},Px={[cu.name]:cu,[fu.name]:fu,[du.name]:du},hu={name:"media.player",_name:"media.play",input:{files:{title:!0,id:!0,type:!0,url:!0,thumbnailUrl:!0,livePhotoUrl:!0,headers:!0},position:{key:!0,value:!0},animation:!0,positionFileId:!0,toolbarItems:{icon:!0,code:!0,label:!0,disabled:!0,position:!0,labelColor:!0,labelBgColor:!0},mode:!0,_files:"info.files",_position:"info.position",_toolbarItems:"info.toolbarItems",_mode:"info.mode"},event:{change:!0,close:!0,status:!0,action:!0,casterControls:!0}},pu={name:"media.player.play",_name:"media.play",input:{offsetX:!0,offsetY:!0,width:!0,height:!0}},mu={name:"media.player.toolbar",_name:"media.updateToolbar",input:{icon:!0,code:!0,label:!0,disabled:!0,position:!0,labelColor:!0,labelBgColor:!0},output:{code:!0,id:!0}},_u={name:"media.player.update",_name:"media.update",input:{index:!0,file:{title:!0,id:!0,type:!0,url:!0,thumbnailUrl:!0,livePhotoUrl:!0,headers:!0},loading:!0,showError:!0}},gu={name:"media.player.layout",_name:"media.updateLayout",input:{title:!0,subtitle:!0,alignment:!0,animation:{mode:!0,config:{duration:!0,repeatCount:!0}}}},vu={name:"media.player.append",_name:"media.append",input:{files:{title:!0,id:!0,type:!0,url:!0,thumbnailUrl:!0,livePhotoUrl:!0,headers:!0},direction:!0}},yu={name:"media.player.drop",_name:"media.drop",input:{id:!0}},Eu={name:"media.player.close",_name:"media.close",input:{options:{animation:!0}}},xu={name:"media.player.setMode",_name:"media.setMode",input:{mode:!0}},bu={name:"media.player.setCasterControls",_name:"media.setCasterControls",input:{status:!0,duration:!0,progress:!0,playerId:!0}},Su={name:"media.player.scrollTo",_name:"media.scrollTo",input:{positionFileId:!0}},wu={name:"media.player.updateAttributes",_name:"media.updateAttributes",input:{attributes:{key:!0,value:!0}}},Ix={[hu.name]:hu,[pu.name]:pu,[mu.name]:mu,[_u.name]:_u,[gu.name]:gu,[vu.name]:vu,[yu.name]:yu,[Eu.name]:Eu,[xu.name]:xu,[bu.name]:bu,[Su.name]:Su,[wu.name]:wu},Au={name:"mobile.qrscan",_name:"system.qrscan"},Cu={name:"mobile.contacts",_name:"system.contacts"},Lu={name:"mobile.getVolume",_name:"system.getVolume"},Ru={name:"mobile.networkInfo",_name:"system.networkInfo"},Tu={name:"mobile.onAction",_name:"system.addEventListener"},Ou={name:"mobile.addEventListener",_name:"system.addEventListener"},Pu={name:"mobile.removeEventListener",_name:"system.removeEventListener"},Iu={name:"mobile.removeAllListeners",_name:"system.removeAllListeners"},Fx={[Au.name]:Au,[Cu.name]:Cu,[Lu.name]:Lu,[Ru.name]:Ru,[Tu.name]:Tu,[Ou.name]:Ou,[Pu.name]:Pu,[Iu.name]:Iu},Fu={name:"multiplePanel",event:{change:!0,close:!0,status:!0,action:!0}},Bu={name:"multiplePanel.open",input:{maxSelectedNum:!0,positionFileId:!0,files:{id:!0,url:!0,thumbnailUrl:!0,fileName:!0,fileType:!0,fileDesc:!0,width:!0,height:!0,selected:!0,headers:!0},groups:{icon:!0,label:!0,disabled:!0,items:{icon:!0,code:!0,label:!0,disabled:!0,labelColor:!0,labelBgColor:!0}}}},Du={name:"multiplePanel.close"},Mu={name:"multiplePanel.append",input:{files:{id:!0,url:!0,thumbnailUrl:!0,fileName:!0,fileType:!0,fileDesc:!0,width:!0,height:!0,selected:!0,headers:!0}}},ku={name:"multiplePanel.get",output:{ids:!0}},Nu={name:"multiplePanel.updateGroups",input:{groups:{icon:!0,label:!0,disabled:!0,items:{icon:!0,code:!0,label:!0,disabled:!0,labelColor:!0,labelBgColor:!0}}}},Bx={[Bu.name]:Bu,[Du.name]:Du,[Mu.name]:Mu,[ku.name]:ku,[Nu.name]:Nu,[Fu.name]:Fu},ju={name:"permissionTexts.register",input:{params:{type:!0,code:!0,dialogContent:!0,drawerContent:!0}},output:{success:!0}},Uu={name:"permissionTexts.unregister",input:{params:{type:!0,code:!0}},output:{success:!0}},Vu={name:"permissionTexts.query",output:{result:{type:!0,code:!0,dialogContent:!0,drawerContent:!0}}},Dx={[ju.name]:ju,[Uu.name]:Uu,[Vu.name]:Vu},Hu={name:"filePreview",event:{status:!0}},Ku={name:"filePreview.open",input:{files:{id:!0,name:!0,type:!0,url:!0,createTime:!0,modifyTime:!0,size:!0,headers:!0},positionFileId:!0}},Wu={name:"filePreview.close"},zu={name:"filePreview.addEventListener"},Gu={name:"filePreview.removeEventListener"},$u={name:"filePreview.removeAllListeners"},qu={[Hu.name]:Hu,[Ku.name]:Ku,[Wu.name]:Wu,[zu.name]:zu,[Gu.name]:Gu,[$u.name]:$u},Xu={name:"share",event:{status:!0}},Yu={name:"share.open",input:{channelType:!0,contentType:!0,content:{id:!0,name:!0,url:!0,headers:!0,title:!0,imgUrl:!0,size:!0}}},Ju={name:"share.addEventListener"},Zu={name:"share.removeEventListener"},Qu={name:"share.removeAllListeners"},Mx={[Xu.name]:Xu,[Yu.name]:Yu,[Ju.name]:Ju,[Zu.name]:Zu,[Qu.name]:Qu},ec={name:"fs.save"},tc={name:"fs.open"},nc={name:"fs.showFileSelector"},rc={name:"fs.showMediaSelector"},ic={name:"fs.releaseMediaSelector"},oc={name:"fs.dumpDir"},sc={name:"fs.readAsBase64"},ac={name:"fs.stat"},kx={[ec.name]:ec,[tc.name]:tc,[nc.name]:nc,[rc.name]:rc,[ic.name]:ic,[oc.name]:oc,[sc.name]:sc,[ac.name]:ac},Nx={...Rx,...Tx,...Ix,...Bx,...Dx,...Fx,...Px,...qu,...Mx,...Ox,...qu,...kx};function lc(e,t){try{if(!t)throw new Error("caps is null");const n=e.split(".");let r=t;for(;n.length;){const i=n.shift();if(r=r[i],r===void 0)return!1}return!0}catch(n){return console.error("checkKeyExist",n),!1}}function jx(e,t){try{if(!t)throw new Error("schema is null");const n=e.split(".");let r=t,i=[];for(;n.length;){const o=n.shift();`_${o}`in r?i.push(r[`_${o}`]):i.push(o),r=r[o]}return i.join(".")}catch(n){return console.error("mapToInternalSdkInput",n),""}}function Ux(e,t){var n;try{const r=Nx[e.name];if(!r)return!1;let i=e.name;if("_name"in r&&(i=r._name),!(t!=null&&t.canIUse({name:i})))return!1;if(e.input){if(!lc(e.input,r.input))return!1;const o=jx(e.input,r.input);if(!o||!(t!=null&&t.canIUse({name:i,input:o})))return!1}return!(e.output&&!lc(e.output,r.output)||e.event&&(!((n=r.event)!=null&&n[e.event])||!(t!=null&&t.canIUse({name:i,event:e.event}))))}catch(r){return console.error("schema format",r),!1}}function Vx(e){return Ux(e,S)}function Hx(e){var t,n;return Y((n=(t=S==null?void 0:S.multiplePanel)==null?void 0:t.open)==null?void 0:n.call(t,e))}function Kx(){var e,t;return Y((t=(e=S==null?void 0:S.multiplePanel)==null?void 0:e.close)==null?void 0:t.call(e))}function Wx(e){var t,n;return Y((n=(t=S==null?void 0:S.multiplePanel)==null?void 0:t.append)==null?void 0:n.call(t,e))}function zx(){var e,t;return Y((t=(e=S==null?void 0:S.multiplePanel)==null?void 0:e.get)==null?void 0:t.call(e))}function Gx(e){var t,n;return Y((n=(t=S==null?void 0:S.multiplePanel)==null?void 0:t.updateGroups)==null?void 0:n.call(t,e))}const $x=(e,t)=>{var n,r;(n=S==null?void 0:S.multiplePanel)!=null&&n.addEventListener?(r=S.multiplePanel)==null||r.addEventListener(e,t):console.error("multiplePanel addEventListener not supported.")},qx=(e,t)=>{var n,r;(n=S==null?void 0:S.multiplePanel)!=null&&n.removeEventListener?(r=S.multiplePanel)==null||r.removeEventListener(e,t):console.error("multiplePanel removeEventListener not supported.")},Xx=e=>{var t,n;(t=S==null?void 0:S.multiplePanel)!=null&&t.removeAllListeners?(n=S.multiplePanel)==null||n.removeAllListeners(e):console.error("multiplePanel removeAllListeners not supported.")},Yx={open:Hx,close:Kx,get:zx,append:Wx,updateGroups:Gx,addEventListener:$x,removeEventListener:qx,removeAllListeners:Xx};class Jx{start(){var t,n;return Y((n=(t=S==null?void 0:S.keepAlive)==null?void 0:t.start)==null?void 0:n.call(t))}update(){var t,n;return Y((n=(t=S==null?void 0:S.keepAlive)==null?void 0:t.update)==null?void 0:n.call(t))}stop(){var t,n;return Y((n=(t=S==null?void 0:S.keepAlive)==null?void 0:t.stop)==null?void 0:n.call(t))}}const Zx=new Jx;function Qx(e){var r,i;let t=_o();e.id&&(t=e.id);let n={...e,id:t};return Y((i=(r=S==null?void 0:S.float)==null?void 0:r.show)==null?void 0:i.call(r,n))}function eb(e){var t,n;return Y((n=(t=S==null?void 0:S.float)==null?void 0:t.hide)==null?void 0:n.call(t,e))}function tb(e){var t,n;return Y((n=(t=S==null?void 0:S.float)==null?void 0:t.animate)==null?void 0:n.call(t,e))}function nb(e){var t,n;return Y((n=(t=S==null?void 0:S.float)==null?void 0:t.update)==null?void 0:n.call(t,e))}const rb=(e,t)=>{var n,r;(n=S==null?void 0:S.float)!=null&&n.addEventListener?(r=S.float)==null||r.addEventListener(e,t):console.error("float addEventListener not supported.")},ib=(e,t)=>{var n,r;(n=S==null?void 0:S.float)!=null&&n.removeEventListener?(r=S.float)==null||r.removeEventListener(e,t):console.error("float removeEventListener not supported.")},ob=e=>{var t,n;(t=S==null?void 0:S.float)!=null&&t.removeAllListeners?(n=S.float)==null||n.removeAllListeners(e):console.error("float removeAllListeners not supported.")},sb={show:Qx,hide:eb,update:nb,animate:tb,addEventListener:rb,removeEventListener:ib,removeAllListeners:ob};class ab{open(t){var n,r;return Y((r=(n=S==null?void 0:S.filePreview)==null?void 0:n.open)==null?void 0:r.call(n,t))}close(){var t,n;return Y((n=(t=S==null?void 0:S.filePreview)==null?void 0:t.close)==null?void 0:n.call(t))}addEventListener(t,n){var r,i;(r=S==null?void 0:S.filePreview)!=null&&r.addEventListener?(i=S.filePreview)==null||i.addEventListener(t,n):console.error("filePreview addEventListener not supported.")}onAction(t,n){var r,i;(r=S==null?void 0:S.filePreview)!=null&&r.addEventListener?(i=S.filePreview)==null||i.addEventListener(t,n):console.error("filePreview onAction not supported.")}removeEventListener(t,n){var r,i;(r=S==null?void 0:S.filePreview)!=null&&r.removeEventListener?(i=S.filePreview)==null||i.removeEventListener(t,n):console.error("filePreview removeEventListener not supported.")}removeAllListeners(t){var n,r;(n=S==null?void 0:S.filePreview)!=null&&n.removeAllListeners?(r=S.filePreview)==null||r.removeAllListeners(t):console.error("filePreview removeAllListeners not supported.")}}const lb=new ab;class ub{open(t){var n,r;return Y((r=(n=S==null?void 0:S.share)==null?void 0:n.open)==null?void 0:r.call(n,t))}addEventListener(t,n){var r,i;(r=S==null?void 0:S.share)!=null&&r.addEventListener?(i=S.share)==null||i.addEventListener(t,n):console.error("share addEventListener not supported.")}removeEventListener(t,n){var r,i;(r=S==null?void 0:S.share)!=null&&r.removeEventListener?(i=S.share)==null||i.removeEventListener(t,n):console.error("share removeEventListener not supported.")}removeAllListeners(t){var n,r;(n=S==null?void 0:S.share)!=null&&n.removeAllListeners?(r=S.share)==null||r.removeAllListeners(t):console.error("share removeAllListeners not supported.")}}const cb=new ub;function fb(){var e,t;return Y((t=(e=S==null?void 0:S.eap)==null?void 0:e.eviewHideAll)==null?void 0:t.call(e))}const db={eviewHideAll:fb},hb={open:Zv,appworld:Ny,letter:xy,browser:ty,title:Qv,layout:hx,navigate:ny,callThirdPartyApp:ry},pb={request:cy,fetch:fy},mb={download:qy,abort:Xy,state:Yy,retry:Jy},_b={state:ly,lock:sy,unlock:ay},gb={pay:Yv},vb={safeArea:Bd},yb={verify:EE},Mt={_on:Od,_off:Hv,_emit:Pn,_cmd:Re,onAction:Nv,addEventListener:jv,removeEventListener:Uv,removeAllListeners:Vv,user:uy,avoidKeyboardOverlay:vy,audio:Mv,app:hb,notify:pE,mobile:Xv,permission:pb,permissionTexts:my,payment:gb,apps:Jv,connectMode:iy,orientation:_b,network:_y,language:ey,version:yy,token:Ey,enableHistoryNavigation:jy,enableCustomNavigation:Uy,theme:Vy,env:Hy,deviceInfo:Ky,layout:vb,downloadTask:mb,filesystem:zl,fs:zl,loading:gE,dialog:cE,toast:dE,geo:yE,album:JE,job:zE,security:yb,router:ky,haptics:RE,media:ex,lifecycle:nx,service:dx,ssdp:xx,caster:Lx,canIUse:Vx,multiplePanel:Yx,keepAlive:Zx,float:sb,filePreview:lb,share:cb,eap:db};Sy(30);oy();bE();const Dd="%[a-f0-9]{2}",uc=new RegExp("("+Dd+")|([^%]+?)","gi"),cc=new RegExp("("+Dd+")+","gi");function xs(e,t){try{return[decodeURIComponent(e.join(""))]}catch{}if(e.length===1)return e;t=t||1;const n=e.slice(0,t),r=e.slice(t);return Array.prototype.concat.call([],xs(n),xs(r))}function Eb(e){try{return decodeURIComponent(e)}catch{let t=e.match(uc)||[];for(let n=1;n<t.length;n++)e=xs(t,n).join(""),t=e.match(uc)||[];return e}}function xb(e){const t={"%FE%FF":"","%FF%FE":""};let n=cc.exec(e);for(;n;){try{t[n[0]]=decodeURIComponent(n[0])}catch{const i=Eb(n[0]);i!==n[0]&&(t[n[0]]=i)}n=cc.exec(e)}t["%C2"]="";const r=Object.keys(t);for(const i of r)e=e.replace(new RegExp(i,"g"),t[i]);return e}function bb(e){if(typeof e!="string")throw new TypeError("Expected `encodedURI` to be of type `string`, got `"+typeof e+"`");try{return decodeURIComponent(e)}catch{return xb(e)}}function Md(e,t){if(!(typeof e=="string"&&typeof t=="string"))throw new TypeError("Expected the arguments to be of type `string`");if(e===""||t==="")return[];const n=e.indexOf(t);return n===-1?[]:[e.slice(0,n),e.slice(n+t.length)]}function Sb(e,t){const n={};if(Array.isArray(t))for(const r of t){const i=Object.getOwnPropertyDescriptor(e,r);i!=null&&i.enumerable&&Object.defineProperty(n,r,i)}else for(const r of Reflect.ownKeys(e)){const i=Object.getOwnPropertyDescriptor(e,r);if(i.enumerable){const o=e[r];t(r,o,e)&&Object.defineProperty(n,r,i)}}return n}const wb=e=>e==null,Ab=e=>encodeURIComponent(e).replaceAll(/[!'()*]/g,t=>`%${t.charCodeAt(0).toString(16).toUpperCase()}`),bs=Symbol("encodeFragmentIdentifier");function Cb(e){switch(e.arrayFormat){case"index":return t=>(n,r)=>{const i=n.length;return r===void 0||e.skipNull&&r===null||e.skipEmptyString&&r===""?n:r===null?[...n,[qe(t,e),"[",i,"]"].join("")]:[...n,[qe(t,e),"[",qe(i,e),"]=",qe(r,e)].join("")]};case"bracket":return t=>(n,r)=>r===void 0||e.skipNull&&r===null||e.skipEmptyString&&r===""?n:r===null?[...n,[qe(t,e),"[]"].join("")]:[...n,[qe(t,e),"[]=",qe(r,e)].join("")];case"colon-list-separator":return t=>(n,r)=>r===void 0||e.skipNull&&r===null||e.skipEmptyString&&r===""?n:r===null?[...n,[qe(t,e),":list="].join("")]:[...n,[qe(t,e),":list=",qe(r,e)].join("")];case"comma":case"separator":case"bracket-separator":{const t=e.arrayFormat==="bracket-separator"?"[]=":"=";return n=>(r,i)=>i===void 0||e.skipNull&&i===null||e.skipEmptyString&&i===""?r:(i=i===null?"":i,r.length===0?[[qe(n,e),t,qe(i,e)].join("")]:[[r,qe(i,e)].join(e.arrayFormatSeparator)])}default:return t=>(n,r)=>r===void 0||e.skipNull&&r===null||e.skipEmptyString&&r===""?n:r===null?[...n,qe(t,e)]:[...n,[qe(t,e),"=",qe(r,e)].join("")]}}function Lb(e){let t;switch(e.arrayFormat){case"index":return(n,r,i)=>{if(t=/\[(\d*)]$/.exec(n),n=n.replace(/\[\d*]$/,""),!t){i[n]=r;return}i[n]===void 0&&(i[n]={}),i[n][t[1]]=r};case"bracket":return(n,r,i)=>{if(t=/(\[])$/.exec(n),n=n.replace(/\[]$/,""),!t){i[n]=r;return}if(i[n]===void 0){i[n]=[r];return}i[n]=[...i[n],r]};case"colon-list-separator":return(n,r,i)=>{if(t=/(:list)$/.exec(n),n=n.replace(/:list$/,""),!t){i[n]=r;return}if(i[n]===void 0){i[n]=[r];return}i[n]=[...i[n],r]};case"comma":case"separator":return(n,r,i)=>{const o=typeof r=="string"&&r.includes(e.arrayFormatSeparator),s=typeof r=="string"&&!o&&$t(r,e).includes(e.arrayFormatSeparator);r=s?$t(r,e):r;const c=o||s?r.split(e.arrayFormatSeparator).map(f=>$t(f,e)):r===null?r:$t(r,e);i[n]=c};case"bracket-separator":return(n,r,i)=>{const o=/(\[])$/.test(n);if(n=n.replace(/\[]$/,""),!o){i[n]=r&&$t(r,e);return}const s=r===null?[]:r.split(e.arrayFormatSeparator).map(c=>$t(c,e));if(i[n]===void 0){i[n]=s;return}i[n]=[...i[n],...s]};default:return(n,r,i)=>{if(i[n]===void 0){i[n]=r;return}i[n]=[...[i[n]].flat(),r]}}}function kd(e){if(typeof e!="string"||e.length!==1)throw new TypeError("arrayFormatSeparator must be single character string")}function qe(e,t){return t.encode?t.strict?Ab(e):encodeURIComponent(e):e}function $t(e,t){return t.decode?bb(e):e}function Nd(e){return Array.isArray(e)?e.sort():typeof e=="object"?Nd(Object.keys(e)).sort((t,n)=>Number(t)-Number(n)).map(t=>e[t]):e}function jd(e){const t=e.indexOf("#");return t!==-1&&(e=e.slice(0,t)),e}function Rb(e){let t="";const n=e.indexOf("#");return n!==-1&&(t=e.slice(n)),t}function fc(e,t){return t.parseNumbers&&!Number.isNaN(Number(e))&&typeof e=="string"&&e.trim()!==""?e=Number(e):t.parseBooleans&&e!==null&&(e.toLowerCase()==="true"||e.toLowerCase()==="false")&&(e=e.toLowerCase()==="true"),e}function _a(e){e=jd(e);const t=e.indexOf("?");return t===-1?"":e.slice(t+1)}function ga(e,t){t={decode:!0,sort:!0,arrayFormat:"none",arrayFormatSeparator:",",parseNumbers:!1,parseBooleans:!1,...t},kd(t.arrayFormatSeparator);const n=Lb(t),r=Object.create(null);if(typeof e!="string"||(e=e.trim().replace(/^[?#&]/,""),!e))return r;for(const i of e.split("&")){if(i==="")continue;const o=t.decode?i.replaceAll("+"," "):i;let[s,c]=Md(o,"=");s===void 0&&(s=o),c=c===void 0?null:["comma","separator","bracket-separator"].includes(t.arrayFormat)?c:$t(c,t),n($t(s,t),c,r)}for(const[i,o]of Object.entries(r))if(typeof o=="object"&&o!==null)for(const[s,c]of Object.entries(o))o[s]=fc(c,t);else r[i]=fc(o,t);return t.sort===!1?r:(t.sort===!0?Object.keys(r).sort():Object.keys(r).sort(t.sort)).reduce((i,o)=>{const s=r[o];return i[o]=s&&typeof s=="object"&&!Array.isArray(s)?Nd(s):s,i},Object.create(null))}function Ud(e,t){if(!e)return"";t={encode:!0,strict:!0,arrayFormat:"none",arrayFormatSeparator:",",...t},kd(t.arrayFormatSeparator);const n=s=>t.skipNull&&wb(e[s])||t.skipEmptyString&&e[s]==="",r=Cb(t),i={};for(const[s,c]of Object.entries(e))n(s)||(i[s]=c);const o=Object.keys(i);return t.sort!==!1&&o.sort(t.sort),o.map(s=>{const c=e[s];return c===void 0?"":c===null?qe(s,t):Array.isArray(c)?c.length===0&&t.arrayFormat==="bracket-separator"?qe(s,t)+"[]":c.reduce(r(s),[]).join("&"):qe(s,t)+"="+qe(c,t)}).filter(s=>s.length>0).join("&")}function Vd(e,t){var i;t={decode:!0,...t};let[n,r]=Md(e,"#");return n===void 0&&(n=e),{url:((i=n==null?void 0:n.split("?"))==null?void 0:i[0])??"",query:ga(_a(e),t),...t&&t.parseFragmentIdentifier&&r?{fragmentIdentifier:$t(r,t)}:{}}}function Hd(e,t){t={encode:!0,strict:!0,[bs]:!0,...t};const n=jd(e.url).split("?")[0]||"",r=_a(e.url),i={...ga(r,{sort:!1}),...e.query};let o=Ud(i,t);o&&(o=`?${o}`);let s=Rb(e.url);if(typeof e.fragmentIdentifier=="string"){const c=new URL(n);c.hash=e.fragmentIdentifier,s=t[bs]?c.hash:`#${e.fragmentIdentifier}`}return`${n}${o}${s}`}function Kd(e,t,n){n={parseFragmentIdentifier:!0,[bs]:!1,...n};const{url:r,query:i,fragmentIdentifier:o}=Vd(e,n);return Hd({url:r,query:Sb(i,t),fragmentIdentifier:o},n)}function Tb(e,t,n){const r=Array.isArray(t)?i=>!t.includes(i):(i,o)=>!t(i,o);return Kd(e,r,n)}const Ob=Object.freeze(Object.defineProperty({__proto__:null,exclude:Tb,extract:_a,parse:ga,parseUrl:Vd,pick:Kd,stringify:Ud,stringifyUrl:Hd},Symbol.toStringTag,{value:"Module"})),Hi=ie({token:"",srand:""}),go=ye(()=>({"edger-token":Hi.value.token,"edger-srand":Hi.value.srand})),Pb=ye(()=>Ob.stringify(go.value));async function Ib(){Mt.onAction("token",n=>{const{token:r,srand:i}=n;Hi.value={token:r,srand:i}});const{token:e,srand:t}=await Mt.token();Hi.value={token:e,srand:t}}const Vr=gv({combination:"overwrite",options:{async beforeFetch({options:e}){return e.headers={...e.headers,...go.value},{options:e}}}}),Fb={class:"custom-button"},Bb={class:"custom-button start-btn"},Db={class:"custom-button end-btn"},Mb=Le({__name:"DeviceLight",props:{data:null,devid:null},emits:["update:data"],setup(e,{emit:t}){const n=e,r=t,{data:i}=Td(n,r),o=ye({get(){return i.value.state==="on"},set(f){i.value.state=f?"on":"off"}}),s=ye({get(){return`#${i.value.color.map(f=>f.toString(16).padStart(2,"0")).join("")}`},set(f){i.value.color=[Number.parseInt(f.slice(1,3),16),Number.parseInt(f.slice(3,5),16),Number.parseInt(f.slice(5,7),16)]}}),c=ye({get(){return[i.value.start,i.value.end]},set(f){[i.value.start,i.value.end]=f}});return Rd(i,()=>{Vr("/api/device/control").post({value:Cd(n.devid).set({...i.value,start:c.value[0],end:c.value[1]}).value}).json()},{debounce:300,maxWait:1e3,deep:!0}),(f,d)=>{const u=_d,a=lr,l=Kg,h=ri;return Ke(),lt(h,{inset:""},{default:me(()=>[B(a,{title:""},{default:me(()=>[B(u,{modelValue:xe(o),"onUpdate:modelValue":d[0]||(d[0]=g=>ke(o)?o.value=g:null)},null,8,["modelValue"])]),_:1}),B(a,{title:""},{label:me(()=>[B(l,{modelValue:xe(i).bright,"onUpdate:modelValue":d[1]||(d[1]=g=>xe(i).bright=g),"mt-2em":"",max:"255"},{button:me(()=>[Ce("div",Fb,tt(xe(i).bright),1)]),_:1},8,["modelValue"])]),_:1}),B(a,{title:""},{default:me(()=>[Xr(Ce("input",{"onUpdate:modelValue":d[2]||(d[2]=g=>ke(s)?s.value=g:null),type:"color"},null,512),[[e0,xe(s)]])]),_:1}),B(a,{title:""},{label:me(()=>[B(l,{modelValue:xe(c),"onUpdate:modelValue":d[3]||(d[3]=g=>ke(c)?c.value=g:null),range:"","mt-2em":"",max:"150"},{"left-button":me(()=>[Ce("div",Bb,tt(xe(c)[0]),1)]),"right-button":me(()=>[Ce("div",Db,tt(xe(c)[1]),1)]),_:1},8,["modelValue"])]),_:1})]),_:1})}}}),kb=Le({__name:"DevicePlug",props:{state:null,devid:null},emits:["update:state"],setup(e,{emit:t}){const n=e,r=t,{state:i}=Td(n,r),o=ye({get(){return i.value==="on"},set(s){i.value=s?"on":"off"}});return Rd(i,()=>{Vr("/api/device/control").post({value:Cd(n.devid).set({state:i.value}).value}).json()},{debounce:300,maxWait:1e3}),(s,c)=>{const f=_d,d=lr,u=ri;return Ke(),lt(u,{inset:""},{default:me(()=>[B(d,{title:""},{default:me(()=>[B(f,{modelValue:xe(o),"onUpdate:modelValue":c[0]||(c[0]=a=>ke(o)?o.value=a:null)},null,8,["modelValue"])]),_:1})]),_:1})}}}),Nb={"w-100vw":""},jb=Le({__name:"action",setup(e){const t={plug:"i-iconoir:plug-type-g","light.belt":"i-material-symbols:lightbulb-outline-rounded"},n=ie([]),{isFetching:r,data:i,execute:o}=Vr("/api/device/list").json(),s=ie({list:[]});Sf(async()=>{s.value.list=i.value.list||[]});function c(){o()}return(f,d)=>{const u=gd,a=kb,l=Mb,h=hg,g=lg,E=ri,y=Sd;return Ke(),lt(y,{modelValue:xe(r),"onUpdate:modelValue":d[1]||(d[1]=m=>ke(r)?r.value=m:null),onRefresh:c},{default:me(()=>[Ce("div",Nb,[B(E,{title:""},{default:me(()=>[B(g,{modelValue:xe(n),"onUpdate:modelValue":d[0]||(d[0]=m=>ke(n)?n.value=m:null),title:""},{default:me(()=>[(Ke(!0),xn(Qe,null,Of(xe(s).list||[],(m,_)=>(Ke(),lt(h,{key:_,label:m.devid,name:_,disabled:!m.online||null},{title:me(()=>[Ut(tt(m.label)+" ",1),B(u,{type:m.online?"success":"danger",plain:""},{default:me(()=>[Ut(tt(m.online?"":""),1)]),_:2},1032,["type"])]),icon:me(()=>[Ce("span",{class:Ji(t[m.type]),"m-auto":"","mr-0.5em":"","text-lg":""},null,2)]),default:me(()=>[Ut(" "+tt(m.state)+" ",1),m.type==="plug"?(Ke(),lt(a,{key:0,state:m.state.state,"onUpdate:state":x=>m.state.state=x,devid:m.devid},null,8,["state","onUpdate:state","devid"])):(Ke(),lt(l,{key:1,data:m.state,"onUpdate:data":x=>m.state=x,devid:m.devid},null,8,["data","onUpdate:data","devid"]))]),_:2},1032,["label","name","disabled"]))),128))]),_:1},8,["modelValue"])]),_:1})])]),_:1},8,["modelValue"])}}});function Wd(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function Ub(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var n=function r(){return this instanceof r?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};n.prototype=t.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(e).forEach(function(r){var i=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(n,r,i.get?i:{enumerable:!0,get:function(){return e[r]}})}),n}var zd={exports:{}};(function(e,t){(function(r,i){e.exports=i()})(self,function(){return function(){var n={"./node_modules/es6-promise/dist/es6-promise.js":function(s,c,f){/*!
 * @overview es6-promise - a tiny implementation of Promises/A+.
 * @copyright Copyright (c) 2014 Yehuda Katz, Tom Dale, Stefan Penner and contributors (Conversion to ES6 API by Jake Archibald)
 * @license   Licensed under MIT license
 *            See https://raw.githubusercontent.com/stefanpenner/es6-promise/master/LICENSE
 * @version   v4.2.8+1e68dce6
 */(function(d,u){s.exports=u()})(this,function(){function d(j){var $=typeof j;return j!==null&&($==="object"||$==="function")}function u(j){return typeof j=="function"}var a=void 0;Array.isArray?a=Array.isArray:a=function(j){return Object.prototype.toString.call(j)==="[object Array]"};var l=a,h=0,g=void 0,E=void 0,y=function($,Z){O[h]=$,O[h+1]=Z,h+=2,h===2&&(E?E(D):M())};function m(j){E=j}function _(j){y=j}var x=typeof window<"u"?window:void 0,p=x||{},v=p.MutationObserver||p.WebKitMutationObserver,b=typeof self>"u"&&typeof process<"u"&&{}.toString.call(process)==="[object process]",w=typeof Uint8ClampedArray<"u"&&typeof importScripts<"u"&&typeof MessageChannel<"u";function A(){return function(){return process.nextTick(D)}}function T(){return typeof g<"u"?function(){g(D)}:C()}function P(){var j=0,$=new v(D),Z=document.createTextNode("");return $.observe(Z,{characterData:!0}),function(){Z.data=j=++j%2}}function R(){var j=new MessageChannel;return j.port1.onmessage=D,function(){return j.port2.postMessage(0)}}function C(){var j=setTimeout;return function(){return j(D,1)}}var O=new Array(1e3);function D(){for(var j=0;j<h;j+=2){var $=O[j],Z=O[j+1];$(Z),O[j]=void 0,O[j+1]=void 0}h=0}function N(){try{var j=Function("return this")().require("vertx");return g=j.runOnLoop||j.runOnContext,T()}catch{return C()}}var M=void 0;b?M=A():v?M=P():w?M=R():x===void 0?M=N():M=C();function U(j,$){var Z=this,ue=new this.constructor(ne);ue[oe]===void 0&&X(ue);var ge=Z._state;if(ge){var we=arguments[ge-1];y(function(){return K(ge,ue,we,Z._result)})}else I(Z,ue,j,$);return ue}function Q(j){var $=this;if(j&&typeof j=="object"&&j.constructor===$)return j;var Z=new $(ne);return G(Z,j),Z}var oe=Math.random().toString(36).substring(2);function ne(){}var de=void 0,he=1,se=2;function ae(){return new TypeError("You cannot resolve a promise with itself")}function je(){return new TypeError("A promises callback cannot return that same promise.")}function ve(j,$,Z,ue){try{j.call($,Z,ue)}catch(ge){return ge}}function F(j,$,Z){y(function(ue){var ge=!1,we=ve(Z,$,function(Fe){ge||(ge=!0,$!==Fe?G(ue,Fe):re(ue,Fe))},function(Fe){ge||(ge=!0,L(ue,Fe))},"Settle: "+(ue._label||" unknown promise"));!ge&&we&&(ge=!0,L(ue,we))},j)}function W(j,$){$._state===he?re(j,$._result):$._state===se?L(j,$._result):I($,void 0,function(Z){return G(j,Z)},function(Z){return L(j,Z)})}function V(j,$,Z){$.constructor===j.constructor&&Z===U&&$.constructor.resolve===Q?W(j,$):Z===void 0?re(j,$):u(Z)?F(j,$,Z):re(j,$)}function G(j,$){if(j===$)L(j,ae());else if(d($)){var Z=void 0;try{Z=$.then}catch(ue){L(j,ue);return}V(j,$,Z)}else re(j,$)}function le(j){j._onerror&&j._onerror(j._result),k(j)}function re(j,$){j._state===de&&(j._result=$,j._state=he,j._subscribers.length!==0&&y(k,j))}function L(j,$){j._state===de&&(j._state=se,j._result=$,y(le,j))}function I(j,$,Z,ue){var ge=j._subscribers,we=ge.length;j._onerror=null,ge[we]=$,ge[we+he]=Z,ge[we+se]=ue,we===0&&j._state&&y(k,j)}function k(j){var $=j._subscribers,Z=j._state;if($.length!==0){for(var ue=void 0,ge=void 0,we=j._result,Fe=0;Fe<$.length;Fe+=3)ue=$[Fe],ge=$[Fe+Z],ue?K(Z,ue,ge,we):ge(we);j._subscribers.length=0}}function K(j,$,Z,ue){var ge=u(Z),we=void 0,Fe=void 0,nt=!0;if(ge){try{we=Z(ue)}catch(bn){nt=!1,Fe=bn}if($===we){L($,je());return}}else we=ue;$._state!==de||(ge&&nt?G($,we):nt===!1?L($,Fe):j===he?re($,we):j===se&&L($,we))}function H(j,$){try{$(function(ue){G(j,ue)},function(ue){L(j,ue)})}catch(Z){L(j,Z)}}var q=0;function ee(){return q++}function X(j){j[oe]=q++,j._state=void 0,j._result=void 0,j._subscribers=[]}function J(){return new Error("Array Methods must be provided an Array")}var z=function(){function j($,Z){this._instanceConstructor=$,this.promise=new $(ne),this.promise[oe]||X(this.promise),l(Z)?(this.length=Z.length,this._remaining=Z.length,this._result=new Array(this.length),this.length===0?re(this.promise,this._result):(this.length=this.length||0,this._enumerate(Z),this._remaining===0&&re(this.promise,this._result))):L(this.promise,J())}return j.prototype._enumerate=function(Z){for(var ue=0;this._state===de&&ue<Z.length;ue++)this._eachEntry(Z[ue],ue)},j.prototype._eachEntry=function(Z,ue){var ge=this._instanceConstructor,we=ge.resolve;if(we===Q){var Fe=void 0,nt=void 0,bn=!1;try{Fe=Z.then}catch(Ao){bn=!0,nt=Ao}if(Fe===U&&Z._state!==de)this._settledAt(Z._state,ue,Z._result);else if(typeof Fe!="function")this._remaining--,this._result[ue]=Z;else if(ge===Ee){var wo=new ge(ne);bn?L(wo,nt):V(wo,Z,Fe),this._willSettleAt(wo,ue)}else this._willSettleAt(new ge(function(Ao){return Ao(Z)}),ue)}else this._willSettleAt(we(Z),ue)},j.prototype._settledAt=function(Z,ue,ge){var we=this.promise;we._state===de&&(this._remaining--,Z===se?L(we,ge):this._result[ue]=ge),this._remaining===0&&re(we,this._result)},j.prototype._willSettleAt=function(Z,ue){var ge=this;I(Z,void 0,function(we){return ge._settledAt(he,ue,we)},function(we){return ge._settledAt(se,ue,we)})},j}();function te(j){return new z(this,j).promise}function ce(j){var $=this;return l(j)?new $(function(Z,ue){for(var ge=j.length,we=0;we<ge;we++)$.resolve(j[we]).then(Z,ue)}):new $(function(Z,ue){return ue(new TypeError("You must pass an array to race."))})}function fe(j){var $=this,Z=new $(ne);return L(Z,j),Z}function _e(){throw new TypeError("You must pass a resolver function as the first argument to the promise constructor")}function Ae(){throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.")}var Ee=function(){function j($){this[oe]=ee(),this._result=this._state=void 0,this._subscribers=[],ne!==$&&(typeof $!="function"&&_e(),this instanceof j?H(this,$):Ae())}return j.prototype.catch=function(Z){return this.then(null,Z)},j.prototype.finally=function(Z){var ue=this,ge=ue.constructor;return u(Z)?ue.then(function(we){return ge.resolve(Z()).then(function(){return we})},function(we){return ge.resolve(Z()).then(function(){throw we})}):ue.then(Z,Z)},j}();Ee.prototype.then=U,Ee.all=te,Ee.race=ce,Ee.resolve=Q,Ee.reject=fe,Ee._setScheduler=m,Ee._setAsap=_,Ee._asap=y;function Ue(){var j=void 0;if(typeof f.g<"u")j=f.g;else if(typeof self<"u")j=self;else try{j=Function("return this")()}catch{throw new Error("polyfill failed because global object is unavailable in this environment")}var $=j.Promise;if($){var Z=null;try{Z=Object.prototype.toString.call($.resolve())}catch{}if(Z==="[object Promise]"&&!$.cast)return}j.Promise=Ee}return Ee.polyfill=Ue,Ee.Promise=Ee,Ee})},"./node_modules/events/events.js":function(s){var c=typeof Reflect=="object"?Reflect:null,f=c&&typeof c.apply=="function"?c.apply:function(C,O,D){return Function.prototype.apply.call(C,O,D)},d;c&&typeof c.ownKeys=="function"?d=c.ownKeys:Object.getOwnPropertySymbols?d=function(C){return Object.getOwnPropertyNames(C).concat(Object.getOwnPropertySymbols(C))}:d=function(C){return Object.getOwnPropertyNames(C)};function u(R){console&&console.warn&&console.warn(R)}var a=Number.isNaN||function(C){return C!==C};function l(){l.init.call(this)}s.exports=l,s.exports.once=A,l.EventEmitter=l,l.prototype._events=void 0,l.prototype._eventsCount=0,l.prototype._maxListeners=void 0;var h=10;function g(R){if(typeof R!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof R)}Object.defineProperty(l,"defaultMaxListeners",{enumerable:!0,get:function(){return h},set:function(R){if(typeof R!="number"||R<0||a(R))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+R+".");h=R}}),l.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},l.prototype.setMaxListeners=function(C){if(typeof C!="number"||C<0||a(C))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+C+".");return this._maxListeners=C,this};function E(R){return R._maxListeners===void 0?l.defaultMaxListeners:R._maxListeners}l.prototype.getMaxListeners=function(){return E(this)},l.prototype.emit=function(C){for(var O=[],D=1;D<arguments.length;D++)O.push(arguments[D]);var N=C==="error",M=this._events;if(M!==void 0)N=N&&M.error===void 0;else if(!N)return!1;if(N){var U;if(O.length>0&&(U=O[0]),U instanceof Error)throw U;var Q=new Error("Unhandled error."+(U?" ("+U.message+")":""));throw Q.context=U,Q}var oe=M[C];if(oe===void 0)return!1;if(typeof oe=="function")f(oe,this,O);else for(var ne=oe.length,de=v(oe,ne),D=0;D<ne;++D)f(de[D],this,O);return!0};function y(R,C,O,D){var N,M,U;if(g(O),M=R._events,M===void 0?(M=R._events=Object.create(null),R._eventsCount=0):(M.newListener!==void 0&&(R.emit("newListener",C,O.listener?O.listener:O),M=R._events),U=M[C]),U===void 0)U=M[C]=O,++R._eventsCount;else if(typeof U=="function"?U=M[C]=D?[O,U]:[U,O]:D?U.unshift(O):U.push(O),N=E(R),N>0&&U.length>N&&!U.warned){U.warned=!0;var Q=new Error("Possible EventEmitter memory leak detected. "+U.length+" "+String(C)+" listeners added. Use emitter.setMaxListeners() to increase limit");Q.name="MaxListenersExceededWarning",Q.emitter=R,Q.type=C,Q.count=U.length,u(Q)}return R}l.prototype.addListener=function(C,O){return y(this,C,O,!1)},l.prototype.on=l.prototype.addListener,l.prototype.prependListener=function(C,O){return y(this,C,O,!0)};function m(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function _(R,C,O){var D={fired:!1,wrapFn:void 0,target:R,type:C,listener:O},N=m.bind(D);return N.listener=O,D.wrapFn=N,N}l.prototype.once=function(C,O){return g(O),this.on(C,_(this,C,O)),this},l.prototype.prependOnceListener=function(C,O){return g(O),this.prependListener(C,_(this,C,O)),this},l.prototype.removeListener=function(C,O){var D,N,M,U,Q;if(g(O),N=this._events,N===void 0)return this;if(D=N[C],D===void 0)return this;if(D===O||D.listener===O)--this._eventsCount===0?this._events=Object.create(null):(delete N[C],N.removeListener&&this.emit("removeListener",C,D.listener||O));else if(typeof D!="function"){for(M=-1,U=D.length-1;U>=0;U--)if(D[U]===O||D[U].listener===O){Q=D[U].listener,M=U;break}if(M<0)return this;M===0?D.shift():b(D,M),D.length===1&&(N[C]=D[0]),N.removeListener!==void 0&&this.emit("removeListener",C,Q||O)}return this},l.prototype.off=l.prototype.removeListener,l.prototype.removeAllListeners=function(C){var O,D,N;if(D=this._events,D===void 0)return this;if(D.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):D[C]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete D[C]),this;if(arguments.length===0){var M=Object.keys(D),U;for(N=0;N<M.length;++N)U=M[N],U!=="removeListener"&&this.removeAllListeners(U);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(O=D[C],typeof O=="function")this.removeListener(C,O);else if(O!==void 0)for(N=O.length-1;N>=0;N--)this.removeListener(C,O[N]);return this};function x(R,C,O){var D=R._events;if(D===void 0)return[];var N=D[C];return N===void 0?[]:typeof N=="function"?O?[N.listener||N]:[N]:O?w(N):v(N,N.length)}l.prototype.listeners=function(C){return x(this,C,!0)},l.prototype.rawListeners=function(C){return x(this,C,!1)},l.listenerCount=function(R,C){return typeof R.listenerCount=="function"?R.listenerCount(C):p.call(R,C)},l.prototype.listenerCount=p;function p(R){var C=this._events;if(C!==void 0){var O=C[R];if(typeof O=="function")return 1;if(O!==void 0)return O.length}return 0}l.prototype.eventNames=function(){return this._eventsCount>0?d(this._events):[]};function v(R,C){for(var O=new Array(C),D=0;D<C;++D)O[D]=R[D];return O}function b(R,C){for(;C+1<R.length;C++)R[C]=R[C+1];R.pop()}function w(R){for(var C=new Array(R.length),O=0;O<C.length;++O)C[O]=R[O].listener||R[O];return C}function A(R,C){return new Promise(function(O,D){function N(U){R.removeListener(C,M),D(U)}function M(){typeof R.removeListener=="function"&&R.removeListener("error",N),O([].slice.call(arguments))}P(R,C,M,{once:!0}),C!=="error"&&T(R,N,{once:!0})})}function T(R,C,O){typeof R.on=="function"&&P(R,"error",C,O)}function P(R,C,O,D){if(typeof R.on=="function")D.once?R.once(C,O):R.on(C,O);else if(typeof R.addEventListener=="function")R.addEventListener(C,function N(M){D.once&&R.removeEventListener(C,N),O(M)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof R)}},"./node_modules/webworkify-webpack/index.js":function(s,c,f){function d(m){var _={};function x(v){if(_[v])return _[v].exports;var b=_[v]={i:v,l:!1,exports:{}};return m[v].call(b.exports,b,b.exports,x),b.l=!0,b.exports}x.m=m,x.c=_,x.i=function(v){return v},x.d=function(v,b,w){x.o(v,b)||Object.defineProperty(v,b,{configurable:!1,enumerable:!0,get:w})},x.r=function(v){Object.defineProperty(v,"__esModule",{value:!0})},x.n=function(v){var b=v&&v.__esModule?function(){return v.default}:function(){return v};return x.d(b,"a",b),b},x.o=function(v,b){return Object.prototype.hasOwnProperty.call(v,b)},x.p="/",x.oe=function(v){throw console.error(v),v};var p=x(x.s=ENTRY_MODULE);return p.default||p}var u="[\\.|\\-|\\+|\\w|/|@]+",a="\\(\\s*(/\\*.*?\\*/)?\\s*.*?("+u+").*?\\)";function l(m){return(m+"").replace(/[.?*+^$[\]\\(){}|-]/g,"\\$&")}function h(m){return!isNaN(1*m)}function g(m,_,x){var p={};p[x]=[];var v=_.toString(),b=v.match(/^function\s?\w*\(\w+,\s*\w+,\s*(\w+)\)/);if(!b)return p;for(var w=b[1],A=new RegExp("(\\\\n|\\W)"+l(w)+a,"g"),T;T=A.exec(v);)T[3]!=="dll-reference"&&p[x].push(T[3]);for(A=new RegExp("\\("+l(w)+'\\("(dll-reference\\s('+u+'))"\\)\\)'+a,"g");T=A.exec(v);)m[T[2]]||(p[x].push(T[1]),m[T[2]]=f(T[1]).m),p[T[2]]=p[T[2]]||[],p[T[2]].push(T[4]);for(var P=Object.keys(p),R=0;R<P.length;R++)for(var C=0;C<p[P[R]].length;C++)h(p[P[R]][C])&&(p[P[R]][C]=1*p[P[R]][C]);return p}function E(m){var _=Object.keys(m);return _.reduce(function(x,p){return x||m[p].length>0},!1)}function y(m,_){for(var x={main:[_]},p={main:[]},v={main:{}};E(x);)for(var b=Object.keys(x),w=0;w<b.length;w++){var A=b[w],T=x[A],P=T.pop();if(v[A]=v[A]||{},!(v[A][P]||!m[A][P])){v[A][P]=!0,p[A]=p[A]||[],p[A].push(P);for(var R=g(m,m[A][P],A),C=Object.keys(R),O=0;O<C.length;O++)x[C[O]]=x[C[O]]||[],x[C[O]]=x[C[O]].concat(R[C[O]])}}return p}s.exports=function(m,_){_=_||{};var x={main:f.m},p=_.all?{main:Object.keys(x.main)}:y(x,m),v="";Object.keys(p).filter(function(P){return P!=="main"}).forEach(function(P){for(var R=0;p[P][R];)R++;p[P].push(R),x[P][R]="(function(module, exports, __webpack_require__) { module.exports = __webpack_require__; })",v=v+"var "+P+" = ("+d.toString().replace("ENTRY_MODULE",JSON.stringify(R))+")({"+p[P].map(function(C){return""+JSON.stringify(C)+": "+x[P][C].toString()}).join(",")+`});
`}),v=v+"new (("+d.toString().replace("ENTRY_MODULE",JSON.stringify(m))+")({"+p.main.map(function(P){return""+JSON.stringify(P)+": "+x.main[P].toString()}).join(",")+"}))(self);";var b=new window.Blob([v],{type:"text/javascript"});if(_.bare)return b;var w=window.URL||window.webkitURL||window.mozURL||window.msURL,A=w.createObjectURL(b),T=new window.Worker(A);return T.objectURL=A,T}},"./src/config.js":function(s,c,f){f.r(c),f.d(c,{defaultConfig:function(){return d},createDefaultConfig:function(){return u}});var d={enableWorker:!1,enableStashBuffer:!0,stashInitialSize:void 0,isLive:!1,lazyLoad:!0,lazyLoadMaxDuration:3*60,lazyLoadRecoverDuration:30,deferLoadAfterSourceOpen:!0,autoCleanupMaxBackwardDuration:3*60,autoCleanupMinBackwardDuration:2*60,statisticsInfoReportInterval:600,fixAudioTimestampGap:!0,accurateSeek:!1,seekType:"range",seekParamStart:"bstart",seekParamEnd:"bend",rangeLoadZeroStart:!1,customSeekHandler:void 0,reuseRedirectedURL:!1,headers:void 0,customLoader:void 0};function u(){return Object.assign({},d)}},"./src/core/features.js":function(s,c,f){f.r(c);var d=f("./src/io/io-controller.js"),u=f("./src/config.js"),a=function(){function l(){}return l.supportMSEH264Playback=function(){return window.MediaSource&&window.MediaSource.isTypeSupported('video/mp4; codecs="avc1.42E01E,mp4a.40.2"')},l.supportNetworkStreamIO=function(){var h=new d.default({},(0,u.createDefaultConfig)()),g=h.loaderType;return h.destroy(),g=="fetch-stream-loader"||g=="xhr-moz-chunked-loader"},l.getNetworkLoaderTypeName=function(){var h=new d.default({},(0,u.createDefaultConfig)()),g=h.loaderType;return h.destroy(),g},l.supportNativeMediaPlayback=function(h){l.videoElement==null&&(l.videoElement=window.document.createElement("video"));var g=l.videoElement.canPlayType(h);return g==="probably"||g=="maybe"},l.getFeatureList=function(){var h={mseFlvPlayback:!1,mseLiveFlvPlayback:!1,networkStreamIO:!1,networkLoaderName:"",nativeMP4H264Playback:!1,nativeWebmVP8Playback:!1,nativeWebmVP9Playback:!1};return h.mseFlvPlayback=l.supportMSEH264Playback(),h.networkStreamIO=l.supportNetworkStreamIO(),h.networkLoaderName=l.getNetworkLoaderTypeName(),h.mseLiveFlvPlayback=h.mseFlvPlayback&&h.networkStreamIO,h.nativeMP4H264Playback=l.supportNativeMediaPlayback('video/mp4; codecs="avc1.42001E, mp4a.40.2"'),h.nativeWebmVP8Playback=l.supportNativeMediaPlayback('video/webm; codecs="vp8.0, vorbis"'),h.nativeWebmVP9Playback=l.supportNativeMediaPlayback('video/webm; codecs="vp9"'),h},l}();c.default=a},"./src/core/media-info.js":function(s,c,f){f.r(c);var d=function(){function u(){this.mimeType=null,this.duration=null,this.hasAudio=null,this.hasVideo=null,this.audioCodec=null,this.videoCodec=null,this.audioDataRate=null,this.videoDataRate=null,this.audioSampleRate=null,this.audioChannelCount=null,this.width=null,this.height=null,this.fps=null,this.profile=null,this.level=null,this.refFrames=null,this.chromaFormat=null,this.sarNum=null,this.sarDen=null,this.metadata=null,this.segments=null,this.segmentCount=null,this.hasKeyframesIndex=null,this.keyframesIndex=null}return u.prototype.isComplete=function(){var a=this.hasAudio===!1||this.hasAudio===!0&&this.audioCodec!=null&&this.audioSampleRate!=null&&this.audioChannelCount!=null,l=this.hasVideo===!1||this.hasVideo===!0&&this.videoCodec!=null&&this.width!=null&&this.height!=null&&this.fps!=null&&this.profile!=null&&this.level!=null&&this.refFrames!=null&&this.chromaFormat!=null&&this.sarNum!=null&&this.sarDen!=null;return this.mimeType!=null&&this.duration!=null&&this.metadata!=null&&this.hasKeyframesIndex!=null&&a&&l},u.prototype.isSeekable=function(){return this.hasKeyframesIndex===!0},u.prototype.getNearestKeyframe=function(a){if(this.keyframesIndex==null)return null;var l=this.keyframesIndex,h=this._search(l.times,a);return{index:h,milliseconds:l.times[h],fileposition:l.filepositions[h]}},u.prototype._search=function(a,l){var h=0,g=a.length-1,E=0,y=0,m=g;for(l<a[0]&&(h=0,y=m+1);y<=m;)if(E=y+Math.floor((m-y)/2),E===g||l>=a[E]&&l<a[E+1]){h=E;break}else a[E]<l?y=E+1:m=E-1;return h},u}();c.default=d},"./src/core/media-segment-info.js":function(s,c,f){f.r(c),f.d(c,{SampleInfo:function(){return d},MediaSegmentInfo:function(){return u},IDRSampleList:function(){return a},MediaSegmentInfoList:function(){return l}});var d=function(){function h(g,E,y,m,_){this.dts=g,this.pts=E,this.duration=y,this.originalDts=m,this.isSyncPoint=_,this.fileposition=null}return h}(),u=function(){function h(){this.beginDts=0,this.endDts=0,this.beginPts=0,this.endPts=0,this.originalBeginDts=0,this.originalEndDts=0,this.syncPoints=[],this.firstSample=null,this.lastSample=null}return h.prototype.appendSyncPoint=function(g){g.isSyncPoint=!0,this.syncPoints.push(g)},h}(),a=function(){function h(){this._list=[]}return h.prototype.clear=function(){this._list=[]},h.prototype.appendArray=function(g){var E=this._list;g.length!==0&&(E.length>0&&g[0].originalDts<E[E.length-1].originalDts&&this.clear(),Array.prototype.push.apply(E,g))},h.prototype.getLastSyncPointBeforeDts=function(g){if(this._list.length==0)return null;var E=this._list,y=0,m=E.length-1,_=0,x=0,p=m;for(g<E[0].dts&&(y=0,x=p+1);x<=p;)if(_=x+Math.floor((p-x)/2),_===m||g>=E[_].dts&&g<E[_+1].dts){y=_;break}else E[_].dts<g?x=_+1:p=_-1;return this._list[y]},h}(),l=function(){function h(g){this._type=g,this._list=[],this._lastAppendLocation=-1}return Object.defineProperty(h.prototype,"type",{get:function(){return this._type},enumerable:!1,configurable:!0}),Object.defineProperty(h.prototype,"length",{get:function(){return this._list.length},enumerable:!1,configurable:!0}),h.prototype.isEmpty=function(){return this._list.length===0},h.prototype.clear=function(){this._list=[],this._lastAppendLocation=-1},h.prototype._searchNearestSegmentBefore=function(g){var E=this._list;if(E.length===0)return-2;var y=E.length-1,m=0,_=0,x=y,p=0;if(g<E[0].originalBeginDts)return p=-1,p;for(;_<=x;)if(m=_+Math.floor((x-_)/2),m===y||g>E[m].lastSample.originalDts&&g<E[m+1].originalBeginDts){p=m;break}else E[m].originalBeginDts<g?_=m+1:x=m-1;return p},h.prototype._searchNearestSegmentAfter=function(g){return this._searchNearestSegmentBefore(g)+1},h.prototype.append=function(g){var E=this._list,y=g,m=this._lastAppendLocation,_=0;m!==-1&&m<E.length&&y.originalBeginDts>=E[m].lastSample.originalDts&&(m===E.length-1||m<E.length-1&&y.originalBeginDts<E[m+1].originalBeginDts)?_=m+1:E.length>0&&(_=this._searchNearestSegmentBefore(y.originalBeginDts)+1),this._lastAppendLocation=_,this._list.splice(_,0,y)},h.prototype.getLastSegmentBefore=function(g){var E=this._searchNearestSegmentBefore(g);return E>=0?this._list[E]:null},h.prototype.getLastSampleBefore=function(g){var E=this.getLastSegmentBefore(g);return E!=null?E.lastSample:null},h.prototype.getLastSyncPointBefore=function(g){for(var E=this._searchNearestSegmentBefore(g),y=this._list[E].syncPoints;y.length===0&&E>0;)E--,y=this._list[E].syncPoints;return y.length>0?y[y.length-1]:null},h}()},"./src/core/mse-controller.js":function(s,c,f){f.r(c);var d=f("./node_modules/events/events.js"),u=f.n(d),a=f("./src/utils/logger.js"),l=f("./src/utils/browser.js"),h=f("./src/core/mse-events.js"),g=f("./src/core/media-segment-info.js"),E=f("./src/utils/exception.js"),y=function(){function m(_){this.TAG="MSEController",this._config=_,this._emitter=new(u()),this._config.isLive&&this._config.autoCleanupSourceBuffer==null&&(this._config.autoCleanupSourceBuffer=!0),this.e={onSourceOpen:this._onSourceOpen.bind(this),onSourceEnded:this._onSourceEnded.bind(this),onSourceClose:this._onSourceClose.bind(this),onSourceBufferError:this._onSourceBufferError.bind(this),onSourceBufferUpdateEnd:this._onSourceBufferUpdateEnd.bind(this)},this._mediaSource=null,this._mediaSourceObjectURL=null,this._mediaElement=null,this._isBufferFull=!1,this._hasPendingEos=!1,this._requireSetMediaDuration=!1,this._pendingMediaDuration=0,this._pendingSourceBufferInit=[],this._mimeTypes={video:null,audio:null},this._sourceBuffers={video:null,audio:null},this._lastInitSegments={video:null,audio:null},this._pendingSegments={video:[],audio:[]},this._pendingRemoveRanges={video:[],audio:[]},this._idrList=new g.IDRSampleList}return m.prototype.destroy=function(){(this._mediaElement||this._mediaSource)&&this.detachMediaElement(),this.e=null,this._emitter.removeAllListeners(),this._emitter=null},m.prototype.on=function(_,x){this._emitter.addListener(_,x)},m.prototype.off=function(_,x){this._emitter.removeListener(_,x)},m.prototype.attachMediaElement=function(_){if(this._mediaSource)throw new E.IllegalStateException("MediaSource has been attached to an HTMLMediaElement!");var x=this._mediaSource=new window.MediaSource;x.addEventListener("sourceopen",this.e.onSourceOpen),x.addEventListener("sourceended",this.e.onSourceEnded),x.addEventListener("sourceclose",this.e.onSourceClose),this._mediaElement=_,this._mediaSourceObjectURL=window.URL.createObjectURL(this._mediaSource),_.src=this._mediaSourceObjectURL},m.prototype.detachMediaElement=function(){if(this._mediaSource){var _=this._mediaSource;for(var x in this._sourceBuffers){var p=this._pendingSegments[x];p.splice(0,p.length),this._pendingSegments[x]=null,this._pendingRemoveRanges[x]=null,this._lastInitSegments[x]=null;var v=this._sourceBuffers[x];if(v){if(_.readyState!=="closed"){try{_.removeSourceBuffer(v)}catch(b){a.default.e(this.TAG,b.message)}v.removeEventListener("error",this.e.onSourceBufferError),v.removeEventListener("updateend",this.e.onSourceBufferUpdateEnd)}this._mimeTypes[x]=null,this._sourceBuffers[x]=null}}if(_.readyState==="open")try{_.endOfStream()}catch(b){a.default.e(this.TAG,b.message)}_.removeEventListener("sourceopen",this.e.onSourceOpen),_.removeEventListener("sourceended",this.e.onSourceEnded),_.removeEventListener("sourceclose",this.e.onSourceClose),this._pendingSourceBufferInit=[],this._isBufferFull=!1,this._idrList.clear(),this._mediaSource=null}this._mediaElement&&(this._mediaElement.src="",this._mediaElement.removeAttribute("src"),this._mediaElement=null),this._mediaSourceObjectURL&&(window.URL.revokeObjectURL(this._mediaSourceObjectURL),this._mediaSourceObjectURL=null)},m.prototype.appendInitSegment=function(_,x){if(!this._mediaSource||this._mediaSource.readyState!=="open"){this._pendingSourceBufferInit.push(_),this._pendingSegments[_.type].push(_);return}var p=_,v=""+p.container;p.codec&&p.codec.length>0&&(v+=";codecs="+p.codec);var b=!1;if(a.default.v(this.TAG,"Received Initialization Segment, mimeType: "+v),this._lastInitSegments[p.type]=p,v!==this._mimeTypes[p.type]){if(this._mimeTypes[p.type])a.default.v(this.TAG,"Notice: "+p.type+" mimeType changed, origin: "+this._mimeTypes[p.type]+", target: "+v);else{b=!0;try{var w=this._sourceBuffers[p.type]=this._mediaSource.addSourceBuffer(v);w.addEventListener("error",this.e.onSourceBufferError),w.addEventListener("updateend",this.e.onSourceBufferUpdateEnd)}catch(A){a.default.e(this.TAG,A.message),this._emitter.emit(h.default.ERROR,{code:A.code,msg:A.message});return}}this._mimeTypes[p.type]=v}x||this._pendingSegments[p.type].push(p),b||this._sourceBuffers[p.type]&&!this._sourceBuffers[p.type].updating&&this._doAppendSegments(),l.default.safari&&p.container==="audio/mpeg"&&p.mediaDuration>0&&(this._requireSetMediaDuration=!0,this._pendingMediaDuration=p.mediaDuration/1e3,this._updateMediaSourceDuration())},m.prototype.appendMediaSegment=function(_){var x=_;this._pendingSegments[x.type].push(x),this._config.autoCleanupSourceBuffer&&this._needCleanupSourceBuffer()&&this._doCleanupSourceBuffer();var p=this._sourceBuffers[x.type];p&&!p.updating&&!this._hasPendingRemoveRanges()&&this._doAppendSegments()},m.prototype.seek=function(_){for(var x in this._sourceBuffers)if(this._sourceBuffers[x]){var p=this._sourceBuffers[x];if(this._mediaSource.readyState==="open")try{p.abort()}catch(P){a.default.e(this.TAG,P.message)}this._idrList.clear();var v=this._pendingSegments[x];if(v.splice(0,v.length),this._mediaSource.readyState!=="closed"){for(var b=0;b<p.buffered.length;b++){var w=p.buffered.start(b),A=p.buffered.end(b);this._pendingRemoveRanges[x].push({start:w,end:A})}if(p.updating||this._doRemoveRanges(),l.default.safari){var T=this._lastInitSegments[x];T&&(this._pendingSegments[x].push(T),p.updating||this._doAppendSegments())}}}},m.prototype.endOfStream=function(){var _=this._mediaSource,x=this._sourceBuffers;if(!_||_.readyState!=="open"){_&&_.readyState==="closed"&&this._hasPendingSegments()&&(this._hasPendingEos=!0);return}x.video&&x.video.updating||x.audio&&x.audio.updating?this._hasPendingEos=!0:(this._hasPendingEos=!1,_.endOfStream())},m.prototype.getNearestKeyframe=function(_){return this._idrList.getLastSyncPointBeforeDts(_)},m.prototype._needCleanupSourceBuffer=function(){if(!this._config.autoCleanupSourceBuffer)return!1;var _=this._mediaElement.currentTime;for(var x in this._sourceBuffers){var p=this._sourceBuffers[x];if(p){var v=p.buffered;if(v.length>=1&&_-v.start(0)>=this._config.autoCleanupMaxBackwardDuration)return!0}}return!1},m.prototype._doCleanupSourceBuffer=function(){var _=this._mediaElement.currentTime;for(var x in this._sourceBuffers){var p=this._sourceBuffers[x];if(p){for(var v=p.buffered,b=!1,w=0;w<v.length;w++){var A=v.start(w),T=v.end(w);if(A<=_&&_<T+3){if(_-A>=this._config.autoCleanupMaxBackwardDuration){b=!0;var P=_-this._config.autoCleanupMinBackwardDuration;this._pendingRemoveRanges[x].push({start:A,end:P})}}else T<_&&(b=!0,this._pendingRemoveRanges[x].push({start:A,end:T}))}b&&!p.updating&&this._doRemoveRanges()}}},m.prototype._updateMediaSourceDuration=function(){var _=this._sourceBuffers;if(!(this._mediaElement.readyState===0||this._mediaSource.readyState!=="open")&&!(_.video&&_.video.updating||_.audio&&_.audio.updating)){var x=this._mediaSource.duration,p=this._pendingMediaDuration;p>0&&(isNaN(x)||p>x)&&(a.default.v(this.TAG,"Update MediaSource duration from "+x+" to "+p),this._mediaSource.duration=p),this._requireSetMediaDuration=!1,this._pendingMediaDuration=0}},m.prototype._doRemoveRanges=function(){for(var _ in this._pendingRemoveRanges)if(!(!this._sourceBuffers[_]||this._sourceBuffers[_].updating))for(var x=this._sourceBuffers[_],p=this._pendingRemoveRanges[_];p.length&&!x.updating;){var v=p.shift();x.remove(v.start,v.end)}},m.prototype._doAppendSegments=function(){var _=this._pendingSegments;for(var x in _)if(!(!this._sourceBuffers[x]||this._sourceBuffers[x].updating)&&_[x].length>0){var p=_[x].shift();if(p.timestampOffset){var v=this._sourceBuffers[x].timestampOffset,b=p.timestampOffset/1e3,w=Math.abs(v-b);w>.1&&(a.default.v(this.TAG,"Update MPEG audio timestampOffset from "+v+" to "+b),this._sourceBuffers[x].timestampOffset=b),delete p.timestampOffset}if(!p.data||p.data.byteLength===0)continue;try{this._sourceBuffers[x].appendBuffer(p.data),this._isBufferFull=!1,x==="video"&&p.hasOwnProperty("info")&&this._idrList.appendArray(p.info.syncPoints)}catch(A){this._pendingSegments[x].unshift(p),A.code===22?(this._isBufferFull||this._emitter.emit(h.default.BUFFER_FULL),this._isBufferFull=!0):(a.default.e(this.TAG,A.message),this._emitter.emit(h.default.ERROR,{code:A.code,msg:A.message}))}}},m.prototype._onSourceOpen=function(){if(a.default.v(this.TAG,"MediaSource onSourceOpen"),this._mediaSource.removeEventListener("sourceopen",this.e.onSourceOpen),this._pendingSourceBufferInit.length>0)for(var _=this._pendingSourceBufferInit;_.length;){var x=_.shift();this.appendInitSegment(x,!0)}this._hasPendingSegments()&&this._doAppendSegments(),this._emitter.emit(h.default.SOURCE_OPEN)},m.prototype._onSourceEnded=function(){a.default.v(this.TAG,"MediaSource onSourceEnded")},m.prototype._onSourceClose=function(){a.default.v(this.TAG,"MediaSource onSourceClose"),this._mediaSource&&this.e!=null&&(this._mediaSource.removeEventListener("sourceopen",this.e.onSourceOpen),this._mediaSource.removeEventListener("sourceended",this.e.onSourceEnded),this._mediaSource.removeEventListener("sourceclose",this.e.onSourceClose))},m.prototype._hasPendingSegments=function(){var _=this._pendingSegments;return _.video.length>0||_.audio.length>0},m.prototype._hasPendingRemoveRanges=function(){var _=this._pendingRemoveRanges;return _.video.length>0||_.audio.length>0},m.prototype._onSourceBufferUpdateEnd=function(){this._requireSetMediaDuration?this._updateMediaSourceDuration():this._hasPendingRemoveRanges()?this._doRemoveRanges():this._hasPendingSegments()?this._doAppendSegments():this._hasPendingEos&&this.endOfStream(),this._emitter.emit(h.default.UPDATE_END)},m.prototype._onSourceBufferError=function(_){a.default.e(this.TAG,"SourceBuffer Error: "+_)},m}();c.default=y},"./src/core/mse-events.js":function(s,c,f){f.r(c);var d={ERROR:"error",SOURCE_OPEN:"source_open",UPDATE_END:"update_end",BUFFER_FULL:"buffer_full"};c.default=d},"./src/core/transmuxer.js":function(s,c,f){f.r(c);var d=f("./node_modules/events/events.js"),u=f.n(d),a=f("./node_modules/webworkify-webpack/index.js"),l=f.n(a),h=f("./src/utils/logger.js"),g=f("./src/utils/logging-control.js"),E=f("./src/core/transmuxing-controller.js"),y=f("./src/core/transmuxing-events.js"),m=f("./src/core/media-info.js"),_=function(){function x(p,v){if(this.TAG="Transmuxer",this._emitter=new(u()),v.enableWorker&&typeof Worker<"u")try{this._worker=l()("./src/core/transmuxing-worker.js"),this._workerDestroying=!1,this._worker.addEventListener("message",this._onWorkerMessage.bind(this)),this._worker.postMessage({cmd:"init",param:[p,v]}),this.e={onLoggingConfigChanged:this._onLoggingConfigChanged.bind(this)},g.default.registerListener(this.e.onLoggingConfigChanged),this._worker.postMessage({cmd:"logging_config",param:g.default.getConfig()})}catch{h.default.e(this.TAG,"Error while initialize transmuxing worker, fallback to inline transmuxing"),this._worker=null,this._controller=new E.default(p,v)}else this._controller=new E.default(p,v);if(this._controller){var b=this._controller;b.on(y.default.IO_ERROR,this._onIOError.bind(this)),b.on(y.default.DEMUX_ERROR,this._onDemuxError.bind(this)),b.on(y.default.INIT_SEGMENT,this._onInitSegment.bind(this)),b.on(y.default.MEDIA_SEGMENT,this._onMediaSegment.bind(this)),b.on(y.default.LOADING_COMPLETE,this._onLoadingComplete.bind(this)),b.on(y.default.RECOVERED_EARLY_EOF,this._onRecoveredEarlyEof.bind(this)),b.on(y.default.MEDIA_INFO,this._onMediaInfo.bind(this)),b.on(y.default.METADATA_ARRIVED,this._onMetaDataArrived.bind(this)),b.on(y.default.SCRIPTDATA_ARRIVED,this._onScriptDataArrived.bind(this)),b.on(y.default.STATISTICS_INFO,this._onStatisticsInfo.bind(this)),b.on(y.default.RECOMMEND_SEEKPOINT,this._onRecommendSeekpoint.bind(this))}}return x.prototype.destroy=function(){this._worker?this._workerDestroying||(this._workerDestroying=!0,this._worker.postMessage({cmd:"destroy"}),g.default.removeListener(this.e.onLoggingConfigChanged),this.e=null):(this._controller.destroy(),this._controller=null),this._emitter.removeAllListeners(),this._emitter=null},x.prototype.on=function(p,v){this._emitter.addListener(p,v)},x.prototype.off=function(p,v){this._emitter.removeListener(p,v)},x.prototype.hasWorker=function(){return this._worker!=null},x.prototype.open=function(){this._worker?this._worker.postMessage({cmd:"start"}):this._controller.start()},x.prototype.close=function(){this._worker?this._worker.postMessage({cmd:"stop"}):this._controller.stop()},x.prototype.seek=function(p){this._worker?this._worker.postMessage({cmd:"seek",param:p}):this._controller.seek(p)},x.prototype.pause=function(){this._worker?this._worker.postMessage({cmd:"pause"}):this._controller.pause()},x.prototype.resume=function(){this._worker?this._worker.postMessage({cmd:"resume"}):this._controller.resume()},x.prototype._onInitSegment=function(p,v){var b=this;Promise.resolve().then(function(){b._emitter.emit(y.default.INIT_SEGMENT,p,v)})},x.prototype._onMediaSegment=function(p,v){var b=this;Promise.resolve().then(function(){b._emitter.emit(y.default.MEDIA_SEGMENT,p,v)})},x.prototype._onLoadingComplete=function(){var p=this;Promise.resolve().then(function(){p._emitter.emit(y.default.LOADING_COMPLETE)})},x.prototype._onRecoveredEarlyEof=function(){var p=this;Promise.resolve().then(function(){p._emitter.emit(y.default.RECOVERED_EARLY_EOF)})},x.prototype._onMediaInfo=function(p){var v=this;Promise.resolve().then(function(){v._emitter.emit(y.default.MEDIA_INFO,p)})},x.prototype._onMetaDataArrived=function(p){var v=this;Promise.resolve().then(function(){v._emitter.emit(y.default.METADATA_ARRIVED,p)})},x.prototype._onScriptDataArrived=function(p){var v=this;Promise.resolve().then(function(){v._emitter.emit(y.default.SCRIPTDATA_ARRIVED,p)})},x.prototype._onStatisticsInfo=function(p){var v=this;Promise.resolve().then(function(){v._emitter.emit(y.default.STATISTICS_INFO,p)})},x.prototype._onIOError=function(p,v){var b=this;Promise.resolve().then(function(){b._emitter.emit(y.default.IO_ERROR,p,v)})},x.prototype._onDemuxError=function(p,v){var b=this;Promise.resolve().then(function(){b._emitter.emit(y.default.DEMUX_ERROR,p,v)})},x.prototype._onRecommendSeekpoint=function(p){var v=this;Promise.resolve().then(function(){v._emitter.emit(y.default.RECOMMEND_SEEKPOINT,p)})},x.prototype._onLoggingConfigChanged=function(p){this._worker&&this._worker.postMessage({cmd:"logging_config",param:p})},x.prototype._onWorkerMessage=function(p){var v=p.data,b=v.data;if(v.msg==="destroyed"||this._workerDestroying){this._workerDestroying=!1,this._worker.terminate(),this._worker=null;return}switch(v.msg){case y.default.INIT_SEGMENT:case y.default.MEDIA_SEGMENT:this._emitter.emit(v.msg,b.type,b.data);break;case y.default.LOADING_COMPLETE:case y.default.RECOVERED_EARLY_EOF:this._emitter.emit(v.msg);break;case y.default.MEDIA_INFO:Object.setPrototypeOf(b,m.default.prototype),this._emitter.emit(v.msg,b);break;case y.default.METADATA_ARRIVED:case y.default.SCRIPTDATA_ARRIVED:case y.default.STATISTICS_INFO:this._emitter.emit(v.msg,b);break;case y.default.IO_ERROR:case y.default.DEMUX_ERROR:this._emitter.emit(v.msg,b.type,b.info);break;case y.default.RECOMMEND_SEEKPOINT:this._emitter.emit(v.msg,b);break;case"logcat_callback":h.default.emitter.emit("log",b.type,b.logcat);break}},x}();c.default=_},"./src/core/transmuxing-controller.js":function(s,c,f){f.r(c);var d=f("./node_modules/events/events.js"),u=f.n(d),a=f("./src/utils/logger.js"),l=f("./src/utils/browser.js"),h=f("./src/core/media-info.js"),g=f("./src/demux/flv-demuxer.js"),E=f("./src/remux/mp4-remuxer.js"),y=f("./src/demux/demux-errors.js"),m=f("./src/io/io-controller.js"),_=f("./src/core/transmuxing-events.js"),x=function(){function p(v,b){this.TAG="TransmuxingController",this._emitter=new(u()),this._config=b,v.segments||(v.segments=[{duration:v.duration,filesize:v.filesize,url:v.url}]),typeof v.cors!="boolean"&&(v.cors=!0),typeof v.withCredentials!="boolean"&&(v.withCredentials=!1),this._mediaDataSource=v,this._currentSegmentIndex=0;var w=0;this._mediaDataSource.segments.forEach(function(A){A.timestampBase=w,w+=A.duration,A.cors=v.cors,A.withCredentials=v.withCredentials,b.referrerPolicy&&(A.referrerPolicy=b.referrerPolicy)}),!isNaN(w)&&this._mediaDataSource.duration!==w&&(this._mediaDataSource.duration=w),this._mediaInfo=null,this._demuxer=null,this._remuxer=null,this._ioctl=null,this._pendingSeekTime=null,this._pendingResolveSeekPoint=null,this._statisticsReporter=null}return p.prototype.destroy=function(){this._mediaInfo=null,this._mediaDataSource=null,this._statisticsReporter&&this._disableStatisticsReporter(),this._ioctl&&(this._ioctl.destroy(),this._ioctl=null),this._demuxer&&(this._demuxer.destroy(),this._demuxer=null),this._remuxer&&(this._remuxer.destroy(),this._remuxer=null),this._emitter.removeAllListeners(),this._emitter=null},p.prototype.on=function(v,b){this._emitter.addListener(v,b)},p.prototype.off=function(v,b){this._emitter.removeListener(v,b)},p.prototype.start=function(){this._loadSegment(0),this._enableStatisticsReporter()},p.prototype._loadSegment=function(v,b){this._currentSegmentIndex=v;var w=this._mediaDataSource.segments[v],A=this._ioctl=new m.default(w,this._config,v);A.onError=this._onIOException.bind(this),A.onSeeked=this._onIOSeeked.bind(this),A.onComplete=this._onIOComplete.bind(this),A.onRedirect=this._onIORedirect.bind(this),A.onRecoveredEarlyEof=this._onIORecoveredEarlyEof.bind(this),b?this._demuxer.bindDataSource(this._ioctl):A.onDataArrival=this._onInitChunkArrival.bind(this),A.open(b)},p.prototype.stop=function(){this._internalAbort(),this._disableStatisticsReporter()},p.prototype._internalAbort=function(){this._ioctl&&(this._ioctl.destroy(),this._ioctl=null)},p.prototype.pause=function(){this._ioctl&&this._ioctl.isWorking()&&(this._ioctl.pause(),this._disableStatisticsReporter())},p.prototype.resume=function(){this._ioctl&&this._ioctl.isPaused()&&(this._ioctl.resume(),this._enableStatisticsReporter())},p.prototype.seek=function(v){if(!(this._mediaInfo==null||!this._mediaInfo.isSeekable())){var b=this._searchSegmentIndexContains(v);if(b===this._currentSegmentIndex){var w=this._mediaInfo.segments[b];if(w==null)this._pendingSeekTime=v;else{var A=w.getNearestKeyframe(v);this._remuxer.seek(A.milliseconds),this._ioctl.seek(A.fileposition),this._pendingResolveSeekPoint=A.milliseconds}}else{var T=this._mediaInfo.segments[b];if(T==null)this._pendingSeekTime=v,this._internalAbort(),this._remuxer.seek(),this._remuxer.insertDiscontinuity(),this._loadSegment(b);else{var A=T.getNearestKeyframe(v);this._internalAbort(),this._remuxer.seek(v),this._remuxer.insertDiscontinuity(),this._demuxer.resetMediaInfo(),this._demuxer.timestampBase=this._mediaDataSource.segments[b].timestampBase,this._loadSegment(b,A.fileposition),this._pendingResolveSeekPoint=A.milliseconds,this._reportSegmentMediaInfo(b)}}this._enableStatisticsReporter()}},p.prototype._searchSegmentIndexContains=function(v){for(var b=this._mediaDataSource.segments,w=b.length-1,A=0;A<b.length;A++)if(v<b[A].timestampBase){w=A-1;break}return w},p.prototype._onInitChunkArrival=function(v,b){var w=this,A=null,T=0;if(b>0)this._demuxer.bindDataSource(this._ioctl),this._demuxer.timestampBase=this._mediaDataSource.segments[this._currentSegmentIndex].timestampBase,T=this._demuxer.parseChunks(v,b);else if((A=g.default.probe(v)).match){this._demuxer=new g.default(A,this._config),this._remuxer||(this._remuxer=new E.default(this._config));var P=this._mediaDataSource;P.duration!=null&&!isNaN(P.duration)&&(this._demuxer.overridedDuration=P.duration),typeof P.hasAudio=="boolean"&&(this._demuxer.overridedHasAudio=P.hasAudio),typeof P.hasVideo=="boolean"&&(this._demuxer.overridedHasVideo=P.hasVideo),this._demuxer.timestampBase=P.segments[this._currentSegmentIndex].timestampBase,this._demuxer.onError=this._onDemuxException.bind(this),this._demuxer.onMediaInfo=this._onMediaInfo.bind(this),this._demuxer.onMetaDataArrived=this._onMetaDataArrived.bind(this),this._demuxer.onScriptDataArrived=this._onScriptDataArrived.bind(this),this._remuxer.bindDataSource(this._demuxer.bindDataSource(this._ioctl)),this._remuxer.onInitSegment=this._onRemuxerInitSegmentArrival.bind(this),this._remuxer.onMediaSegment=this._onRemuxerMediaSegmentArrival.bind(this),T=this._demuxer.parseChunks(v,b)}else A=null,a.default.e(this.TAG,"Non-FLV, Unsupported media type!"),Promise.resolve().then(function(){w._internalAbort()}),this._emitter.emit(_.default.DEMUX_ERROR,y.default.FORMAT_UNSUPPORTED,"Non-FLV, Unsupported media type"),T=0;return T},p.prototype._onMediaInfo=function(v){var b=this;this._mediaInfo==null&&(this._mediaInfo=Object.assign({},v),this._mediaInfo.keyframesIndex=null,this._mediaInfo.segments=[],this._mediaInfo.segmentCount=this._mediaDataSource.segments.length,Object.setPrototypeOf(this._mediaInfo,h.default.prototype));var w=Object.assign({},v);Object.setPrototypeOf(w,h.default.prototype),this._mediaInfo.segments[this._currentSegmentIndex]=w,this._reportSegmentMediaInfo(this._currentSegmentIndex),this._pendingSeekTime!=null&&Promise.resolve().then(function(){var A=b._pendingSeekTime;b._pendingSeekTime=null,b.seek(A)})},p.prototype._onMetaDataArrived=function(v){this._emitter.emit(_.default.METADATA_ARRIVED,v)},p.prototype._onScriptDataArrived=function(v){this._emitter.emit(_.default.SCRIPTDATA_ARRIVED,v)},p.prototype._onIOSeeked=function(){this._remuxer.insertDiscontinuity()},p.prototype._onIOComplete=function(v){var b=v,w=b+1;w<this._mediaDataSource.segments.length?(this._internalAbort(),this._remuxer.flushStashedSamples(),this._loadSegment(w)):(this._remuxer.flushStashedSamples(),this._emitter.emit(_.default.LOADING_COMPLETE),this._disableStatisticsReporter())},p.prototype._onIORedirect=function(v){var b=this._ioctl.extraData;this._mediaDataSource.segments[b].redirectedURL=v},p.prototype._onIORecoveredEarlyEof=function(){this._emitter.emit(_.default.RECOVERED_EARLY_EOF)},p.prototype._onIOException=function(v,b){a.default.e(this.TAG,"IOException: type = "+v+", code = "+b.code+", msg = "+b.msg),this._emitter.emit(_.default.IO_ERROR,v,b),this._disableStatisticsReporter()},p.prototype._onDemuxException=function(v,b){a.default.e(this.TAG,"DemuxException: type = "+v+", info = "+b),this._emitter.emit(_.default.DEMUX_ERROR,v,b)},p.prototype._onRemuxerInitSegmentArrival=function(v,b){this._emitter.emit(_.default.INIT_SEGMENT,v,b)},p.prototype._onRemuxerMediaSegmentArrival=function(v,b){if(this._pendingSeekTime==null&&(this._emitter.emit(_.default.MEDIA_SEGMENT,v,b),this._pendingResolveSeekPoint!=null&&v==="video")){var w=b.info.syncPoints,A=this._pendingResolveSeekPoint;this._pendingResolveSeekPoint=null,l.default.safari&&w.length>0&&w[0].originalDts===A&&(A=w[0].pts),this._emitter.emit(_.default.RECOMMEND_SEEKPOINT,A)}},p.prototype._enableStatisticsReporter=function(){this._statisticsReporter==null&&(this._statisticsReporter=self.setInterval(this._reportStatisticsInfo.bind(this),this._config.statisticsInfoReportInterval))},p.prototype._disableStatisticsReporter=function(){this._statisticsReporter&&(self.clearInterval(this._statisticsReporter),this._statisticsReporter=null)},p.prototype._reportSegmentMediaInfo=function(v){var b=this._mediaInfo.segments[v],w=Object.assign({},b);w.duration=this._mediaInfo.duration,w.segmentCount=this._mediaInfo.segmentCount,delete w.segments,delete w.keyframesIndex,this._emitter.emit(_.default.MEDIA_INFO,w)},p.prototype._reportStatisticsInfo=function(){var v={};v.url=this._ioctl.currentURL,v.hasRedirect=this._ioctl.hasRedirect,v.hasRedirect&&(v.redirectedURL=this._ioctl.currentRedirectedURL),v.speed=this._ioctl.currentSpeed,v.loaderType=this._ioctl.loaderType,v.currentSegmentIndex=this._currentSegmentIndex,v.totalSegmentCount=this._mediaDataSource.segments.length,this._emitter.emit(_.default.STATISTICS_INFO,v)},p}();c.default=x},"./src/core/transmuxing-events.js":function(s,c,f){f.r(c);var d={IO_ERROR:"io_error",DEMUX_ERROR:"demux_error",INIT_SEGMENT:"init_segment",MEDIA_SEGMENT:"media_segment",LOADING_COMPLETE:"loading_complete",RECOVERED_EARLY_EOF:"recovered_early_eof",MEDIA_INFO:"media_info",METADATA_ARRIVED:"metadata_arrived",SCRIPTDATA_ARRIVED:"scriptdata_arrived",STATISTICS_INFO:"statistics_info",RECOMMEND_SEEKPOINT:"recommend_seekpoint"};c.default=d},"./src/core/transmuxing-worker.js":function(s,c,f){f.r(c);var d=f("./src/utils/logging-control.js"),u=f("./src/utils/polyfill.js"),a=f("./src/core/transmuxing-controller.js"),l=f("./src/core/transmuxing-events.js"),h=function(g){var E=null,y=C.bind(this);u.default.install(),g.addEventListener("message",function(O){switch(O.data.cmd){case"init":E=new a.default(O.data.param[0],O.data.param[1]),E.on(l.default.IO_ERROR,T.bind(this)),E.on(l.default.DEMUX_ERROR,P.bind(this)),E.on(l.default.INIT_SEGMENT,m.bind(this)),E.on(l.default.MEDIA_SEGMENT,_.bind(this)),E.on(l.default.LOADING_COMPLETE,x.bind(this)),E.on(l.default.RECOVERED_EARLY_EOF,p.bind(this)),E.on(l.default.MEDIA_INFO,v.bind(this)),E.on(l.default.METADATA_ARRIVED,b.bind(this)),E.on(l.default.SCRIPTDATA_ARRIVED,w.bind(this)),E.on(l.default.STATISTICS_INFO,A.bind(this)),E.on(l.default.RECOMMEND_SEEKPOINT,R.bind(this));break;case"destroy":E&&(E.destroy(),E=null),g.postMessage({msg:"destroyed"});break;case"start":E.start();break;case"stop":E.stop();break;case"seek":E.seek(O.data.param);break;case"pause":E.pause();break;case"resume":E.resume();break;case"logging_config":{var D=O.data.param;d.default.applyConfig(D),D.enableCallback===!0?d.default.addLogListener(y):d.default.removeLogListener(y);break}}});function m(O,D){var N={msg:l.default.INIT_SEGMENT,data:{type:O,data:D}};g.postMessage(N,[D.data])}function _(O,D){var N={msg:l.default.MEDIA_SEGMENT,data:{type:O,data:D}};g.postMessage(N,[D.data])}function x(){var O={msg:l.default.LOADING_COMPLETE};g.postMessage(O)}function p(){var O={msg:l.default.RECOVERED_EARLY_EOF};g.postMessage(O)}function v(O){var D={msg:l.default.MEDIA_INFO,data:O};g.postMessage(D)}function b(O){var D={msg:l.default.METADATA_ARRIVED,data:O};g.postMessage(D)}function w(O){var D={msg:l.default.SCRIPTDATA_ARRIVED,data:O};g.postMessage(D)}function A(O){var D={msg:l.default.STATISTICS_INFO,data:O};g.postMessage(D)}function T(O,D){g.postMessage({msg:l.default.IO_ERROR,data:{type:O,info:D}})}function P(O,D){g.postMessage({msg:l.default.DEMUX_ERROR,data:{type:O,info:D}})}function R(O){g.postMessage({msg:l.default.RECOMMEND_SEEKPOINT,data:O})}function C(O,D){g.postMessage({msg:"logcat_callback",data:{type:O,logcat:D}})}};c.default=h},"./src/demux/amf-parser.js":function(s,c,f){f.r(c);var d=f("./src/utils/logger.js"),u=f("./src/utils/utf8-conv.js"),a=f("./src/utils/exception.js"),l=function(){var g=new ArrayBuffer(2);return new DataView(g).setInt16(0,256,!0),new Int16Array(g)[0]===256}(),h=function(){function g(){}return g.parseScriptData=function(E,y,m){var _={};try{var x=g.parseValue(E,y,m),p=g.parseValue(E,y+x.size,m-x.size);_[x.data]=p.data}catch(v){d.default.e("AMF",v.toString())}return _},g.parseObject=function(E,y,m){if(m<3)throw new a.IllegalStateException("Data not enough when parse ScriptDataObject");var _=g.parseString(E,y,m),x=g.parseValue(E,y+_.size,m-_.size),p=x.objectEnd;return{data:{name:_.data,value:x.data},size:_.size+x.size,objectEnd:p}},g.parseVariable=function(E,y,m){return g.parseObject(E,y,m)},g.parseString=function(E,y,m){if(m<2)throw new a.IllegalStateException("Data not enough when parse String");var _=new DataView(E,y,m),x=_.getUint16(0,!l),p;return x>0?p=(0,u.default)(new Uint8Array(E,y+2,x)):p="",{data:p,size:2+x}},g.parseLongString=function(E,y,m){if(m<4)throw new a.IllegalStateException("Data not enough when parse LongString");var _=new DataView(E,y,m),x=_.getUint32(0,!l),p;return x>0?p=(0,u.default)(new Uint8Array(E,y+4,x)):p="",{data:p,size:4+x}},g.parseDate=function(E,y,m){if(m<10)throw new a.IllegalStateException("Data size invalid when parse Date");var _=new DataView(E,y,m),x=_.getFloat64(0,!l),p=_.getInt16(8,!l);return x+=p*60*1e3,{data:new Date(x),size:10}},g.parseValue=function(E,y,m){if(m<1)throw new a.IllegalStateException("Data not enough when parse Value");var _=new DataView(E,y,m),x=1,p=_.getUint8(0),v,b=!1;try{switch(p){case 0:v=_.getFloat64(1,!l),x+=8;break;case 1:{var w=_.getUint8(1);v=!!w,x+=1;break}case 2:{var A=g.parseString(E,y+1,m-1);v=A.data,x+=A.size;break}case 3:{v={};var T=0;for((_.getUint32(m-4,!l)&16777215)===9&&(T=3);x<m-4;){var P=g.parseObject(E,y+x,m-x-T);if(P.objectEnd)break;v[P.data.name]=P.data.value,x+=P.size}if(x<=m-3){var R=_.getUint32(x-1,!l)&16777215;R===9&&(x+=3)}break}case 8:{v={},x+=4;var T=0;for((_.getUint32(m-4,!l)&16777215)===9&&(T=3);x<m-8;){var C=g.parseVariable(E,y+x,m-x-T);if(C.objectEnd)break;v[C.data.name]=C.data.value,x+=C.size}if(x<=m-3){var R=_.getUint32(x-1,!l)&16777215;R===9&&(x+=3)}break}case 9:v=void 0,x=1,b=!0;break;case 10:{v=[];var O=_.getUint32(1,!l);x+=4;for(var D=0;D<O;D++){var N=g.parseValue(E,y+x,m-x);v.push(N.data),x+=N.size}break}case 11:{var M=g.parseDate(E,y+1,m-1);v=M.data,x+=M.size;break}case 12:{var U=g.parseString(E,y+1,m-1);v=U.data,x+=U.size;break}default:x=m,d.default.w("AMF","Unsupported AMF value type "+p)}}catch(Q){d.default.e("AMF",Q.toString())}return{data:v,size:x,objectEnd:b}},g}();c.default=h},"./src/demux/demux-errors.js":function(s,c,f){f.r(c);var d={OK:"OK",FORMAT_ERROR:"FormatError",FORMAT_UNSUPPORTED:"FormatUnsupported",CODEC_UNSUPPORTED:"CodecUnsupported"};c.default=d},"./src/demux/exp-golomb.js":function(s,c,f){f.r(c);var d=f("./src/utils/exception.js"),u=function(){function a(l){this.TAG="ExpGolomb",this._buffer=l,this._buffer_index=0,this._total_bytes=l.byteLength,this._total_bits=l.byteLength*8,this._current_word=0,this._current_word_bits_left=0}return a.prototype.destroy=function(){this._buffer=null},a.prototype._fillCurrentWord=function(){var l=this._total_bytes-this._buffer_index;if(l<=0)throw new d.IllegalStateException("ExpGolomb: _fillCurrentWord() but no bytes available");var h=Math.min(4,l),g=new Uint8Array(4);g.set(this._buffer.subarray(this._buffer_index,this._buffer_index+h)),this._current_word=new DataView(g.buffer).getUint32(0,!1),this._buffer_index+=h,this._current_word_bits_left=h*8},a.prototype.readBits=function(l){if(l>32)throw new d.InvalidArgumentException("ExpGolomb: readBits() bits exceeded max 32bits!");if(l<=this._current_word_bits_left){var h=this._current_word>>>32-l;return this._current_word<<=l,this._current_word_bits_left-=l,h}var g=this._current_word_bits_left?this._current_word:0;g=g>>>32-this._current_word_bits_left;var E=l-this._current_word_bits_left;this._fillCurrentWord();var y=Math.min(E,this._current_word_bits_left),m=this._current_word>>>32-y;return this._current_word<<=y,this._current_word_bits_left-=y,g=g<<y|m,g},a.prototype.readBool=function(){return this.readBits(1)===1},a.prototype.readByte=function(){return this.readBits(8)},a.prototype._skipLeadingZero=function(){var l;for(l=0;l<this._current_word_bits_left;l++)if(this._current_word&2147483648>>>l)return this._current_word<<=l,this._current_word_bits_left-=l,l;return this._fillCurrentWord(),l+this._skipLeadingZero()},a.prototype.readUEG=function(){var l=this._skipLeadingZero();return this.readBits(l+1)-1},a.prototype.readSEG=function(){var l=this.readUEG();return l&1?l+1>>>1:-1*(l>>>1)},a}();c.default=u},"./src/demux/flv-demuxer.js":function(s,c,f){f.r(c);var d=f("./src/utils/logger.js"),u=f("./src/demux/amf-parser.js"),a=f("./src/demux/sps-parser.js"),l=f("./src/demux/demux-errors.js"),h=f("./src/core/media-info.js"),g=f("./src/utils/exception.js");function E(m,_){return m[_]<<24|m[_+1]<<16|m[_+2]<<8|m[_+3]}var y=function(){function m(_,x){this.TAG="FLVDemuxer",this._config=x,this._onError=null,this._onMediaInfo=null,this._onMetaDataArrived=null,this._onScriptDataArrived=null,this._onTrackMetadata=null,this._onDataAvailable=null,this._dataOffset=_.dataOffset,this._firstParse=!0,this._dispatch=!1,this._hasAudio=_.hasAudioTrack,this._hasVideo=_.hasVideoTrack,this._hasAudioFlagOverrided=!1,this._hasVideoFlagOverrided=!1,this._audioInitialMetadataDispatched=!1,this._videoInitialMetadataDispatched=!1,this._mediaInfo=new h.default,this._mediaInfo.hasAudio=this._hasAudio,this._mediaInfo.hasVideo=this._hasVideo,this._metadata=null,this._audioMetadata=null,this._videoMetadata=null,this._naluLengthSize=4,this._timestampBase=0,this._timescale=1e3,this._duration=0,this._durationOverrided=!1,this._referenceFrameRate={fixed:!0,fps:23.976,fps_num:23976,fps_den:1e3},this._flvSoundRateTable=[5500,11025,22050,44100,48e3],this._mpegSamplingRates=[96e3,88200,64e3,48e3,44100,32e3,24e3,22050,16e3,12e3,11025,8e3,7350],this._mpegAudioV10SampleRateTable=[44100,48e3,32e3,0],this._mpegAudioV20SampleRateTable=[22050,24e3,16e3,0],this._mpegAudioV25SampleRateTable=[11025,12e3,8e3,0],this._mpegAudioL1BitRateTable=[0,32,64,96,128,160,192,224,256,288,320,352,384,416,448,-1],this._mpegAudioL2BitRateTable=[0,32,48,56,64,80,96,112,128,160,192,224,256,320,384,-1],this._mpegAudioL3BitRateTable=[0,32,40,48,56,64,80,96,112,128,160,192,224,256,320,-1],this._videoTrack={type:"video",id:1,sequenceNumber:0,samples:[],length:0},this._audioTrack={type:"audio",id:2,sequenceNumber:0,samples:[],length:0},this._littleEndian=function(){var p=new ArrayBuffer(2);return new DataView(p).setInt16(0,256,!0),new Int16Array(p)[0]===256}()}return m.prototype.destroy=function(){this._mediaInfo=null,this._metadata=null,this._audioMetadata=null,this._videoMetadata=null,this._videoTrack=null,this._audioTrack=null,this._onError=null,this._onMediaInfo=null,this._onMetaDataArrived=null,this._onScriptDataArrived=null,this._onTrackMetadata=null,this._onDataAvailable=null},m.probe=function(_){var x=new Uint8Array(_),p={match:!1};if(x[0]!==70||x[1]!==76||x[2]!==86||x[3]!==1)return p;var v=(x[4]&4)>>>2!==0,b=(x[4]&1)!==0,w=E(x,5);return w<9?p:{match:!0,consumed:w,dataOffset:w,hasAudioTrack:v,hasVideoTrack:b}},m.prototype.bindDataSource=function(_){return _.onDataArrival=this.parseChunks.bind(this),this},Object.defineProperty(m.prototype,"onTrackMetadata",{get:function(){return this._onTrackMetadata},set:function(_){this._onTrackMetadata=_},enumerable:!1,configurable:!0}),Object.defineProperty(m.prototype,"onMediaInfo",{get:function(){return this._onMediaInfo},set:function(_){this._onMediaInfo=_},enumerable:!1,configurable:!0}),Object.defineProperty(m.prototype,"onMetaDataArrived",{get:function(){return this._onMetaDataArrived},set:function(_){this._onMetaDataArrived=_},enumerable:!1,configurable:!0}),Object.defineProperty(m.prototype,"onScriptDataArrived",{get:function(){return this._onScriptDataArrived},set:function(_){this._onScriptDataArrived=_},enumerable:!1,configurable:!0}),Object.defineProperty(m.prototype,"onError",{get:function(){return this._onError},set:function(_){this._onError=_},enumerable:!1,configurable:!0}),Object.defineProperty(m.prototype,"onDataAvailable",{get:function(){return this._onDataAvailable},set:function(_){this._onDataAvailable=_},enumerable:!1,configurable:!0}),Object.defineProperty(m.prototype,"timestampBase",{get:function(){return this._timestampBase},set:function(_){this._timestampBase=_},enumerable:!1,configurable:!0}),Object.defineProperty(m.prototype,"overridedDuration",{get:function(){return this._duration},set:function(_){this._durationOverrided=!0,this._duration=_,this._mediaInfo.duration=_},enumerable:!1,configurable:!0}),Object.defineProperty(m.prototype,"overridedHasAudio",{set:function(_){this._hasAudioFlagOverrided=!0,this._hasAudio=_,this._mediaInfo.hasAudio=_},enumerable:!1,configurable:!0}),Object.defineProperty(m.prototype,"overridedHasVideo",{set:function(_){this._hasVideoFlagOverrided=!0,this._hasVideo=_,this._mediaInfo.hasVideo=_},enumerable:!1,configurable:!0}),m.prototype.resetMediaInfo=function(){this._mediaInfo=new h.default},m.prototype._isInitialMetadataDispatched=function(){return this._hasAudio&&this._hasVideo?this._audioInitialMetadataDispatched&&this._videoInitialMetadataDispatched:this._hasAudio&&!this._hasVideo?this._audioInitialMetadataDispatched:!this._hasAudio&&this._hasVideo?this._videoInitialMetadataDispatched:!1},m.prototype.parseChunks=function(_,x){if(!this._onError||!this._onMediaInfo||!this._onTrackMetadata||!this._onDataAvailable)throw new g.IllegalStateException("Flv: onError & onMediaInfo & onTrackMetadata & onDataAvailable callback must be specified");var p=0,v=this._littleEndian;if(x===0)if(_.byteLength>13){var b=m.probe(_);p=b.dataOffset}else return 0;if(this._firstParse){this._firstParse=!1,x+p!==this._dataOffset&&d.default.w(this.TAG,"First time parsing but chunk byteStart invalid!");var w=new DataView(_,p),A=w.getUint32(0,!v);A!==0&&d.default.w(this.TAG,"PrevTagSize0 !== 0 !!!"),p+=4}for(;p<_.byteLength;){this._dispatch=!0;var w=new DataView(_,p);if(p+11+4>_.byteLength)break;var T=w.getUint8(0),P=w.getUint32(0,!v)&16777215;if(p+11+P+4>_.byteLength)break;if(T!==8&&T!==9&&T!==18){d.default.w(this.TAG,"Unsupported tag type "+T+", skipped"),p+=11+P+4;continue}var R=w.getUint8(4),C=w.getUint8(5),O=w.getUint8(6),D=w.getUint8(7),N=O|C<<8|R<<16|D<<24,M=w.getUint32(7,!v)&16777215;M!==0&&d.default.w(this.TAG,"Meet tag which has StreamID != 0!");var U=p+11;switch(T){case 8:this._parseAudioData(_,U,P,N);break;case 9:this._parseVideoData(_,U,P,N,x+p);break;case 18:this._parseScriptData(_,U,P);break}var Q=w.getUint32(11+P,!v);Q!==11+P&&d.default.w(this.TAG,"Invalid PrevTagSize "+Q),p+=11+P+4}return this._isInitialMetadataDispatched()&&this._dispatch&&(this._audioTrack.length||this._videoTrack.length)&&this._onDataAvailable(this._audioTrack,this._videoTrack),p},m.prototype._parseScriptData=function(_,x,p){var v=u.default.parseScriptData(_,x,p);if(v.hasOwnProperty("onMetaData")){if(v.onMetaData==null||typeof v.onMetaData!="object"){d.default.w(this.TAG,"Invalid onMetaData structure!");return}this._metadata&&d.default.w(this.TAG,"Found another onMetaData tag!"),this._metadata=v;var b=this._metadata.onMetaData;if(this._onMetaDataArrived&&this._onMetaDataArrived(Object.assign({},b)),typeof b.hasAudio=="boolean"&&this._hasAudioFlagOverrided===!1&&(this._hasAudio=b.hasAudio,this._mediaInfo.hasAudio=this._hasAudio),typeof b.hasVideo=="boolean"&&this._hasVideoFlagOverrided===!1&&(this._hasVideo=b.hasVideo,this._mediaInfo.hasVideo=this._hasVideo),typeof b.audiodatarate=="number"&&(this._mediaInfo.audioDataRate=b.audiodatarate),typeof b.videodatarate=="number"&&(this._mediaInfo.videoDataRate=b.videodatarate),typeof b.width=="number"&&(this._mediaInfo.width=b.width),typeof b.height=="number"&&(this._mediaInfo.height=b.height),typeof b.duration=="number"){if(!this._durationOverrided){var w=Math.floor(b.duration*this._timescale);this._duration=w,this._mediaInfo.duration=w}}else this._mediaInfo.duration=0;if(typeof b.framerate=="number"){var A=Math.floor(b.framerate*1e3);if(A>0){var T=A/1e3;this._referenceFrameRate.fixed=!0,this._referenceFrameRate.fps=T,this._referenceFrameRate.fps_num=A,this._referenceFrameRate.fps_den=1e3,this._mediaInfo.fps=T}}if(typeof b.keyframes=="object"){this._mediaInfo.hasKeyframesIndex=!0;var P=b.keyframes;this._mediaInfo.keyframesIndex=this._parseKeyframesIndex(P),b.keyframes=null}else this._mediaInfo.hasKeyframesIndex=!1;this._dispatch=!1,this._mediaInfo.metadata=b,d.default.v(this.TAG,"Parsed onMetaData"),this._mediaInfo.isComplete()&&this._onMediaInfo(this._mediaInfo)}Object.keys(v).length>0&&this._onScriptDataArrived&&this._onScriptDataArrived(Object.assign({},v))},m.prototype._parseKeyframesIndex=function(_){for(var x=[],p=[],v=1;v<_.times.length;v++){var b=this._timestampBase+Math.floor(_.times[v]*1e3);x.push(b),p.push(_.filepositions[v])}return{times:x,filepositions:p}},m.prototype._parseAudioData=function(_,x,p,v){if(p<=1){d.default.w(this.TAG,"Flv: Invalid audio packet, missing SoundData payload!");return}if(!(this._hasAudioFlagOverrided===!0&&this._hasAudio===!1)){this._littleEndian;var b=new DataView(_,x,p),w=b.getUint8(0),A=w>>>4;if(A!==2&&A!==10){this._onError(l.default.CODEC_UNSUPPORTED,"Flv: Unsupported audio codec idx: "+A);return}var T=0,P=(w&12)>>>2;if(P>=0&&P<=4)T=this._flvSoundRateTable[P];else{this._onError(l.default.FORMAT_ERROR,"Flv: Invalid audio sample rate idx: "+P);return}var R=w&1,C=this._audioMetadata,O=this._audioTrack;if(C||(this._hasAudio===!1&&this._hasAudioFlagOverrided===!1&&(this._hasAudio=!0,this._mediaInfo.hasAudio=!0),C=this._audioMetadata={},C.type="audio",C.id=O.id,C.timescale=this._timescale,C.duration=this._duration,C.audioSampleRate=T,C.channelCount=R===0?1:2),A===10){var D=this._parseAACAudioData(_,x+1,p-1);if(D==null)return;if(D.packetType===0){C.config&&d.default.w(this.TAG,"Found another AudioSpecificConfig!");var N=D.data;C.audioSampleRate=N.samplingRate,C.channelCount=N.channelCount,C.codec=N.codec,C.originalCodec=N.originalCodec,C.config=N.config,C.refSampleDuration=1024/C.audioSampleRate*C.timescale,d.default.v(this.TAG,"Parsed AudioSpecificConfig"),this._isInitialMetadataDispatched()?this._dispatch&&(this._audioTrack.length||this._videoTrack.length)&&this._onDataAvailable(this._audioTrack,this._videoTrack):this._audioInitialMetadataDispatched=!0,this._dispatch=!1,this._onTrackMetadata("audio",C);var M=this._mediaInfo;M.audioCodec=C.originalCodec,M.audioSampleRate=C.audioSampleRate,M.audioChannelCount=C.channelCount,M.hasVideo?M.videoCodec!=null&&(M.mimeType='video/x-flv; codecs="'+M.videoCodec+","+M.audioCodec+'"'):M.mimeType='video/x-flv; codecs="'+M.audioCodec+'"',M.isComplete()&&this._onMediaInfo(M)}else if(D.packetType===1){var U=this._timestampBase+v,Q={unit:D.data,length:D.data.byteLength,dts:U,pts:U};O.samples.push(Q),O.length+=D.data.length}else d.default.e(this.TAG,"Flv: Unsupported AAC data type "+D.packetType)}else if(A===2){if(!C.codec){var N=this._parseMP3AudioData(_,x+1,p-1,!0);if(N==null)return;C.audioSampleRate=N.samplingRate,C.channelCount=N.channelCount,C.codec=N.codec,C.originalCodec=N.originalCodec,C.refSampleDuration=1152/C.audioSampleRate*C.timescale,d.default.v(this.TAG,"Parsed MPEG Audio Frame Header"),this._audioInitialMetadataDispatched=!0,this._onTrackMetadata("audio",C);var M=this._mediaInfo;M.audioCodec=C.codec,M.audioSampleRate=C.audioSampleRate,M.audioChannelCount=C.channelCount,M.audioDataRate=N.bitRate,M.hasVideo?M.videoCodec!=null&&(M.mimeType='video/x-flv; codecs="'+M.videoCodec+","+M.audioCodec+'"'):M.mimeType='video/x-flv; codecs="'+M.audioCodec+'"',M.isComplete()&&this._onMediaInfo(M)}var oe=this._parseMP3AudioData(_,x+1,p-1,!1);if(oe==null)return;var U=this._timestampBase+v,ne={unit:oe,length:oe.byteLength,dts:U,pts:U};O.samples.push(ne),O.length+=oe.length}}},m.prototype._parseAACAudioData=function(_,x,p){if(p<=1){d.default.w(this.TAG,"Flv: Invalid AAC packet, missing AACPacketType or/and Data!");return}var v={},b=new Uint8Array(_,x,p);return v.packetType=b[0],b[0]===0?v.data=this._parseAACAudioSpecificConfig(_,x+1,p-1):v.data=b.subarray(1),v},m.prototype._parseAACAudioSpecificConfig=function(_,x,p){var v=new Uint8Array(_,x,p),b=null,w=0,A=0,T=0,P=null;if(w=A=v[0]>>>3,T=(v[0]&7)<<1|v[1]>>>7,T<0||T>=this._mpegSamplingRates.length){this._onError(l.default.FORMAT_ERROR,"Flv: AAC invalid sampling frequency index!");return}var R=this._mpegSamplingRates[T],C=(v[1]&120)>>>3;if(C<0||C>=8){this._onError(l.default.FORMAT_ERROR,"Flv: AAC invalid channel configuration");return}w===5&&(P=(v[1]&7)<<1|v[2]>>>7,(v[2]&124)>>>2);var O=self.navigator.userAgent.toLowerCase();return O.indexOf("firefox")!==-1?T>=6?(w=5,b=new Array(4),P=T-3):(w=2,b=new Array(2),P=T):O.indexOf("android")!==-1?(w=2,b=new Array(2),P=T):(w=5,P=T,b=new Array(4),T>=6?P=T-3:C===1&&(w=2,b=new Array(2),P=T)),b[0]=w<<3,b[0]|=(T&15)>>>1,b[1]=(T&15)<<7,b[1]|=(C&15)<<3,w===5&&(b[1]|=(P&15)>>>1,b[2]=(P&1)<<7,b[2]|=8,b[3]=0),{config:b,samplingRate:R,channelCount:C,codec:"mp4a.40."+w,originalCodec:"mp4a.40."+A}},m.prototype._parseMP3AudioData=function(_,x,p,v){if(p<4){d.default.w(this.TAG,"Flv: Invalid MP3 packet, header missing!");return}this._littleEndian;var b=new Uint8Array(_,x,p),w=null;if(v){if(b[0]!==255)return;var A=b[1]>>>3&3,T=(b[1]&6)>>1,P=(b[2]&240)>>>4,R=(b[2]&12)>>>2,C=b[3]>>>6&3,O=C!==3?2:1,D=0,N=0,M="mp3";switch(A){case 0:D=this._mpegAudioV25SampleRateTable[R];break;case 2:D=this._mpegAudioV20SampleRateTable[R];break;case 3:D=this._mpegAudioV10SampleRateTable[R];break}switch(T){case 1:P<this._mpegAudioL3BitRateTable.length&&(N=this._mpegAudioL3BitRateTable[P]);break;case 2:P<this._mpegAudioL2BitRateTable.length&&(N=this._mpegAudioL2BitRateTable[P]);break;case 3:P<this._mpegAudioL1BitRateTable.length&&(N=this._mpegAudioL1BitRateTable[P]);break}w={bitRate:N,samplingRate:D,channelCount:O,codec:M,originalCodec:M}}else w=b;return w},m.prototype._parseVideoData=function(_,x,p,v,b){if(p<=1){d.default.w(this.TAG,"Flv: Invalid video packet, missing VideoData payload!");return}if(!(this._hasVideoFlagOverrided===!0&&this._hasVideo===!1)){var w=new Uint8Array(_,x,p)[0],A=(w&240)>>>4,T=w&15;if(T!==7){this._onError(l.default.CODEC_UNSUPPORTED,"Flv: Unsupported codec in video frame: "+T);return}this._parseAVCVideoPacket(_,x+1,p-1,v,b,A)}},m.prototype._parseAVCVideoPacket=function(_,x,p,v,b,w){if(p<4){d.default.w(this.TAG,"Flv: Invalid AVC packet, missing AVCPacketType or/and CompositionTime");return}var A=this._littleEndian,T=new DataView(_,x,p),P=T.getUint8(0),R=T.getUint32(0,!A)&16777215,C=R<<8>>8;if(P===0)this._parseAVCDecoderConfigurationRecord(_,x+4,p-4);else if(P===1)this._parseAVCVideoData(_,x+4,p-4,v,b,w,C);else if(P!==2){this._onError(l.default.FORMAT_ERROR,"Flv: Invalid video packet type "+P);return}},m.prototype._parseAVCDecoderConfigurationRecord=function(_,x,p){if(p<7){d.default.w(this.TAG,"Flv: Invalid AVCDecoderConfigurationRecord, lack of data!");return}var v=this._videoMetadata,b=this._videoTrack,w=this._littleEndian,A=new DataView(_,x,p);v?typeof v.avcc<"u"&&d.default.w(this.TAG,"Found another AVCDecoderConfigurationRecord!"):(this._hasVideo===!1&&this._hasVideoFlagOverrided===!1&&(this._hasVideo=!0,this._mediaInfo.hasVideo=!0),v=this._videoMetadata={},v.type="video",v.id=b.id,v.timescale=this._timescale,v.duration=this._duration);var T=A.getUint8(0),P=A.getUint8(1);if(A.getUint8(2),A.getUint8(3),T!==1||P===0){this._onError(l.default.FORMAT_ERROR,"Flv: Invalid AVCDecoderConfigurationRecord");return}if(this._naluLengthSize=(A.getUint8(4)&3)+1,this._naluLengthSize!==3&&this._naluLengthSize!==4){this._onError(l.default.FORMAT_ERROR,"Flv: Strange NaluLengthSizeMinusOne: "+(this._naluLengthSize-1));return}var R=A.getUint8(5)&31;if(R===0){this._onError(l.default.FORMAT_ERROR,"Flv: Invalid AVCDecoderConfigurationRecord: No SPS");return}else R>1&&d.default.w(this.TAG,"Flv: Strange AVCDecoderConfigurationRecord: SPS Count = "+R);for(var C=6,O=0;O<R;O++){var D=A.getUint16(C,!w);if(C+=2,D!==0){var N=new Uint8Array(_,x+C,D);C+=D;var M=a.default.parseSPS(N);if(O===0){v.codecWidth=M.codec_size.width,v.codecHeight=M.codec_size.height,v.presentWidth=M.present_size.width,v.presentHeight=M.present_size.height,v.profile=M.profile_string,v.level=M.level_string,v.bitDepth=M.bit_depth,v.chromaFormat=M.chroma_format,v.sarRatio=M.sar_ratio,v.frameRate=M.frame_rate,(M.frame_rate.fixed===!1||M.frame_rate.fps_num===0||M.frame_rate.fps_den===0)&&(v.frameRate=this._referenceFrameRate);var U=v.frameRate.fps_den,Q=v.frameRate.fps_num;v.refSampleDuration=v.timescale*(U/Q);for(var oe=N.subarray(1,4),ne="avc1.",de=0;de<3;de++){var he=oe[de].toString(16);he.length<2&&(he="0"+he),ne+=he}v.codec=ne;var se=this._mediaInfo;se.width=v.codecWidth,se.height=v.codecHeight,se.fps=v.frameRate.fps,se.profile=v.profile,se.level=v.level,se.refFrames=M.ref_frames,se.chromaFormat=M.chroma_format_string,se.sarNum=v.sarRatio.width,se.sarDen=v.sarRatio.height,se.videoCodec=ne,se.hasAudio?se.audioCodec!=null&&(se.mimeType='video/x-flv; codecs="'+se.videoCodec+","+se.audioCodec+'"'):se.mimeType='video/x-flv; codecs="'+se.videoCodec+'"',se.isComplete()&&this._onMediaInfo(se)}}}var ae=A.getUint8(C);if(ae===0){this._onError(l.default.FORMAT_ERROR,"Flv: Invalid AVCDecoderConfigurationRecord: No PPS");return}else ae>1&&d.default.w(this.TAG,"Flv: Strange AVCDecoderConfigurationRecord: PPS Count = "+ae);C++;for(var O=0;O<ae;O++){var D=A.getUint16(C,!w);C+=2,D!==0&&(C+=D)}v.avcc=new Uint8Array(p),v.avcc.set(new Uint8Array(_,x,p),0),d.default.v(this.TAG,"Parsed AVCDecoderConfigurationRecord"),this._isInitialMetadataDispatched()?this._dispatch&&(this._audioTrack.length||this._videoTrack.length)&&this._onDataAvailable(this._audioTrack,this._videoTrack):this._videoInitialMetadataDispatched=!0,this._dispatch=!1,this._onTrackMetadata("video",v)},m.prototype._parseAVCVideoData=function(_,x,p,v,b,w,A){for(var T=this._littleEndian,P=new DataView(_,x,p),R=[],C=0,O=0,D=this._naluLengthSize,N=this._timestampBase+v,M=w===1;O<p;){if(O+4>=p){d.default.w(this.TAG,"Malformed Nalu near timestamp "+N+", offset = "+O+", dataSize = "+p);break}var U=P.getUint32(O,!T);if(D===3&&(U>>>=8),U>p-D){d.default.w(this.TAG,"Malformed Nalus near timestamp "+N+", NaluSize > DataSize!");return}var Q=P.getUint8(O+D)&31;Q===5&&(M=!0);var oe=new Uint8Array(_,x+O,D+U),ne={type:Q,data:oe};R.push(ne),C+=oe.byteLength,O+=D+U}if(R.length){var de=this._videoTrack,he={units:R,length:C,isKeyframe:M,dts:N,cts:A,pts:N+A};M&&(he.fileposition=b),de.samples.push(he),de.length+=C}},m}();c.default=y},"./src/demux/sps-parser.js":function(s,c,f){f.r(c);var d=f("./src/demux/exp-golomb.js"),u=function(){function a(){}return a._ebsp2rbsp=function(l){for(var h=l,g=h.byteLength,E=new Uint8Array(g),y=0,m=0;m<g;m++)m>=2&&h[m]===3&&h[m-1]===0&&h[m-2]===0||(E[y]=h[m],y++);return new Uint8Array(E.buffer,0,y)},a.parseSPS=function(l){var h=a._ebsp2rbsp(l),g=new d.default(h);g.readByte();var E=g.readByte();g.readByte();var y=g.readByte();g.readUEG();var m=a.getProfileString(E),_=a.getLevelString(y),x=1,p=420,v=[0,420,422,444],b=8;if((E===100||E===110||E===122||E===244||E===44||E===83||E===86||E===118||E===128||E===138||E===144)&&(x=g.readUEG(),x===3&&g.readBits(1),x<=3&&(p=v[x]),b=g.readUEG()+8,g.readUEG(),g.readBits(1),g.readBool()))for(var w=x!==3?8:12,A=0;A<w;A++)g.readBool()&&(A<6?a._skipScalingList(g,16):a._skipScalingList(g,64));g.readUEG();var T=g.readUEG();if(T===0)g.readUEG();else if(T===1){g.readBits(1),g.readSEG(),g.readSEG();for(var P=g.readUEG(),A=0;A<P;A++)g.readSEG()}var R=g.readUEG();g.readBits(1);var C=g.readUEG(),O=g.readUEG(),D=g.readBits(1);D===0&&g.readBits(1),g.readBits(1);var N=0,M=0,U=0,Q=0,oe=g.readBool();oe&&(N=g.readUEG(),M=g.readUEG(),U=g.readUEG(),Q=g.readUEG());var ne=1,de=1,he=0,se=!0,ae=0,je=0,ve=g.readBool();if(ve){if(g.readBool()){var F=g.readByte(),W=[1,12,10,16,40,24,20,32,80,18,15,64,160,4,3,2],V=[1,11,11,11,33,11,11,11,33,11,11,33,99,3,2,1];F>0&&F<16?(ne=W[F-1],de=V[F-1]):F===255&&(ne=g.readByte()<<8|g.readByte(),de=g.readByte()<<8|g.readByte())}if(g.readBool()&&g.readBool(),g.readBool()&&(g.readBits(4),g.readBool()&&g.readBits(24)),g.readBool()&&(g.readUEG(),g.readUEG()),g.readBool()){var G=g.readBits(32),le=g.readBits(32);se=g.readBool(),ae=le,je=G*2,he=ae/je}}var re=1;(ne!==1||de!==1)&&(re=ne/de);var L=0,I=0;if(x===0)L=1,I=2-D;else{var k=x===3?1:2,K=x===1?2:1;L=k,I=K*(2-D)}var H=(C+1)*16,q=(2-D)*((O+1)*16);H-=(N+M)*L,q-=(U+Q)*I;var ee=Math.ceil(H*re);return g.destroy(),g=null,{profile_string:m,level_string:_,bit_depth:b,ref_frames:R,chroma_format:p,chroma_format_string:a.getChromaFormatString(p),frame_rate:{fixed:se,fps:he,fps_den:je,fps_num:ae},sar_ratio:{width:ne,height:de},codec_size:{width:H,height:q},present_size:{width:ee,height:q}}},a._skipScalingList=function(l,h){for(var g=8,E=8,y=0,m=0;m<h;m++)E!==0&&(y=l.readSEG(),E=(g+y+256)%256),g=E===0?g:E},a.getProfileString=function(l){switch(l){case 66:return"Baseline";case 77:return"Main";case 88:return"Extended";case 100:return"High";case 110:return"High10";case 122:return"High422";case 244:return"High444";default:return"Unknown"}},a.getLevelString=function(l){return(l/10).toFixed(1)},a.getChromaFormatString=function(l){switch(l){case 420:return"4:2:0";case 422:return"4:2:2";case 444:return"4:4:4";default:return"Unknown"}},a}();c.default=u},"./src/flv.js":function(s,c,f){f.r(c);var d=f("./src/utils/polyfill.js"),u=f("./src/core/features.js"),a=f("./src/io/loader.js"),l=f("./src/player/flv-player.js"),h=f("./src/player/native-player.js"),g=f("./src/player/player-events.js"),E=f("./src/player/player-errors.js"),y=f("./src/utils/logging-control.js"),m=f("./src/utils/exception.js");d.default.install();function _(b,w){var A=b;if(A==null||typeof A!="object")throw new m.InvalidArgumentException("MediaDataSource must be an javascript object!");if(!A.hasOwnProperty("type"))throw new m.InvalidArgumentException("MediaDataSource must has type field to indicate video file type!");switch(A.type){case"flv":return new l.default(A,w);default:return new h.default(A,w)}}function x(){return u.default.supportMSEH264Playback()}function p(){return u.default.getFeatureList()}var v={};v.createPlayer=_,v.isSupported=x,v.getFeatureList=p,v.BaseLoader=a.BaseLoader,v.LoaderStatus=a.LoaderStatus,v.LoaderErrors=a.LoaderErrors,v.Events=g.default,v.ErrorTypes=E.ErrorTypes,v.ErrorDetails=E.ErrorDetails,v.FlvPlayer=l.default,v.NativePlayer=h.default,v.LoggingControl=y.default,Object.defineProperty(v,"version",{enumerable:!0,get:function(){return"1.6.2"}}),c.default=v},"./src/index.js":function(s,c,f){s.exports=f("./src/flv.js").default},"./src/io/fetch-stream-loader.js":function(s,c,f){f.r(c);var d=f("./src/utils/browser.js"),u=f("./src/io/loader.js"),a=f("./src/utils/exception.js"),l=function(){var g=function(E,y){return g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(m,_){m.__proto__=_}||function(m,_){for(var x in _)Object.prototype.hasOwnProperty.call(_,x)&&(m[x]=_[x])},g(E,y)};return function(E,y){if(typeof y!="function"&&y!==null)throw new TypeError("Class extends value "+String(y)+" is not a constructor or null");g(E,y);function m(){this.constructor=E}E.prototype=y===null?Object.create(y):(m.prototype=y.prototype,new m)}}(),h=function(g){l(E,g);function E(y,m){var _=g.call(this,"fetch-stream-loader")||this;return _.TAG="FetchStreamLoader",_._seekHandler=y,_._config=m,_._needStash=!0,_._requestAbort=!1,_._contentLength=null,_._receivedLength=0,_}return E.isSupported=function(){try{var y=d.default.msedge&&d.default.version.minor>=15048,m=d.default.msedge?y:!0;return self.fetch&&self.ReadableStream&&m}catch{return!1}},E.prototype.destroy=function(){this.isWorking()&&this.abort(),g.prototype.destroy.call(this)},E.prototype.open=function(y,m){var _=this;this._dataSource=y,this._range=m;var x=y.url;this._config.reuseRedirectedURL&&y.redirectedURL!=null&&(x=y.redirectedURL);var p=this._seekHandler.getConfig(x,m),v=new self.Headers;if(typeof p.headers=="object"){var b=p.headers;for(var w in b)b.hasOwnProperty(w)&&v.append(w,b[w])}var A={method:"GET",headers:v,mode:"cors",cache:"default",referrerPolicy:"no-referrer-when-downgrade"};if(typeof this._config.headers=="object")for(var w in this._config.headers)v.append(w,this._config.headers[w]);y.cors===!1&&(A.mode="same-origin"),y.withCredentials&&(A.credentials="include"),y.referrerPolicy&&(A.referrerPolicy=y.referrerPolicy),self.AbortController&&(this._abortController=new self.AbortController,A.signal=this._abortController.signal),this._status=u.LoaderStatus.kConnecting,self.fetch(p.url,A).then(function(T){if(_._requestAbort){_._status=u.LoaderStatus.kIdle,T.body.cancel();return}if(T.ok&&T.status>=200&&T.status<=299){if(T.url!==p.url&&_._onURLRedirect){var P=_._seekHandler.removeURLParameters(T.url);_._onURLRedirect(P)}var R=T.headers.get("Content-Length");return R!=null&&(_._contentLength=parseInt(R),_._contentLength!==0&&_._onContentLengthKnown&&_._onContentLengthKnown(_._contentLength)),_._pump.call(_,T.body.getReader())}else if(_._status=u.LoaderStatus.kError,_._onError)_._onError(u.LoaderErrors.HTTP_STATUS_CODE_INVALID,{code:T.status,msg:T.statusText});else throw new a.RuntimeException("FetchStreamLoader: Http code invalid, "+T.status+" "+T.statusText)}).catch(function(T){if(!(_._abortController&&_._abortController.signal.aborted))if(_._status=u.LoaderStatus.kError,_._onError)_._onError(u.LoaderErrors.EXCEPTION,{code:-1,msg:T.message});else throw T})},E.prototype.abort=function(){if(this._requestAbort=!0,(this._status!==u.LoaderStatus.kBuffering||!d.default.chrome)&&this._abortController)try{this._abortController.abort()}catch{}},E.prototype._pump=function(y){var m=this;return y.read().then(function(_){if(_.done)if(m._contentLength!==null&&m._receivedLength<m._contentLength){m._status=u.LoaderStatus.kError;var x=u.LoaderErrors.EARLY_EOF,p={code:-1,msg:"Fetch stream meet Early-EOF"};if(m._onError)m._onError(x,p);else throw new a.RuntimeException(p.msg)}else m._status=u.LoaderStatus.kComplete,m._onComplete&&m._onComplete(m._range.from,m._range.from+m._receivedLength-1);else{if(m._abortController&&m._abortController.signal.aborted){m._status=u.LoaderStatus.kComplete;return}else if(m._requestAbort===!0)return m._status=u.LoaderStatus.kComplete,y.cancel();m._status=u.LoaderStatus.kBuffering;var v=_.value.buffer,b=m._range.from+m._receivedLength;m._receivedLength+=v.byteLength,m._onDataArrival&&m._onDataArrival(v,b,m._receivedLength),m._pump(y)}}).catch(function(_){if(m._abortController&&m._abortController.signal.aborted){m._status=u.LoaderStatus.kComplete;return}if(!(_.code===11&&d.default.msedge)){m._status=u.LoaderStatus.kError;var x=0,p=null;if((_.code===19||_.message==="network error")&&(m._contentLength===null||m._contentLength!==null&&m._receivedLength<m._contentLength)?(x=u.LoaderErrors.EARLY_EOF,p={code:_.code,msg:"Fetch stream meet Early-EOF"}):(x=u.LoaderErrors.EXCEPTION,p={code:_.code,msg:_.message}),m._onError)m._onError(x,p);else throw new a.RuntimeException(p.msg)}})},E}(u.BaseLoader);c.default=h},"./src/io/io-controller.js":function(s,c,f){f.r(c);var d=f("./src/utils/logger.js"),u=f("./src/io/speed-sampler.js"),a=f("./src/io/loader.js"),l=f("./src/io/fetch-stream-loader.js"),h=f("./src/io/xhr-moz-chunked-loader.js"),g=f("./src/io/xhr-range-loader.js"),E=f("./src/io/websocket-loader.js"),y=f("./src/io/range-seek-handler.js"),m=f("./src/io/param-seek-handler.js"),_=f("./src/utils/exception.js"),x=function(){function p(v,b,w){this.TAG="IOController",this._config=b,this._extraData=w,this._stashInitialSize=1024*384,b.stashInitialSize!=null&&b.stashInitialSize>0&&(this._stashInitialSize=b.stashInitialSize),this._stashUsed=0,this._stashSize=this._stashInitialSize,this._bufferSize=1024*1024*3,this._stashBuffer=new ArrayBuffer(this._bufferSize),this._stashByteStart=0,this._enableStash=!0,b.enableStashBuffer===!1&&(this._enableStash=!1),this._loader=null,this._loaderClass=null,this._seekHandler=null,this._dataSource=v,this._isWebSocketURL=/wss?:\/\/(.+?)/.test(v.url),this._refTotalLength=v.filesize?v.filesize:null,this._totalLength=this._refTotalLength,this._fullRequestFlag=!1,this._currentRange=null,this._redirectedURL=null,this._speedNormalized=0,this._speedSampler=new u.default,this._speedNormalizeList=[64,128,256,384,512,768,1024,1536,2048,3072,4096],this._isEarlyEofReconnecting=!1,this._paused=!1,this._resumeFrom=0,this._onDataArrival=null,this._onSeeked=null,this._onError=null,this._onComplete=null,this._onRedirect=null,this._onRecoveredEarlyEof=null,this._selectSeekHandler(),this._selectLoader(),this._createLoader()}return p.prototype.destroy=function(){this._loader.isWorking()&&this._loader.abort(),this._loader.destroy(),this._loader=null,this._loaderClass=null,this._dataSource=null,this._stashBuffer=null,this._stashUsed=this._stashSize=this._bufferSize=this._stashByteStart=0,this._currentRange=null,this._speedSampler=null,this._isEarlyEofReconnecting=!1,this._onDataArrival=null,this._onSeeked=null,this._onError=null,this._onComplete=null,this._onRedirect=null,this._onRecoveredEarlyEof=null,this._extraData=null},p.prototype.isWorking=function(){return this._loader&&this._loader.isWorking()&&!this._paused},p.prototype.isPaused=function(){return this._paused},Object.defineProperty(p.prototype,"status",{get:function(){return this._loader.status},enumerable:!1,configurable:!0}),Object.defineProperty(p.prototype,"extraData",{get:function(){return this._extraData},set:function(v){this._extraData=v},enumerable:!1,configurable:!0}),Object.defineProperty(p.prototype,"onDataArrival",{get:function(){return this._onDataArrival},set:function(v){this._onDataArrival=v},enumerable:!1,configurable:!0}),Object.defineProperty(p.prototype,"onSeeked",{get:function(){return this._onSeeked},set:function(v){this._onSeeked=v},enumerable:!1,configurable:!0}),Object.defineProperty(p.prototype,"onError",{get:function(){return this._onError},set:function(v){this._onError=v},enumerable:!1,configurable:!0}),Object.defineProperty(p.prototype,"onComplete",{get:function(){return this._onComplete},set:function(v){this._onComplete=v},enumerable:!1,configurable:!0}),Object.defineProperty(p.prototype,"onRedirect",{get:function(){return this._onRedirect},set:function(v){this._onRedirect=v},enumerable:!1,configurable:!0}),Object.defineProperty(p.prototype,"onRecoveredEarlyEof",{get:function(){return this._onRecoveredEarlyEof},set:function(v){this._onRecoveredEarlyEof=v},enumerable:!1,configurable:!0}),Object.defineProperty(p.prototype,"currentURL",{get:function(){return this._dataSource.url},enumerable:!1,configurable:!0}),Object.defineProperty(p.prototype,"hasRedirect",{get:function(){return this._redirectedURL!=null||this._dataSource.redirectedURL!=null},enumerable:!1,configurable:!0}),Object.defineProperty(p.prototype,"currentRedirectedURL",{get:function(){return this._redirectedURL||this._dataSource.redirectedURL},enumerable:!1,configurable:!0}),Object.defineProperty(p.prototype,"currentSpeed",{get:function(){return this._loaderClass===g.default?this._loader.currentSpeed:this._speedSampler.lastSecondKBps},enumerable:!1,configurable:!0}),Object.defineProperty(p.prototype,"loaderType",{get:function(){return this._loader.type},enumerable:!1,configurable:!0}),p.prototype._selectSeekHandler=function(){var v=this._config;if(v.seekType==="range")this._seekHandler=new y.default(this._config.rangeLoadZeroStart);else if(v.seekType==="param"){var b=v.seekParamStart||"bstart",w=v.seekParamEnd||"bend";this._seekHandler=new m.default(b,w)}else if(v.seekType==="custom"){if(typeof v.customSeekHandler!="function")throw new _.InvalidArgumentException("Custom seekType specified in config but invalid customSeekHandler!");this._seekHandler=new v.customSeekHandler}else throw new _.InvalidArgumentException("Invalid seekType in config: "+v.seekType)},p.prototype._selectLoader=function(){if(this._config.customLoader!=null)this._loaderClass=this._config.customLoader;else if(this._isWebSocketURL)this._loaderClass=E.default;else if(l.default.isSupported())this._loaderClass=l.default;else if(h.default.isSupported())this._loaderClass=h.default;else if(g.default.isSupported())this._loaderClass=g.default;else throw new _.RuntimeException("Your browser doesn't support xhr with arraybuffer responseType!")},p.prototype._createLoader=function(){this._loader=new this._loaderClass(this._seekHandler,this._config),this._loader.needStashBuffer===!1&&(this._enableStash=!1),this._loader.onContentLengthKnown=this._onContentLengthKnown.bind(this),this._loader.onURLRedirect=this._onURLRedirect.bind(this),this._loader.onDataArrival=this._onLoaderChunkArrival.bind(this),this._loader.onComplete=this._onLoaderComplete.bind(this),this._loader.onError=this._onLoaderError.bind(this)},p.prototype.open=function(v){this._currentRange={from:0,to:-1},v&&(this._currentRange.from=v),this._speedSampler.reset(),v||(this._fullRequestFlag=!0),this._loader.open(this._dataSource,Object.assign({},this._currentRange))},p.prototype.abort=function(){this._loader.abort(),this._paused&&(this._paused=!1,this._resumeFrom=0)},p.prototype.pause=function(){this.isWorking()&&(this._loader.abort(),this._stashUsed!==0?(this._resumeFrom=this._stashByteStart,this._currentRange.to=this._stashByteStart-1):this._resumeFrom=this._currentRange.to+1,this._stashUsed=0,this._stashByteStart=0,this._paused=!0)},p.prototype.resume=function(){if(this._paused){this._paused=!1;var v=this._resumeFrom;this._resumeFrom=0,this._internalSeek(v,!0)}},p.prototype.seek=function(v){this._paused=!1,this._stashUsed=0,this._stashByteStart=0,this._internalSeek(v,!0)},p.prototype._internalSeek=function(v,b){this._loader.isWorking()&&this._loader.abort(),this._flushStashBuffer(b),this._loader.destroy(),this._loader=null;var w={from:v,to:-1};this._currentRange={from:w.from,to:-1},this._speedSampler.reset(),this._stashSize=this._stashInitialSize,this._createLoader(),this._loader.open(this._dataSource,w),this._onSeeked&&this._onSeeked()},p.prototype.updateUrl=function(v){if(!v||typeof v!="string"||v.length===0)throw new _.InvalidArgumentException("Url must be a non-empty string!");this._dataSource.url=v},p.prototype._expandBuffer=function(v){for(var b=this._stashSize;b+1024*1024*1<v;)b*=2;if(b+=1024*1024*1,b!==this._bufferSize){var w=new ArrayBuffer(b);if(this._stashUsed>0){var A=new Uint8Array(this._stashBuffer,0,this._stashUsed),T=new Uint8Array(w,0,b);T.set(A,0)}this._stashBuffer=w,this._bufferSize=b}},p.prototype._normalizeSpeed=function(v){var b=this._speedNormalizeList,w=b.length-1,A=0,T=0,P=w;if(v<b[0])return b[0];for(;T<=P;){if(A=T+Math.floor((P-T)/2),A===w||v>=b[A]&&v<b[A+1])return b[A];b[A]<v?T=A+1:P=A-1}},p.prototype._adjustStashSize=function(v){var b=0;this._config.isLive||v<512?b=v:v>=512&&v<=1024?b=Math.floor(v*1.5):b=v*2,b>8192&&(b=8192);var w=b*1024+1024*1024*1;this._bufferSize<w&&this._expandBuffer(w),this._stashSize=b*1024},p.prototype._dispatchChunks=function(v,b){return this._currentRange.to=b+v.byteLength-1,this._onDataArrival(v,b)},p.prototype._onURLRedirect=function(v){this._redirectedURL=v,this._onRedirect&&this._onRedirect(v)},p.prototype._onContentLengthKnown=function(v){v&&this._fullRequestFlag&&(this._totalLength=v,this._fullRequestFlag=!1)},p.prototype._onLoaderChunkArrival=function(v,b,w){if(!this._onDataArrival)throw new _.IllegalStateException("IOController: No existing consumer (onDataArrival) callback!");if(!this._paused){this._isEarlyEofReconnecting&&(this._isEarlyEofReconnecting=!1,this._onRecoveredEarlyEof&&this._onRecoveredEarlyEof()),this._speedSampler.addBytes(v.byteLength);var A=this._speedSampler.lastSecondKBps;if(A!==0){var T=this._normalizeSpeed(A);this._speedNormalized!==T&&(this._speedNormalized=T,this._adjustStashSize(T))}if(this._enableStash)if(this._stashUsed===0&&this._stashByteStart===0&&(this._stashByteStart=b),this._stashUsed+v.byteLength<=this._stashSize){var C=new Uint8Array(this._stashBuffer,0,this._stashSize);C.set(new Uint8Array(v),this._stashUsed),this._stashUsed+=v.byteLength}else{var C=new Uint8Array(this._stashBuffer,0,this._bufferSize);if(this._stashUsed>0){var D=this._stashBuffer.slice(0,this._stashUsed),P=this._dispatchChunks(D,this._stashByteStart);if(P<D.byteLength){if(P>0){var O=new Uint8Array(D,P);C.set(O,0),this._stashUsed=O.byteLength,this._stashByteStart+=P}}else this._stashUsed=0,this._stashByteStart+=P;this._stashUsed+v.byteLength>this._bufferSize&&(this._expandBuffer(this._stashUsed+v.byteLength),C=new Uint8Array(this._stashBuffer,0,this._bufferSize)),C.set(new Uint8Array(v),this._stashUsed),this._stashUsed+=v.byteLength}else{var P=this._dispatchChunks(v,b);if(P<v.byteLength){var R=v.byteLength-P;R>this._bufferSize&&(this._expandBuffer(R),C=new Uint8Array(this._stashBuffer,0,this._bufferSize)),C.set(new Uint8Array(v,P),0),this._stashUsed+=R,this._stashByteStart=b+P}}}else if(this._stashUsed===0){var P=this._dispatchChunks(v,b);if(P<v.byteLength){var R=v.byteLength-P;R>this._bufferSize&&this._expandBuffer(R);var C=new Uint8Array(this._stashBuffer,0,this._bufferSize);C.set(new Uint8Array(v,P),0),this._stashUsed+=R,this._stashByteStart=b+P}}else{this._stashUsed+v.byteLength>this._bufferSize&&this._expandBuffer(this._stashUsed+v.byteLength);var C=new Uint8Array(this._stashBuffer,0,this._bufferSize);C.set(new Uint8Array(v),this._stashUsed),this._stashUsed+=v.byteLength;var P=this._dispatchChunks(this._stashBuffer.slice(0,this._stashUsed),this._stashByteStart);if(P<this._stashUsed&&P>0){var O=new Uint8Array(this._stashBuffer,P);C.set(O,0)}this._stashUsed-=P,this._stashByteStart+=P}}},p.prototype._flushStashBuffer=function(v){if(this._stashUsed>0){var b=this._stashBuffer.slice(0,this._stashUsed),w=this._dispatchChunks(b,this._stashByteStart),A=b.byteLength-w;if(w<b.byteLength)if(v)d.default.w(this.TAG,A+" bytes unconsumed data remain when flush buffer, dropped");else{if(w>0){var T=new Uint8Array(this._stashBuffer,0,this._bufferSize),P=new Uint8Array(b,w);T.set(P,0),this._stashUsed=P.byteLength,this._stashByteStart+=w}return 0}return this._stashUsed=0,this._stashByteStart=0,A}return 0},p.prototype._onLoaderComplete=function(v,b){this._flushStashBuffer(!0),this._onComplete&&this._onComplete(this._extraData)},p.prototype._onLoaderError=function(v,b){switch(d.default.e(this.TAG,"Loader error, code = "+b.code+", msg = "+b.msg),this._flushStashBuffer(!1),this._isEarlyEofReconnecting&&(this._isEarlyEofReconnecting=!1,v=a.LoaderErrors.UNRECOVERABLE_EARLY_EOF),v){case a.LoaderErrors.EARLY_EOF:{if(!this._config.isLive&&this._totalLength){var w=this._currentRange.to+1;w<this._totalLength&&(d.default.w(this.TAG,"Connection lost, trying reconnect..."),this._isEarlyEofReconnecting=!0,this._internalSeek(w,!1));return}v=a.LoaderErrors.UNRECOVERABLE_EARLY_EOF;break}case a.LoaderErrors.UNRECOVERABLE_EARLY_EOF:case a.LoaderErrors.CONNECTING_TIMEOUT:case a.LoaderErrors.HTTP_STATUS_CODE_INVALID:case a.LoaderErrors.EXCEPTION:break}if(this._onError)this._onError(v,b);else throw new _.RuntimeException("IOException: "+b.msg)},p}();c.default=x},"./src/io/loader.js":function(s,c,f){f.r(c),f.d(c,{LoaderStatus:function(){return u},LoaderErrors:function(){return a},BaseLoader:function(){return l}});var d=f("./src/utils/exception.js"),u={kIdle:0,kConnecting:1,kBuffering:2,kError:3,kComplete:4},a={OK:"OK",EXCEPTION:"Exception",HTTP_STATUS_CODE_INVALID:"HttpStatusCodeInvalid",CONNECTING_TIMEOUT:"ConnectingTimeout",EARLY_EOF:"EarlyEof",UNRECOVERABLE_EARLY_EOF:"UnrecoverableEarlyEof"},l=function(){function h(g){this._type=g||"undefined",this._status=u.kIdle,this._needStash=!1,this._onContentLengthKnown=null,this._onURLRedirect=null,this._onDataArrival=null,this._onError=null,this._onComplete=null}return h.prototype.destroy=function(){this._status=u.kIdle,this._onContentLengthKnown=null,this._onURLRedirect=null,this._onDataArrival=null,this._onError=null,this._onComplete=null},h.prototype.isWorking=function(){return this._status===u.kConnecting||this._status===u.kBuffering},Object.defineProperty(h.prototype,"type",{get:function(){return this._type},enumerable:!1,configurable:!0}),Object.defineProperty(h.prototype,"status",{get:function(){return this._status},enumerable:!1,configurable:!0}),Object.defineProperty(h.prototype,"needStashBuffer",{get:function(){return this._needStash},enumerable:!1,configurable:!0}),Object.defineProperty(h.prototype,"onContentLengthKnown",{get:function(){return this._onContentLengthKnown},set:function(g){this._onContentLengthKnown=g},enumerable:!1,configurable:!0}),Object.defineProperty(h.prototype,"onURLRedirect",{get:function(){return this._onURLRedirect},set:function(g){this._onURLRedirect=g},enumerable:!1,configurable:!0}),Object.defineProperty(h.prototype,"onDataArrival",{get:function(){return this._onDataArrival},set:function(g){this._onDataArrival=g},enumerable:!1,configurable:!0}),Object.defineProperty(h.prototype,"onError",{get:function(){return this._onError},set:function(g){this._onError=g},enumerable:!1,configurable:!0}),Object.defineProperty(h.prototype,"onComplete",{get:function(){return this._onComplete},set:function(g){this._onComplete=g},enumerable:!1,configurable:!0}),h.prototype.open=function(g,E){throw new d.NotImplementedException("Unimplemented abstract function!")},h.prototype.abort=function(){throw new d.NotImplementedException("Unimplemented abstract function!")},h}()},"./src/io/param-seek-handler.js":function(s,c,f){f.r(c);var d=function(){function u(a,l){this._startName=a,this._endName=l}return u.prototype.getConfig=function(a,l){var h=a;if(l.from!==0||l.to!==-1){var g=!0;h.indexOf("?")===-1&&(h+="?",g=!1),g&&(h+="&"),h+=this._startName+"="+l.from.toString(),l.to!==-1&&(h+="&"+this._endName+"="+l.to.toString())}return{url:h,headers:{}}},u.prototype.removeURLParameters=function(a){var l=a.split("?")[0],h=void 0,g=a.indexOf("?");g!==-1&&(h=a.substring(g+1));var E="";if(h!=null&&h.length>0)for(var y=h.split("&"),m=0;m<y.length;m++){var _=y[m].split("="),x=m>0;_[0]!==this._startName&&_[0]!==this._endName&&(x&&(E+="&"),E+=y[m])}return E.length===0?l:l+"?"+E},u}();c.default=d},"./src/io/range-seek-handler.js":function(s,c,f){f.r(c);var d=function(){function u(a){this._zeroStart=a||!1}return u.prototype.getConfig=function(a,l){var h={};if(l.from!==0||l.to!==-1){var g=void 0;l.to!==-1?g="bytes="+l.from.toString()+"-"+l.to.toString():g="bytes="+l.from.toString()+"-",h.Range=g}else this._zeroStart&&(h.Range="bytes=0-");return{url:a,headers:h}},u.prototype.removeURLParameters=function(a){return a},u}();c.default=d},"./src/io/speed-sampler.js":function(s,c,f){f.r(c);var d=function(){function u(){this._firstCheckpoint=0,this._lastCheckpoint=0,this._intervalBytes=0,this._totalBytes=0,this._lastSecondBytes=0,self.performance&&self.performance.now?this._now=self.performance.now.bind(self.performance):this._now=Date.now}return u.prototype.reset=function(){this._firstCheckpoint=this._lastCheckpoint=0,this._totalBytes=this._intervalBytes=0,this._lastSecondBytes=0},u.prototype.addBytes=function(a){this._firstCheckpoint===0?(this._firstCheckpoint=this._now(),this._lastCheckpoint=this._firstCheckpoint,this._intervalBytes+=a,this._totalBytes+=a):this._now()-this._lastCheckpoint<1e3?(this._intervalBytes+=a,this._totalBytes+=a):(this._lastSecondBytes=this._intervalBytes,this._intervalBytes=a,this._totalBytes+=a,this._lastCheckpoint=this._now())},Object.defineProperty(u.prototype,"currentKBps",{get:function(){this.addBytes(0);var a=(this._now()-this._lastCheckpoint)/1e3;return a==0&&(a=1),this._intervalBytes/a/1024},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"lastSecondKBps",{get:function(){return this.addBytes(0),this._lastSecondBytes!==0?this._lastSecondBytes/1024:this._now()-this._lastCheckpoint>=500?this.currentKBps:0},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"averageKBps",{get:function(){var a=(this._now()-this._firstCheckpoint)/1e3;return this._totalBytes/a/1024},enumerable:!1,configurable:!0}),u}();c.default=d},"./src/io/websocket-loader.js":function(s,c,f){f.r(c);var d=f("./src/io/loader.js"),u=f("./src/utils/exception.js"),a=function(){var h=function(g,E){return h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(y,m){y.__proto__=m}||function(y,m){for(var _ in m)Object.prototype.hasOwnProperty.call(m,_)&&(y[_]=m[_])},h(g,E)};return function(g,E){if(typeof E!="function"&&E!==null)throw new TypeError("Class extends value "+String(E)+" is not a constructor or null");h(g,E);function y(){this.constructor=g}g.prototype=E===null?Object.create(E):(y.prototype=E.prototype,new y)}}(),l=function(h){a(g,h);function g(){var E=h.call(this,"websocket-loader")||this;return E.TAG="WebSocketLoader",E._needStash=!0,E._ws=null,E._requestAbort=!1,E._receivedLength=0,E}return g.isSupported=function(){try{return typeof self.WebSocket<"u"}catch{return!1}},g.prototype.destroy=function(){this._ws&&this.abort(),h.prototype.destroy.call(this)},g.prototype.open=function(E){try{var y=this._ws=new self.WebSocket(E.url);y.binaryType="arraybuffer",y.onopen=this._onWebSocketOpen.bind(this),y.onclose=this._onWebSocketClose.bind(this),y.onmessage=this._onWebSocketMessage.bind(this),y.onerror=this._onWebSocketError.bind(this),this._status=d.LoaderStatus.kConnecting}catch(_){this._status=d.LoaderStatus.kError;var m={code:_.code,msg:_.message};if(this._onError)this._onError(d.LoaderErrors.EXCEPTION,m);else throw new u.RuntimeException(m.msg)}},g.prototype.abort=function(){var E=this._ws;E&&(E.readyState===0||E.readyState===1)&&(this._requestAbort=!0,E.close()),this._ws=null,this._status=d.LoaderStatus.kComplete},g.prototype._onWebSocketOpen=function(E){this._status=d.LoaderStatus.kBuffering},g.prototype._onWebSocketClose=function(E){if(this._requestAbort===!0){this._requestAbort=!1;return}this._status=d.LoaderStatus.kComplete,this._onComplete&&this._onComplete(0,this._receivedLength-1)},g.prototype._onWebSocketMessage=function(E){var y=this;if(E.data instanceof ArrayBuffer)this._dispatchArrayBuffer(E.data);else if(E.data instanceof Blob){var m=new FileReader;m.onload=function(){y._dispatchArrayBuffer(m.result)},m.readAsArrayBuffer(E.data)}else{this._status=d.LoaderStatus.kError;var _={code:-1,msg:"Unsupported WebSocket message type: "+E.data.constructor.name};if(this._onError)this._onError(d.LoaderErrors.EXCEPTION,_);else throw new u.RuntimeException(_.msg)}},g.prototype._dispatchArrayBuffer=function(E){var y=E,m=this._receivedLength;this._receivedLength+=y.byteLength,this._onDataArrival&&this._onDataArrival(y,m,this._receivedLength)},g.prototype._onWebSocketError=function(E){this._status=d.LoaderStatus.kError;var y={code:E.code,msg:E.message};if(this._onError)this._onError(d.LoaderErrors.EXCEPTION,y);else throw new u.RuntimeException(y.msg)},g}(d.BaseLoader);c.default=l},"./src/io/xhr-moz-chunked-loader.js":function(s,c,f){f.r(c);var d=f("./src/utils/logger.js"),u=f("./src/io/loader.js"),a=f("./src/utils/exception.js"),l=function(){var g=function(E,y){return g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(m,_){m.__proto__=_}||function(m,_){for(var x in _)Object.prototype.hasOwnProperty.call(_,x)&&(m[x]=_[x])},g(E,y)};return function(E,y){if(typeof y!="function"&&y!==null)throw new TypeError("Class extends value "+String(y)+" is not a constructor or null");g(E,y);function m(){this.constructor=E}E.prototype=y===null?Object.create(y):(m.prototype=y.prototype,new m)}}(),h=function(g){l(E,g);function E(y,m){var _=g.call(this,"xhr-moz-chunked-loader")||this;return _.TAG="MozChunkedLoader",_._seekHandler=y,_._config=m,_._needStash=!0,_._xhr=null,_._requestAbort=!1,_._contentLength=null,_._receivedLength=0,_}return E.isSupported=function(){try{var y=new XMLHttpRequest;return y.open("GET","https://example.com",!0),y.responseType="moz-chunked-arraybuffer",y.responseType==="moz-chunked-arraybuffer"}catch(m){return d.default.w("MozChunkedLoader",m.message),!1}},E.prototype.destroy=function(){this.isWorking()&&this.abort(),this._xhr&&(this._xhr.onreadystatechange=null,this._xhr.onprogress=null,this._xhr.onloadend=null,this._xhr.onerror=null,this._xhr=null),g.prototype.destroy.call(this)},E.prototype.open=function(y,m){this._dataSource=y,this._range=m;var _=y.url;this._config.reuseRedirectedURL&&y.redirectedURL!=null&&(_=y.redirectedURL);var x=this._seekHandler.getConfig(_,m);this._requestURL=x.url;var p=this._xhr=new XMLHttpRequest;if(p.open("GET",x.url,!0),p.responseType="moz-chunked-arraybuffer",p.onreadystatechange=this._onReadyStateChange.bind(this),p.onprogress=this._onProgress.bind(this),p.onloadend=this._onLoadEnd.bind(this),p.onerror=this._onXhrError.bind(this),y.withCredentials&&(p.withCredentials=!0),typeof x.headers=="object"){var v=x.headers;for(var b in v)v.hasOwnProperty(b)&&p.setRequestHeader(b,v[b])}if(typeof this._config.headers=="object"){var v=this._config.headers;for(var b in v)v.hasOwnProperty(b)&&p.setRequestHeader(b,v[b])}this._status=u.LoaderStatus.kConnecting,p.send()},E.prototype.abort=function(){this._requestAbort=!0,this._xhr&&this._xhr.abort(),this._status=u.LoaderStatus.kComplete},E.prototype._onReadyStateChange=function(y){var m=y.target;if(m.readyState===2){if(m.responseURL!=null&&m.responseURL!==this._requestURL&&this._onURLRedirect){var _=this._seekHandler.removeURLParameters(m.responseURL);this._onURLRedirect(_)}if(m.status!==0&&(m.status<200||m.status>299))if(this._status=u.LoaderStatus.kError,this._onError)this._onError(u.LoaderErrors.HTTP_STATUS_CODE_INVALID,{code:m.status,msg:m.statusText});else throw new a.RuntimeException("MozChunkedLoader: Http code invalid, "+m.status+" "+m.statusText);else this._status=u.LoaderStatus.kBuffering}},E.prototype._onProgress=function(y){if(this._status!==u.LoaderStatus.kError){this._contentLength===null&&y.total!==null&&y.total!==0&&(this._contentLength=y.total,this._onContentLengthKnown&&this._onContentLengthKnown(this._contentLength));var m=y.target.response,_=this._range.from+this._receivedLength;this._receivedLength+=m.byteLength,this._onDataArrival&&this._onDataArrival(m,_,this._receivedLength)}},E.prototype._onLoadEnd=function(y){if(this._requestAbort===!0){this._requestAbort=!1;return}else if(this._status===u.LoaderStatus.kError)return;this._status=u.LoaderStatus.kComplete,this._onComplete&&this._onComplete(this._range.from,this._range.from+this._receivedLength-1)},E.prototype._onXhrError=function(y){this._status=u.LoaderStatus.kError;var m=0,_=null;if(this._contentLength&&y.loaded<this._contentLength?(m=u.LoaderErrors.EARLY_EOF,_={code:-1,msg:"Moz-Chunked stream meet Early-Eof"}):(m=u.LoaderErrors.EXCEPTION,_={code:-1,msg:y.constructor.name+" "+y.type}),this._onError)this._onError(m,_);else throw new a.RuntimeException(_.msg)},E}(u.BaseLoader);c.default=h},"./src/io/xhr-range-loader.js":function(s,c,f){f.r(c);var d=f("./src/utils/logger.js"),u=f("./src/io/speed-sampler.js"),a=f("./src/io/loader.js"),l=f("./src/utils/exception.js"),h=function(){var E=function(y,m){return E=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(_,x){_.__proto__=x}||function(_,x){for(var p in x)Object.prototype.hasOwnProperty.call(x,p)&&(_[p]=x[p])},E(y,m)};return function(y,m){if(typeof m!="function"&&m!==null)throw new TypeError("Class extends value "+String(m)+" is not a constructor or null");E(y,m);function _(){this.constructor=y}y.prototype=m===null?Object.create(m):(_.prototype=m.prototype,new _)}}(),g=function(E){h(y,E);function y(m,_){var x=E.call(this,"xhr-range-loader")||this;return x.TAG="RangeLoader",x._seekHandler=m,x._config=_,x._needStash=!1,x._chunkSizeKBList=[128,256,384,512,768,1024,1536,2048,3072,4096,5120,6144,7168,8192],x._currentChunkSizeKB=384,x._currentSpeedNormalized=0,x._zeroSpeedChunkCount=0,x._xhr=null,x._speedSampler=new u.default,x._requestAbort=!1,x._waitForTotalLength=!1,x._totalLengthReceived=!1,x._currentRequestURL=null,x._currentRedirectedURL=null,x._currentRequestRange=null,x._totalLength=null,x._contentLength=null,x._receivedLength=0,x._lastTimeLoaded=0,x}return y.isSupported=function(){try{var m=new XMLHttpRequest;return m.open("GET","https://example.com",!0),m.responseType="arraybuffer",m.responseType==="arraybuffer"}catch(_){return d.default.w("RangeLoader",_.message),!1}},y.prototype.destroy=function(){this.isWorking()&&this.abort(),this._xhr&&(this._xhr.onreadystatechange=null,this._xhr.onprogress=null,this._xhr.onload=null,this._xhr.onerror=null,this._xhr=null),E.prototype.destroy.call(this)},Object.defineProperty(y.prototype,"currentSpeed",{get:function(){return this._speedSampler.lastSecondKBps},enumerable:!1,configurable:!0}),y.prototype.open=function(m,_){this._dataSource=m,this._range=_,this._status=a.LoaderStatus.kConnecting;var x=!1;this._dataSource.filesize!=null&&this._dataSource.filesize!==0&&(x=!0,this._totalLength=this._dataSource.filesize),!this._totalLengthReceived&&!x?(this._waitForTotalLength=!0,this._internalOpen(this._dataSource,{from:0,to:-1})):this._openSubRange()},y.prototype._openSubRange=function(){var m=this._currentChunkSizeKB*1024,_=this._range.from+this._receivedLength,x=_+m;this._contentLength!=null&&x-this._range.from>=this._contentLength&&(x=this._range.from+this._contentLength-1),this._currentRequestRange={from:_,to:x},this._internalOpen(this._dataSource,this._currentRequestRange)},y.prototype._internalOpen=function(m,_){this._lastTimeLoaded=0;var x=m.url;this._config.reuseRedirectedURL&&(this._currentRedirectedURL!=null?x=this._currentRedirectedURL:m.redirectedURL!=null&&(x=m.redirectedURL));var p=this._seekHandler.getConfig(x,_);this._currentRequestURL=p.url;var v=this._xhr=new XMLHttpRequest;if(v.open("GET",p.url,!0),v.responseType="arraybuffer",v.onreadystatechange=this._onReadyStateChange.bind(this),v.onprogress=this._onProgress.bind(this),v.onload=this._onLoad.bind(this),v.onerror=this._onXhrError.bind(this),m.withCredentials&&(v.withCredentials=!0),typeof p.headers=="object"){var b=p.headers;for(var w in b)b.hasOwnProperty(w)&&v.setRequestHeader(w,b[w])}if(typeof this._config.headers=="object"){var b=this._config.headers;for(var w in b)b.hasOwnProperty(w)&&v.setRequestHeader(w,b[w])}v.send()},y.prototype.abort=function(){this._requestAbort=!0,this._internalAbort(),this._status=a.LoaderStatus.kComplete},y.prototype._internalAbort=function(){this._xhr&&(this._xhr.onreadystatechange=null,this._xhr.onprogress=null,this._xhr.onload=null,this._xhr.onerror=null,this._xhr.abort(),this._xhr=null)},y.prototype._onReadyStateChange=function(m){var _=m.target;if(_.readyState===2){if(_.responseURL!=null){var x=this._seekHandler.removeURLParameters(_.responseURL);_.responseURL!==this._currentRequestURL&&x!==this._currentRedirectedURL&&(this._currentRedirectedURL=x,this._onURLRedirect&&this._onURLRedirect(x))}if(_.status>=200&&_.status<=299){if(this._waitForTotalLength)return;this._status=a.LoaderStatus.kBuffering}else if(this._status=a.LoaderStatus.kError,this._onError)this._onError(a.LoaderErrors.HTTP_STATUS_CODE_INVALID,{code:_.status,msg:_.statusText});else throw new l.RuntimeException("RangeLoader: Http code invalid, "+_.status+" "+_.statusText)}},y.prototype._onProgress=function(m){if(this._status!==a.LoaderStatus.kError){if(this._contentLength===null){var _=!1;if(this._waitForTotalLength){this._waitForTotalLength=!1,this._totalLengthReceived=!0,_=!0;var x=m.total;this._internalAbort(),x!=null&x!==0&&(this._totalLength=x)}if(this._range.to===-1?this._contentLength=this._totalLength-this._range.from:this._contentLength=this._range.to-this._range.from+1,_){this._openSubRange();return}this._onContentLengthKnown&&this._onContentLengthKnown(this._contentLength)}var p=m.loaded-this._lastTimeLoaded;this._lastTimeLoaded=m.loaded,this._speedSampler.addBytes(p)}},y.prototype._normalizeSpeed=function(m){var _=this._chunkSizeKBList,x=_.length-1,p=0,v=0,b=x;if(m<_[0])return _[0];for(;v<=b;){if(p=v+Math.floor((b-v)/2),p===x||m>=_[p]&&m<_[p+1])return _[p];_[p]<m?v=p+1:b=p-1}},y.prototype._onLoad=function(m){if(this._status!==a.LoaderStatus.kError){if(this._waitForTotalLength){this._waitForTotalLength=!1;return}this._lastTimeLoaded=0;var _=this._speedSampler.lastSecondKBps;if(_===0&&(this._zeroSpeedChunkCount++,this._zeroSpeedChunkCount>=3&&(_=this._speedSampler.currentKBps)),_!==0){var x=this._normalizeSpeed(_);this._currentSpeedNormalized!==x&&(this._currentSpeedNormalized=x,this._currentChunkSizeKB=x)}var p=m.target.response,v=this._range.from+this._receivedLength;this._receivedLength+=p.byteLength;var b=!1;this._contentLength!=null&&this._receivedLength<this._contentLength?this._openSubRange():b=!0,this._onDataArrival&&this._onDataArrival(p,v,this._receivedLength),b&&(this._status=a.LoaderStatus.kComplete,this._onComplete&&this._onComplete(this._range.from,this._range.from+this._receivedLength-1))}},y.prototype._onXhrError=function(m){this._status=a.LoaderStatus.kError;var _=0,x=null;if(this._contentLength&&this._receivedLength>0&&this._receivedLength<this._contentLength?(_=a.LoaderErrors.EARLY_EOF,x={code:-1,msg:"RangeLoader meet Early-Eof"}):(_=a.LoaderErrors.EXCEPTION,x={code:-1,msg:m.constructor.name+" "+m.type}),this._onError)this._onError(_,x);else throw new l.RuntimeException(x.msg)},y}(a.BaseLoader);c.default=g},"./src/player/flv-player.js":function(s,c,f){f.r(c);var d=f("./node_modules/events/events.js"),u=f.n(d),a=f("./src/utils/logger.js"),l=f("./src/utils/browser.js"),h=f("./src/player/player-events.js"),g=f("./src/core/transmuxer.js"),E=f("./src/core/transmuxing-events.js"),y=f("./src/core/mse-controller.js"),m=f("./src/core/mse-events.js"),_=f("./src/player/player-errors.js"),x=f("./src/config.js"),p=f("./src/utils/exception.js"),v=function(){function b(w,A){if(this.TAG="FlvPlayer",this._type="FlvPlayer",this._emitter=new(u()),this._config=(0,x.createDefaultConfig)(),typeof A=="object"&&Object.assign(this._config,A),w.type.toLowerCase()!=="flv")throw new p.InvalidArgumentException("FlvPlayer requires an flv MediaDataSource input!");w.isLive===!0&&(this._config.isLive=!0),this.e={onvLoadedMetadata:this._onvLoadedMetadata.bind(this),onvSeeking:this._onvSeeking.bind(this),onvCanPlay:this._onvCanPlay.bind(this),onvStalled:this._onvStalled.bind(this),onvProgress:this._onvProgress.bind(this)},self.performance&&self.performance.now?this._now=self.performance.now.bind(self.performance):this._now=Date.now,this._pendingSeekTime=null,this._requestSetTime=!1,this._seekpointRecord=null,this._progressChecker=null,this._mediaDataSource=w,this._mediaElement=null,this._msectl=null,this._transmuxer=null,this._mseSourceOpened=!1,this._hasPendingLoad=!1,this._receivedCanPlay=!1,this._mediaInfo=null,this._statisticsInfo=null;var T=l.default.chrome&&(l.default.version.major<50||l.default.version.major===50&&l.default.version.build<2661);this._alwaysSeekKeyframe=!!(T||l.default.msedge||l.default.msie),this._alwaysSeekKeyframe&&(this._config.accurateSeek=!1)}return b.prototype.destroy=function(){this._progressChecker!=null&&(window.clearInterval(this._progressChecker),this._progressChecker=null),this._transmuxer&&this.unload(),this._mediaElement&&this.detachMediaElement(),this.e=null,this._mediaDataSource=null,this._emitter.removeAllListeners(),this._emitter=null},b.prototype.on=function(w,A){var T=this;w===h.default.MEDIA_INFO?this._mediaInfo!=null&&Promise.resolve().then(function(){T._emitter.emit(h.default.MEDIA_INFO,T.mediaInfo)}):w===h.default.STATISTICS_INFO&&this._statisticsInfo!=null&&Promise.resolve().then(function(){T._emitter.emit(h.default.STATISTICS_INFO,T.statisticsInfo)}),this._emitter.addListener(w,A)},b.prototype.off=function(w,A){this._emitter.removeListener(w,A)},b.prototype.attachMediaElement=function(w){var A=this;if(this._mediaElement=w,w.addEventListener("loadedmetadata",this.e.onvLoadedMetadata),w.addEventListener("seeking",this.e.onvSeeking),w.addEventListener("canplay",this.e.onvCanPlay),w.addEventListener("stalled",this.e.onvStalled),w.addEventListener("progress",this.e.onvProgress),this._msectl=new y.default(this._config),this._msectl.on(m.default.UPDATE_END,this._onmseUpdateEnd.bind(this)),this._msectl.on(m.default.BUFFER_FULL,this._onmseBufferFull.bind(this)),this._msectl.on(m.default.SOURCE_OPEN,function(){A._mseSourceOpened=!0,A._hasPendingLoad&&(A._hasPendingLoad=!1,A.load())}),this._msectl.on(m.default.ERROR,function(T){A._emitter.emit(h.default.ERROR,_.ErrorTypes.MEDIA_ERROR,_.ErrorDetails.MEDIA_MSE_ERROR,T)}),this._msectl.attachMediaElement(w),this._pendingSeekTime!=null)try{w.currentTime=this._pendingSeekTime,this._pendingSeekTime=null}catch{}},b.prototype.detachMediaElement=function(){this._mediaElement&&(this._msectl.detachMediaElement(),this._mediaElement.removeEventListener("loadedmetadata",this.e.onvLoadedMetadata),this._mediaElement.removeEventListener("seeking",this.e.onvSeeking),this._mediaElement.removeEventListener("canplay",this.e.onvCanPlay),this._mediaElement.removeEventListener("stalled",this.e.onvStalled),this._mediaElement.removeEventListener("progress",this.e.onvProgress),this._mediaElement=null),this._msectl&&(this._msectl.destroy(),this._msectl=null)},b.prototype.load=function(){var w=this;if(!this._mediaElement)throw new p.IllegalStateException("HTMLMediaElement must be attached before load()!");if(this._transmuxer)throw new p.IllegalStateException("FlvPlayer.load() has been called, please call unload() first!");if(!this._hasPendingLoad){if(this._config.deferLoadAfterSourceOpen&&this._mseSourceOpened===!1){this._hasPendingLoad=!0;return}this._mediaElement.readyState>0&&(this._requestSetTime=!0,this._mediaElement.currentTime=0),this._transmuxer=new g.default(this._mediaDataSource,this._config),this._transmuxer.on(E.default.INIT_SEGMENT,function(A,T){w._msectl.appendInitSegment(T)}),this._transmuxer.on(E.default.MEDIA_SEGMENT,function(A,T){if(w._msectl.appendMediaSegment(T),w._config.lazyLoad&&!w._config.isLive){var P=w._mediaElement.currentTime;T.info.endDts>=(P+w._config.lazyLoadMaxDuration)*1e3&&w._progressChecker==null&&(a.default.v(w.TAG,"Maximum buffering duration exceeded, suspend transmuxing task"),w._suspendTransmuxer())}}),this._transmuxer.on(E.default.LOADING_COMPLETE,function(){w._msectl.endOfStream(),w._emitter.emit(h.default.LOADING_COMPLETE)}),this._transmuxer.on(E.default.RECOVERED_EARLY_EOF,function(){w._emitter.emit(h.default.RECOVERED_EARLY_EOF)}),this._transmuxer.on(E.default.IO_ERROR,function(A,T){w._emitter.emit(h.default.ERROR,_.ErrorTypes.NETWORK_ERROR,A,T)}),this._transmuxer.on(E.default.DEMUX_ERROR,function(A,T){w._emitter.emit(h.default.ERROR,_.ErrorTypes.MEDIA_ERROR,A,{code:-1,msg:T})}),this._transmuxer.on(E.default.MEDIA_INFO,function(A){w._mediaInfo=A,w._emitter.emit(h.default.MEDIA_INFO,Object.assign({},A))}),this._transmuxer.on(E.default.METADATA_ARRIVED,function(A){w._emitter.emit(h.default.METADATA_ARRIVED,A)}),this._transmuxer.on(E.default.SCRIPTDATA_ARRIVED,function(A){w._emitter.emit(h.default.SCRIPTDATA_ARRIVED,A)}),this._transmuxer.on(E.default.STATISTICS_INFO,function(A){w._statisticsInfo=w._fillStatisticsInfo(A),w._emitter.emit(h.default.STATISTICS_INFO,Object.assign({},w._statisticsInfo))}),this._transmuxer.on(E.default.RECOMMEND_SEEKPOINT,function(A){w._mediaElement&&!w._config.accurateSeek&&(w._requestSetTime=!0,w._mediaElement.currentTime=A/1e3)}),this._transmuxer.open()}},b.prototype.unload=function(){this._mediaElement&&this._mediaElement.pause(),this._msectl&&this._msectl.seek(0),this._transmuxer&&(this._transmuxer.close(),this._transmuxer.destroy(),this._transmuxer=null)},b.prototype.play=function(){return this._mediaElement.play()},b.prototype.pause=function(){this._mediaElement.pause()},Object.defineProperty(b.prototype,"type",{get:function(){return this._type},enumerable:!1,configurable:!0}),Object.defineProperty(b.prototype,"buffered",{get:function(){return this._mediaElement.buffered},enumerable:!1,configurable:!0}),Object.defineProperty(b.prototype,"duration",{get:function(){return this._mediaElement.duration},enumerable:!1,configurable:!0}),Object.defineProperty(b.prototype,"volume",{get:function(){return this._mediaElement.volume},set:function(w){this._mediaElement.volume=w},enumerable:!1,configurable:!0}),Object.defineProperty(b.prototype,"muted",{get:function(){return this._mediaElement.muted},set:function(w){this._mediaElement.muted=w},enumerable:!1,configurable:!0}),Object.defineProperty(b.prototype,"currentTime",{get:function(){return this._mediaElement?this._mediaElement.currentTime:0},set:function(w){this._mediaElement?this._internalSeek(w):this._pendingSeekTime=w},enumerable:!1,configurable:!0}),Object.defineProperty(b.prototype,"mediaInfo",{get:function(){return Object.assign({},this._mediaInfo)},enumerable:!1,configurable:!0}),Object.defineProperty(b.prototype,"statisticsInfo",{get:function(){return this._statisticsInfo==null&&(this._statisticsInfo={}),this._statisticsInfo=this._fillStatisticsInfo(this._statisticsInfo),Object.assign({},this._statisticsInfo)},enumerable:!1,configurable:!0}),b.prototype._fillStatisticsInfo=function(w){if(w.playerType=this._type,!(this._mediaElement instanceof HTMLVideoElement))return w;var A=!0,T=0,P=0;if(this._mediaElement.getVideoPlaybackQuality){var R=this._mediaElement.getVideoPlaybackQuality();T=R.totalVideoFrames,P=R.droppedVideoFrames}else this._mediaElement.webkitDecodedFrameCount!=null?(T=this._mediaElement.webkitDecodedFrameCount,P=this._mediaElement.webkitDroppedFrameCount):A=!1;return A&&(w.decodedFrames=T,w.droppedFrames=P),w},b.prototype._onmseUpdateEnd=function(){if(!(!this._config.lazyLoad||this._config.isLive)){for(var w=this._mediaElement.buffered,A=this._mediaElement.currentTime,T=0,P=0;P<w.length;P++){var R=w.start(P),C=w.end(P);if(R<=A&&A<C){T=C;break}}T>=A+this._config.lazyLoadMaxDuration&&this._progressChecker==null&&(a.default.v(this.TAG,"Maximum buffering duration exceeded, suspend transmuxing task"),this._suspendTransmuxer())}},b.prototype._onmseBufferFull=function(){a.default.v(this.TAG,"MSE SourceBuffer is full, suspend transmuxing task"),this._progressChecker==null&&this._suspendTransmuxer()},b.prototype._suspendTransmuxer=function(){this._transmuxer&&(this._transmuxer.pause(),this._progressChecker==null&&(this._progressChecker=window.setInterval(this._checkProgressAndResume.bind(this),1e3)))},b.prototype._checkProgressAndResume=function(){for(var w=this._mediaElement.currentTime,A=this._mediaElement.buffered,T=!1,P=0;P<A.length;P++){var R=A.start(P),C=A.end(P);if(w>=R&&w<C){w>=C-this._config.lazyLoadRecoverDuration&&(T=!0);break}}T&&(window.clearInterval(this._progressChecker),this._progressChecker=null,T&&(a.default.v(this.TAG,"Continue loading from paused position"),this._transmuxer.resume()))},b.prototype._isTimepointBuffered=function(w){for(var A=this._mediaElement.buffered,T=0;T<A.length;T++){var P=A.start(T),R=A.end(T);if(w>=P&&w<R)return!0}return!1},b.prototype._internalSeek=function(w){var A=this._isTimepointBuffered(w),T=!1,P=0;if(w<1&&this._mediaElement.buffered.length>0){var R=this._mediaElement.buffered.start(0);(R<1&&w<R||l.default.safari)&&(T=!0,P=l.default.safari?.1:R)}if(T)this._requestSetTime=!0,this._mediaElement.currentTime=P;else if(A){if(!this._alwaysSeekKeyframe)this._requestSetTime=!0,this._mediaElement.currentTime=w;else{var C=this._msectl.getNearestKeyframe(Math.floor(w*1e3));this._requestSetTime=!0,C!=null?this._mediaElement.currentTime=C.dts/1e3:this._mediaElement.currentTime=w}this._progressChecker!=null&&this._checkProgressAndResume()}else this._progressChecker!=null&&(window.clearInterval(this._progressChecker),this._progressChecker=null),this._msectl.seek(w),this._transmuxer.seek(Math.floor(w*1e3)),this._config.accurateSeek&&(this._requestSetTime=!0,this._mediaElement.currentTime=w)},b.prototype._checkAndApplyUnbufferedSeekpoint=function(){if(this._seekpointRecord)if(this._seekpointRecord.recordTime<=this._now()-100){var w=this._mediaElement.currentTime;this._seekpointRecord=null,this._isTimepointBuffered(w)||(this._progressChecker!=null&&(window.clearTimeout(this._progressChecker),this._progressChecker=null),this._msectl.seek(w),this._transmuxer.seek(Math.floor(w*1e3)),this._config.accurateSeek&&(this._requestSetTime=!0,this._mediaElement.currentTime=w))}else window.setTimeout(this._checkAndApplyUnbufferedSeekpoint.bind(this),50)},b.prototype._checkAndResumeStuckPlayback=function(w){var A=this._mediaElement;if(w||!this._receivedCanPlay||A.readyState<2){var T=A.buffered;T.length>0&&A.currentTime<T.start(0)&&(a.default.w(this.TAG,"Playback seems stuck at "+A.currentTime+", seek to "+T.start(0)),this._requestSetTime=!0,this._mediaElement.currentTime=T.start(0),this._mediaElement.removeEventListener("progress",this.e.onvProgress))}else this._mediaElement.removeEventListener("progress",this.e.onvProgress)},b.prototype._onvLoadedMetadata=function(w){this._pendingSeekTime!=null&&(this._mediaElement.currentTime=this._pendingSeekTime,this._pendingSeekTime=null)},b.prototype._onvSeeking=function(w){var A=this._mediaElement.currentTime,T=this._mediaElement.buffered;if(this._requestSetTime){this._requestSetTime=!1;return}if(A<1&&T.length>0){var P=T.start(0);if(P<1&&A<P||l.default.safari){this._requestSetTime=!0,this._mediaElement.currentTime=l.default.safari?.1:P;return}}if(this._isTimepointBuffered(A)){if(this._alwaysSeekKeyframe){var R=this._msectl.getNearestKeyframe(Math.floor(A*1e3));R!=null&&(this._requestSetTime=!0,this._mediaElement.currentTime=R.dts/1e3)}this._progressChecker!=null&&this._checkProgressAndResume();return}this._seekpointRecord={seekPoint:A,recordTime:this._now()},window.setTimeout(this._checkAndApplyUnbufferedSeekpoint.bind(this),50)},b.prototype._onvCanPlay=function(w){this._receivedCanPlay=!0,this._mediaElement.removeEventListener("canplay",this.e.onvCanPlay)},b.prototype._onvStalled=function(w){this._checkAndResumeStuckPlayback(!0)},b.prototype._onvProgress=function(w){this._checkAndResumeStuckPlayback()},b}();c.default=v},"./src/player/native-player.js":function(s,c,f){f.r(c);var d=f("./node_modules/events/events.js"),u=f.n(d),a=f("./src/player/player-events.js"),l=f("./src/config.js"),h=f("./src/utils/exception.js"),g=function(){function E(y,m){if(this.TAG="NativePlayer",this._type="NativePlayer",this._emitter=new(u()),this._config=(0,l.createDefaultConfig)(),typeof m=="object"&&Object.assign(this._config,m),y.type.toLowerCase()==="flv")throw new h.InvalidArgumentException("NativePlayer does't support flv MediaDataSource input!");if(y.hasOwnProperty("segments"))throw new h.InvalidArgumentException("NativePlayer("+y.type+") doesn't support multipart playback!");this.e={onvLoadedMetadata:this._onvLoadedMetadata.bind(this)},this._pendingSeekTime=null,this._statisticsReporter=null,this._mediaDataSource=y,this._mediaElement=null}return E.prototype.destroy=function(){this._mediaElement&&(this.unload(),this.detachMediaElement()),this.e=null,this._mediaDataSource=null,this._emitter.removeAllListeners(),this._emitter=null},E.prototype.on=function(y,m){var _=this;y===a.default.MEDIA_INFO?this._mediaElement!=null&&this._mediaElement.readyState!==0&&Promise.resolve().then(function(){_._emitter.emit(a.default.MEDIA_INFO,_.mediaInfo)}):y===a.default.STATISTICS_INFO&&this._mediaElement!=null&&this._mediaElement.readyState!==0&&Promise.resolve().then(function(){_._emitter.emit(a.default.STATISTICS_INFO,_.statisticsInfo)}),this._emitter.addListener(y,m)},E.prototype.off=function(y,m){this._emitter.removeListener(y,m)},E.prototype.attachMediaElement=function(y){if(this._mediaElement=y,y.addEventListener("loadedmetadata",this.e.onvLoadedMetadata),this._pendingSeekTime!=null)try{y.currentTime=this._pendingSeekTime,this._pendingSeekTime=null}catch{}},E.prototype.detachMediaElement=function(){this._mediaElement&&(this._mediaElement.src="",this._mediaElement.removeAttribute("src"),this._mediaElement.removeEventListener("loadedmetadata",this.e.onvLoadedMetadata),this._mediaElement=null),this._statisticsReporter!=null&&(window.clearInterval(this._statisticsReporter),this._statisticsReporter=null)},E.prototype.load=function(){if(!this._mediaElement)throw new h.IllegalStateException("HTMLMediaElement must be attached before load()!");this._mediaElement.src=this._mediaDataSource.url,this._mediaElement.readyState>0&&(this._mediaElement.currentTime=0),this._mediaElement.preload="auto",this._mediaElement.load(),this._statisticsReporter=window.setInterval(this._reportStatisticsInfo.bind(this),this._config.statisticsInfoReportInterval)},E.prototype.unload=function(){this._mediaElement&&(this._mediaElement.src="",this._mediaElement.removeAttribute("src")),this._statisticsReporter!=null&&(window.clearInterval(this._statisticsReporter),this._statisticsReporter=null)},E.prototype.play=function(){return this._mediaElement.play()},E.prototype.pause=function(){this._mediaElement.pause()},Object.defineProperty(E.prototype,"type",{get:function(){return this._type},enumerable:!1,configurable:!0}),Object.defineProperty(E.prototype,"buffered",{get:function(){return this._mediaElement.buffered},enumerable:!1,configurable:!0}),Object.defineProperty(E.prototype,"duration",{get:function(){return this._mediaElement.duration},enumerable:!1,configurable:!0}),Object.defineProperty(E.prototype,"volume",{get:function(){return this._mediaElement.volume},set:function(y){this._mediaElement.volume=y},enumerable:!1,configurable:!0}),Object.defineProperty(E.prototype,"muted",{get:function(){return this._mediaElement.muted},set:function(y){this._mediaElement.muted=y},enumerable:!1,configurable:!0}),Object.defineProperty(E.prototype,"currentTime",{get:function(){return this._mediaElement?this._mediaElement.currentTime:0},set:function(y){this._mediaElement?this._mediaElement.currentTime=y:this._pendingSeekTime=y},enumerable:!1,configurable:!0}),Object.defineProperty(E.prototype,"mediaInfo",{get:function(){var y=this._mediaElement instanceof HTMLAudioElement?"audio/":"video/",m={mimeType:y+this._mediaDataSource.type};return this._mediaElement&&(m.duration=Math.floor(this._mediaElement.duration*1e3),this._mediaElement instanceof HTMLVideoElement&&(m.width=this._mediaElement.videoWidth,m.height=this._mediaElement.videoHeight)),m},enumerable:!1,configurable:!0}),Object.defineProperty(E.prototype,"statisticsInfo",{get:function(){var y={playerType:this._type,url:this._mediaDataSource.url};if(!(this._mediaElement instanceof HTMLVideoElement))return y;var m=!0,_=0,x=0;if(this._mediaElement.getVideoPlaybackQuality){var p=this._mediaElement.getVideoPlaybackQuality();_=p.totalVideoFrames,x=p.droppedVideoFrames}else this._mediaElement.webkitDecodedFrameCount!=null?(_=this._mediaElement.webkitDecodedFrameCount,x=this._mediaElement.webkitDroppedFrameCount):m=!1;return m&&(y.decodedFrames=_,y.droppedFrames=x),y},enumerable:!1,configurable:!0}),E.prototype._onvLoadedMetadata=function(y){this._pendingSeekTime!=null&&(this._mediaElement.currentTime=this._pendingSeekTime,this._pendingSeekTime=null),this._emitter.emit(a.default.MEDIA_INFO,this.mediaInfo)},E.prototype._reportStatisticsInfo=function(){this._emitter.emit(a.default.STATISTICS_INFO,this.statisticsInfo)},E}();c.default=g},"./src/player/player-errors.js":function(s,c,f){f.r(c),f.d(c,{ErrorTypes:function(){return a},ErrorDetails:function(){return l}});var d=f("./src/io/loader.js"),u=f("./src/demux/demux-errors.js"),a={NETWORK_ERROR:"NetworkError",MEDIA_ERROR:"MediaError",OTHER_ERROR:"OtherError"},l={NETWORK_EXCEPTION:d.LoaderErrors.EXCEPTION,NETWORK_STATUS_CODE_INVALID:d.LoaderErrors.HTTP_STATUS_CODE_INVALID,NETWORK_TIMEOUT:d.LoaderErrors.CONNECTING_TIMEOUT,NETWORK_UNRECOVERABLE_EARLY_EOF:d.LoaderErrors.UNRECOVERABLE_EARLY_EOF,MEDIA_MSE_ERROR:"MediaMSEError",MEDIA_FORMAT_ERROR:u.default.FORMAT_ERROR,MEDIA_FORMAT_UNSUPPORTED:u.default.FORMAT_UNSUPPORTED,MEDIA_CODEC_UNSUPPORTED:u.default.CODEC_UNSUPPORTED}},"./src/player/player-events.js":function(s,c,f){f.r(c);var d={ERROR:"error",LOADING_COMPLETE:"loading_complete",RECOVERED_EARLY_EOF:"recovered_early_eof",MEDIA_INFO:"media_info",METADATA_ARRIVED:"metadata_arrived",SCRIPTDATA_ARRIVED:"scriptdata_arrived",STATISTICS_INFO:"statistics_info"};c.default=d},"./src/remux/aac-silent.js":function(s,c,f){f.r(c);var d=function(){function u(){}return u.getSilentFrame=function(a,l){if(a==="mp4a.40.2"){if(l===1)return new Uint8Array([0,200,0,128,35,128]);if(l===2)return new Uint8Array([33,0,73,144,2,25,0,35,128]);if(l===3)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,142]);if(l===4)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,128,44,128,8,2,56]);if(l===5)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,130,48,4,153,0,33,144,2,56]);if(l===6)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,130,48,4,153,0,33,144,2,0,178,0,32,8,224])}else{if(l===1)return new Uint8Array([1,64,34,128,163,78,230,128,186,8,0,0,0,28,6,241,193,10,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,94]);if(l===2)return new Uint8Array([1,64,34,128,163,94,230,128,186,8,0,0,0,0,149,0,6,241,161,10,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,94]);if(l===3)return new Uint8Array([1,64,34,128,163,94,230,128,186,8,0,0,0,0,149,0,6,241,161,10,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,94])}return null},u}();c.default=d},"./src/remux/mp4-generator.js":function(s,c,f){f.r(c);var d=function(){function u(){}return u.init=function(){u.types={avc1:[],avcC:[],btrt:[],dinf:[],dref:[],esds:[],ftyp:[],hdlr:[],mdat:[],mdhd:[],mdia:[],mfhd:[],minf:[],moof:[],moov:[],mp4a:[],mvex:[],mvhd:[],sdtp:[],stbl:[],stco:[],stsc:[],stsd:[],stsz:[],stts:[],tfdt:[],tfhd:[],traf:[],trak:[],trun:[],trex:[],tkhd:[],vmhd:[],smhd:[],".mp3":[]};for(var a in u.types)u.types.hasOwnProperty(a)&&(u.types[a]=[a.charCodeAt(0),a.charCodeAt(1),a.charCodeAt(2),a.charCodeAt(3)]);var l=u.constants={};l.FTYP=new Uint8Array([105,115,111,109,0,0,0,1,105,115,111,109,97,118,99,49]),l.STSD_PREFIX=new Uint8Array([0,0,0,0,0,0,0,1]),l.STTS=new Uint8Array([0,0,0,0,0,0,0,0]),l.STSC=l.STCO=l.STTS,l.STSZ=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0]),l.HDLR_VIDEO=new Uint8Array([0,0,0,0,0,0,0,0,118,105,100,101,0,0,0,0,0,0,0,0,0,0,0,0,86,105,100,101,111,72,97,110,100,108,101,114,0]),l.HDLR_AUDIO=new Uint8Array([0,0,0,0,0,0,0,0,115,111,117,110,0,0,0,0,0,0,0,0,0,0,0,0,83,111,117,110,100,72,97,110,100,108,101,114,0]),l.DREF=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,12,117,114,108,32,0,0,0,1]),l.SMHD=new Uint8Array([0,0,0,0,0,0,0,0]),l.VMHD=new Uint8Array([0,0,0,1,0,0,0,0,0,0,0,0])},u.box=function(a){for(var l=8,h=null,g=Array.prototype.slice.call(arguments,1),E=g.length,y=0;y<E;y++)l+=g[y].byteLength;h=new Uint8Array(l),h[0]=l>>>24&255,h[1]=l>>>16&255,h[2]=l>>>8&255,h[3]=l&255,h.set(a,4);for(var m=8,y=0;y<E;y++)h.set(g[y],m),m+=g[y].byteLength;return h},u.generateInitSegment=function(a){var l=u.box(u.types.ftyp,u.constants.FTYP),h=u.moov(a),g=new Uint8Array(l.byteLength+h.byteLength);return g.set(l,0),g.set(h,l.byteLength),g},u.moov=function(a){var l=u.mvhd(a.timescale,a.duration),h=u.trak(a),g=u.mvex(a);return u.box(u.types.moov,l,h,g)},u.mvhd=function(a,l){return u.box(u.types.mvhd,new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,a>>>24&255,a>>>16&255,a>>>8&255,a&255,l>>>24&255,l>>>16&255,l>>>8&255,l&255,0,1,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,255,255,255,255]))},u.trak=function(a){return u.box(u.types.trak,u.tkhd(a),u.mdia(a))},u.tkhd=function(a){var l=a.id,h=a.duration,g=a.presentWidth,E=a.presentHeight;return u.box(u.types.tkhd,new Uint8Array([0,0,0,7,0,0,0,0,0,0,0,0,l>>>24&255,l>>>16&255,l>>>8&255,l&255,0,0,0,0,h>>>24&255,h>>>16&255,h>>>8&255,h&255,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,g>>>8&255,g&255,0,0,E>>>8&255,E&255,0,0]))},u.mdia=function(a){return u.box(u.types.mdia,u.mdhd(a),u.hdlr(a),u.minf(a))},u.mdhd=function(a){var l=a.timescale,h=a.duration;return u.box(u.types.mdhd,new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,l>>>24&255,l>>>16&255,l>>>8&255,l&255,h>>>24&255,h>>>16&255,h>>>8&255,h&255,85,196,0,0]))},u.hdlr=function(a){var l=null;return a.type==="audio"?l=u.constants.HDLR_AUDIO:l=u.constants.HDLR_VIDEO,u.box(u.types.hdlr,l)},u.minf=function(a){var l=null;return a.type==="audio"?l=u.box(u.types.smhd,u.constants.SMHD):l=u.box(u.types.vmhd,u.constants.VMHD),u.box(u.types.minf,l,u.dinf(),u.stbl(a))},u.dinf=function(){var a=u.box(u.types.dinf,u.box(u.types.dref,u.constants.DREF));return a},u.stbl=function(a){var l=u.box(u.types.stbl,u.stsd(a),u.box(u.types.stts,u.constants.STTS),u.box(u.types.stsc,u.constants.STSC),u.box(u.types.stsz,u.constants.STSZ),u.box(u.types.stco,u.constants.STCO));return l},u.stsd=function(a){return a.type==="audio"?a.codec==="mp3"?u.box(u.types.stsd,u.constants.STSD_PREFIX,u.mp3(a)):u.box(u.types.stsd,u.constants.STSD_PREFIX,u.mp4a(a)):u.box(u.types.stsd,u.constants.STSD_PREFIX,u.avc1(a))},u.mp3=function(a){var l=a.channelCount,h=a.audioSampleRate,g=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,l,0,16,0,0,0,0,h>>>8&255,h&255,0,0]);return u.box(u.types[".mp3"],g)},u.mp4a=function(a){var l=a.channelCount,h=a.audioSampleRate,g=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,l,0,16,0,0,0,0,h>>>8&255,h&255,0,0]);return u.box(u.types.mp4a,g,u.esds(a))},u.esds=function(a){var l=a.config||[],h=l.length,g=new Uint8Array([0,0,0,0,3,23+h,0,1,0,4,15+h,64,21,0,0,0,0,0,0,0,0,0,0,0,5].concat([h]).concat(l).concat([6,1,2]));return u.box(u.types.esds,g)},u.avc1=function(a){var l=a.avcc,h=a.codecWidth,g=a.codecHeight,E=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,h>>>8&255,h&255,g>>>8&255,g&255,0,72,0,0,0,72,0,0,0,0,0,0,0,1,10,120,113,113,47,102,108,118,46,106,115,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,24,255,255]);return u.box(u.types.avc1,E,u.box(u.types.avcC,l))},u.mvex=function(a){return u.box(u.types.mvex,u.trex(a))},u.trex=function(a){var l=a.id,h=new Uint8Array([0,0,0,0,l>>>24&255,l>>>16&255,l>>>8&255,l&255,0,0,0,1,0,0,0,0,0,0,0,0,0,1,0,1]);return u.box(u.types.trex,h)},u.moof=function(a,l){return u.box(u.types.moof,u.mfhd(a.sequenceNumber),u.traf(a,l))},u.mfhd=function(a){var l=new Uint8Array([0,0,0,0,a>>>24&255,a>>>16&255,a>>>8&255,a&255]);return u.box(u.types.mfhd,l)},u.traf=function(a,l){var h=a.id,g=u.box(u.types.tfhd,new Uint8Array([0,0,0,0,h>>>24&255,h>>>16&255,h>>>8&255,h&255])),E=u.box(u.types.tfdt,new Uint8Array([0,0,0,0,l>>>24&255,l>>>16&255,l>>>8&255,l&255])),y=u.sdtp(a),m=u.trun(a,y.byteLength+16+16+8+16+8+8);return u.box(u.types.traf,g,E,m,y)},u.sdtp=function(a){for(var l=a.samples||[],h=l.length,g=new Uint8Array(4+h),E=0;E<h;E++){var y=l[E].flags;g[E+4]=y.isLeading<<6|y.dependsOn<<4|y.isDependedOn<<2|y.hasRedundancy}return u.box(u.types.sdtp,g)},u.trun=function(a,l){var h=a.samples||[],g=h.length,E=12+16*g,y=new Uint8Array(E);l+=8+E,y.set([0,0,15,1,g>>>24&255,g>>>16&255,g>>>8&255,g&255,l>>>24&255,l>>>16&255,l>>>8&255,l&255],0);for(var m=0;m<g;m++){var _=h[m].duration,x=h[m].size,p=h[m].flags,v=h[m].cts;y.set([_>>>24&255,_>>>16&255,_>>>8&255,_&255,x>>>24&255,x>>>16&255,x>>>8&255,x&255,p.isLeading<<2|p.dependsOn,p.isDependedOn<<6|p.hasRedundancy<<4|p.isNonSync,0,0,v>>>24&255,v>>>16&255,v>>>8&255,v&255],12+16*m)}return u.box(u.types.trun,y)},u.mdat=function(a){return u.box(u.types.mdat,a)},u}();d.init(),c.default=d},"./src/remux/mp4-remuxer.js":function(s,c,f){f.r(c);var d=f("./src/utils/logger.js"),u=f("./src/remux/mp4-generator.js"),a=f("./src/remux/aac-silent.js"),l=f("./src/utils/browser.js"),h=f("./src/core/media-segment-info.js"),g=f("./src/utils/exception.js"),E=function(){function y(m){this.TAG="MP4Remuxer",this._config=m,this._isLive=m.isLive===!0,this._dtsBase=-1,this._dtsBaseInited=!1,this._audioDtsBase=1/0,this._videoDtsBase=1/0,this._audioNextDts=void 0,this._videoNextDts=void 0,this._audioStashedLastSample=null,this._videoStashedLastSample=null,this._audioMeta=null,this._videoMeta=null,this._audioSegmentInfoList=new h.MediaSegmentInfoList("audio"),this._videoSegmentInfoList=new h.MediaSegmentInfoList("video"),this._onInitSegment=null,this._onMediaSegment=null,this._forceFirstIDR=!!(l.default.chrome&&(l.default.version.major<50||l.default.version.major===50&&l.default.version.build<2661)),this._fillSilentAfterSeek=l.default.msedge||l.default.msie,this._mp3UseMpegAudio=!l.default.firefox,this._fillAudioTimestampGap=this._config.fixAudioTimestampGap}return y.prototype.destroy=function(){this._dtsBase=-1,this._dtsBaseInited=!1,this._audioMeta=null,this._videoMeta=null,this._audioSegmentInfoList.clear(),this._audioSegmentInfoList=null,this._videoSegmentInfoList.clear(),this._videoSegmentInfoList=null,this._onInitSegment=null,this._onMediaSegment=null},y.prototype.bindDataSource=function(m){return m.onDataAvailable=this.remux.bind(this),m.onTrackMetadata=this._onTrackMetadataReceived.bind(this),this},Object.defineProperty(y.prototype,"onInitSegment",{get:function(){return this._onInitSegment},set:function(m){this._onInitSegment=m},enumerable:!1,configurable:!0}),Object.defineProperty(y.prototype,"onMediaSegment",{get:function(){return this._onMediaSegment},set:function(m){this._onMediaSegment=m},enumerable:!1,configurable:!0}),y.prototype.insertDiscontinuity=function(){this._audioNextDts=this._videoNextDts=void 0},y.prototype.seek=function(m){this._audioStashedLastSample=null,this._videoStashedLastSample=null,this._videoSegmentInfoList.clear(),this._audioSegmentInfoList.clear()},y.prototype.remux=function(m,_){if(!this._onMediaSegment)throw new g.IllegalStateException("MP4Remuxer: onMediaSegment callback must be specificed!");this._dtsBaseInited||this._calculateDtsBase(m,_),this._remuxVideo(_),this._remuxAudio(m)},y.prototype._onTrackMetadataReceived=function(m,_){var x=null,p="mp4",v=_.codec;if(m==="audio")this._audioMeta=_,_.codec==="mp3"&&this._mp3UseMpegAudio?(p="mpeg",v="",x=new Uint8Array):x=u.default.generateInitSegment(_);else if(m==="video")this._videoMeta=_,x=u.default.generateInitSegment(_);else return;if(!this._onInitSegment)throw new g.IllegalStateException("MP4Remuxer: onInitSegment callback must be specified!");this._onInitSegment(m,{type:m,data:x.buffer,codec:v,container:m+"/"+p,mediaDuration:_.duration})},y.prototype._calculateDtsBase=function(m,_){this._dtsBaseInited||(m.samples&&m.samples.length&&(this._audioDtsBase=m.samples[0].dts),_.samples&&_.samples.length&&(this._videoDtsBase=_.samples[0].dts),this._dtsBase=Math.min(this._audioDtsBase,this._videoDtsBase),this._dtsBaseInited=!0)},y.prototype.flushStashedSamples=function(){var m=this._videoStashedLastSample,_=this._audioStashedLastSample,x={type:"video",id:1,sequenceNumber:0,samples:[],length:0};m!=null&&(x.samples.push(m),x.length=m.length);var p={type:"audio",id:2,sequenceNumber:0,samples:[],length:0};_!=null&&(p.samples.push(_),p.length=_.length),this._videoStashedLastSample=null,this._audioStashedLastSample=null,this._remuxVideo(x,!0),this._remuxAudio(p,!0)},y.prototype._remuxAudio=function(m,_){if(this._audioMeta!=null){var x=m,p=x.samples,v=void 0,b=-1,w=-1,A=this._audioMeta.refSampleDuration,T=this._audioMeta.codec==="mp3"&&this._mp3UseMpegAudio,P=this._dtsBaseInited&&this._audioNextDts===void 0,R=!1;if(!(!p||p.length===0)&&!(p.length===1&&!_)){var C=0,O=null,D=0;T?(C=0,D=x.length):(C=8,D=8+x.length);var N=null;if(p.length>1&&(N=p.pop(),D-=N.length),this._audioStashedLastSample!=null){var M=this._audioStashedLastSample;this._audioStashedLastSample=null,p.unshift(M),D+=M.length}N!=null&&(this._audioStashedLastSample=N);var U=p[0].dts-this._dtsBase;if(this._audioNextDts)v=U-this._audioNextDts;else if(this._audioSegmentInfoList.isEmpty())v=0,this._fillSilentAfterSeek&&!this._videoSegmentInfoList.isEmpty()&&this._audioMeta.originalCodec!=="mp3"&&(R=!0);else{var Q=this._audioSegmentInfoList.getLastSampleBefore(U);if(Q!=null){var oe=U-(Q.originalDts+Q.duration);oe<=3&&(oe=0);var ne=Q.dts+Q.duration+oe;v=U-ne}else v=0}if(R){var de=U-v,he=this._videoSegmentInfoList.getLastSegmentBefore(U);if(he!=null&&he.beginDts<de){var se=a.default.getSilentFrame(this._audioMeta.originalCodec,this._audioMeta.channelCount);if(se){var ae=he.beginDts,je=de-he.beginDts;d.default.v(this.TAG,"InsertPrefixSilentAudio: dts: "+ae+", duration: "+je),p.unshift({unit:se,dts:ae,pts:ae}),D+=se.byteLength}}else R=!1}for(var ve=[],F=0;F<p.length;F++){var M=p[F],W=M.unit,V=M.dts-this._dtsBase,ae=V,G=!1,le=null,re=0;if(!(V<-.001)){if(this._audioMeta.codec!=="mp3"){var L=V,I=3;if(this._audioNextDts&&(L=this._audioNextDts),v=V-L,v<=-I*A){d.default.w(this.TAG,"Dropping 1 audio frame (originalDts: "+V+" ms ,curRefDts: "+L+" ms)  due to dtsCorrection: "+v+" ms overlap.");continue}else if(v>=I*A&&this._fillAudioTimestampGap&&!l.default.safari){G=!0;var k=Math.floor(v/A);d.default.w(this.TAG,`Large audio timestamp gap detected, may cause AV sync to drift. Silent frames will be generated to avoid unsync.
`+("originalDts: "+V+" ms, curRefDts: "+L+" ms, ")+("dtsCorrection: "+Math.round(v)+" ms, generate: "+k+" frames")),ae=Math.floor(L),re=Math.floor(L+A)-ae;var se=a.default.getSilentFrame(this._audioMeta.originalCodec,this._audioMeta.channelCount);se==null&&(d.default.w(this.TAG,"Unable to generate silent frame for "+(this._audioMeta.originalCodec+" with "+this._audioMeta.channelCount+" channels, repeat last frame")),se=W),le=[];for(var K=0;K<k;K++){L=L+A;var H=Math.floor(L),q=Math.floor(L+A)-H,ee={dts:H,pts:H,cts:0,unit:se,size:se.byteLength,duration:q,originalDts:V,flags:{isLeading:0,dependsOn:1,isDependedOn:0,hasRedundancy:0}};le.push(ee),D+=ee.size}this._audioNextDts=L+A}else ae=Math.floor(L),re=Math.floor(L+A)-ae,this._audioNextDts=L+A}else{if(ae=V-v,F!==p.length-1){var X=p[F+1].dts-this._dtsBase-v;re=X-ae}else if(N!=null){var X=N.dts-this._dtsBase-v;re=X-ae}else ve.length>=1?re=ve[ve.length-1].duration:re=Math.floor(A);this._audioNextDts=ae+re}b===-1&&(b=ae),ve.push({dts:ae,pts:ae,cts:0,unit:M.unit,size:M.unit.byteLength,duration:re,originalDts:V,flags:{isLeading:0,dependsOn:1,isDependedOn:0,hasRedundancy:0}}),G&&ve.push.apply(ve,le)}}if(ve.length===0){x.samples=[],x.length=0;return}T?O=new Uint8Array(D):(O=new Uint8Array(D),O[0]=D>>>24&255,O[1]=D>>>16&255,O[2]=D>>>8&255,O[3]=D&255,O.set(u.default.types.mdat,4));for(var F=0;F<ve.length;F++){var W=ve[F].unit;O.set(W,C),C+=W.byteLength}var J=ve[ve.length-1];w=J.dts+J.duration;var z=new h.MediaSegmentInfo;z.beginDts=b,z.endDts=w,z.beginPts=b,z.endPts=w,z.originalBeginDts=ve[0].originalDts,z.originalEndDts=J.originalDts+J.duration,z.firstSample=new h.SampleInfo(ve[0].dts,ve[0].pts,ve[0].duration,ve[0].originalDts,!1),z.lastSample=new h.SampleInfo(J.dts,J.pts,J.duration,J.originalDts,!1),this._isLive||this._audioSegmentInfoList.append(z),x.samples=ve,x.sequenceNumber++;var te=null;T?te=new Uint8Array:te=u.default.moof(x,b),x.samples=[],x.length=0;var ce={type:"audio",data:this._mergeBoxes(te,O).buffer,sampleCount:ve.length,info:z};T&&P&&(ce.timestampOffset=b),this._onMediaSegment("audio",ce)}}},y.prototype._remuxVideo=function(m,_){if(this._videoMeta!=null){var x=m,p=x.samples,v=void 0,b=-1,w=-1,A=-1,T=-1;if(!(!p||p.length===0)&&!(p.length===1&&!_)){var P=8,R=null,C=8+m.length,O=null;if(p.length>1&&(O=p.pop(),C-=O.length),this._videoStashedLastSample!=null){var D=this._videoStashedLastSample;this._videoStashedLastSample=null,p.unshift(D),C+=D.length}O!=null&&(this._videoStashedLastSample=O);var N=p[0].dts-this._dtsBase;if(this._videoNextDts)v=N-this._videoNextDts;else if(this._videoSegmentInfoList.isEmpty())v=0;else{var M=this._videoSegmentInfoList.getLastSampleBefore(N);if(M!=null){var U=N-(M.originalDts+M.duration);U<=3&&(U=0);var Q=M.dts+M.duration+U;v=N-Q}else v=0}for(var oe=new h.MediaSegmentInfo,ne=[],de=0;de<p.length;de++){var D=p[de],he=D.dts-this._dtsBase,se=D.isKeyframe,ae=he-v,je=D.cts,ve=ae+je;b===-1&&(b=ae,A=ve);var F=0;if(de!==p.length-1){var W=p[de+1].dts-this._dtsBase-v;F=W-ae}else if(O!=null){var W=O.dts-this._dtsBase-v;F=W-ae}else ne.length>=1?F=ne[ne.length-1].duration:F=Math.floor(this._videoMeta.refSampleDuration);if(se){var V=new h.SampleInfo(ae,ve,F,D.dts,!0);V.fileposition=D.fileposition,oe.appendSyncPoint(V)}ne.push({dts:ae,pts:ve,cts:je,units:D.units,size:D.length,isKeyframe:se,duration:F,originalDts:he,flags:{isLeading:0,dependsOn:se?2:1,isDependedOn:se?1:0,hasRedundancy:0,isNonSync:se?0:1}})}R=new Uint8Array(C),R[0]=C>>>24&255,R[1]=C>>>16&255,R[2]=C>>>8&255,R[3]=C&255,R.set(u.default.types.mdat,4);for(var de=0;de<ne.length;de++)for(var G=ne[de].units;G.length;){var le=G.shift(),re=le.data;R.set(re,P),P+=re.byteLength}var L=ne[ne.length-1];if(w=L.dts+L.duration,T=L.pts+L.duration,this._videoNextDts=w,oe.beginDts=b,oe.endDts=w,oe.beginPts=A,oe.endPts=T,oe.originalBeginDts=ne[0].originalDts,oe.originalEndDts=L.originalDts+L.duration,oe.firstSample=new h.SampleInfo(ne[0].dts,ne[0].pts,ne[0].duration,ne[0].originalDts,ne[0].isKeyframe),oe.lastSample=new h.SampleInfo(L.dts,L.pts,L.duration,L.originalDts,L.isKeyframe),this._isLive||this._videoSegmentInfoList.append(oe),x.samples=ne,x.sequenceNumber++,this._forceFirstIDR){var I=ne[0].flags;I.dependsOn=2,I.isNonSync=0}var k=u.default.moof(x,b);x.samples=[],x.length=0,this._onMediaSegment("video",{type:"video",data:this._mergeBoxes(k,R).buffer,sampleCount:ne.length,info:oe})}}},y.prototype._mergeBoxes=function(m,_){var x=new Uint8Array(m.byteLength+_.byteLength);return x.set(m,0),x.set(_,m.byteLength),x},y}();c.default=E},"./src/utils/browser.js":function(s,c,f){f.r(c);var d={};function u(){var a=self.navigator.userAgent.toLowerCase(),l=/(edge)\/([\w.]+)/.exec(a)||/(opr)[\/]([\w.]+)/.exec(a)||/(chrome)[ \/]([\w.]+)/.exec(a)||/(iemobile)[\/]([\w.]+)/.exec(a)||/(version)(applewebkit)[ \/]([\w.]+).*(safari)[ \/]([\w.]+)/.exec(a)||/(webkit)[ \/]([\w.]+).*(version)[ \/]([\w.]+).*(safari)[ \/]([\w.]+)/.exec(a)||/(webkit)[ \/]([\w.]+)/.exec(a)||/(opera)(?:.*version|)[ \/]([\w.]+)/.exec(a)||/(msie) ([\w.]+)/.exec(a)||a.indexOf("trident")>=0&&/(rv)(?::| )([\w.]+)/.exec(a)||a.indexOf("compatible")<0&&/(firefox)[ \/]([\w.]+)/.exec(a)||[],h=/(ipad)/.exec(a)||/(ipod)/.exec(a)||/(windows phone)/.exec(a)||/(iphone)/.exec(a)||/(kindle)/.exec(a)||/(android)/.exec(a)||/(windows)/.exec(a)||/(mac)/.exec(a)||/(linux)/.exec(a)||/(cros)/.exec(a)||[],g={browser:l[5]||l[3]||l[1]||"",version:l[2]||l[4]||"0",majorVersion:l[4]||l[2]||"0",platform:h[0]||""},E={};if(g.browser){E[g.browser]=!0;var y=g.majorVersion.split(".");E.version={major:parseInt(g.majorVersion,10),string:g.version},y.length>1&&(E.version.minor=parseInt(y[1],10)),y.length>2&&(E.version.build=parseInt(y[2],10))}if(g.platform&&(E[g.platform]=!0),(E.chrome||E.opr||E.safari)&&(E.webkit=!0),E.rv||E.iemobile){E.rv&&delete E.rv;var m="msie";g.browser=m,E[m]=!0}if(E.edge){delete E.edge;var _="msedge";g.browser=_,E[_]=!0}if(E.opr){var x="opera";g.browser=x,E[x]=!0}if(E.safari&&E.android){var p="android";g.browser=p,E[p]=!0}E.name=g.browser,E.platform=g.platform;for(var v in d)d.hasOwnProperty(v)&&delete d[v];Object.assign(d,E)}u(),c.default=d},"./src/utils/exception.js":function(s,c,f){f.r(c),f.d(c,{RuntimeException:function(){return u},IllegalStateException:function(){return a},InvalidArgumentException:function(){return l},NotImplementedException:function(){return h}});var d=function(){var g=function(E,y){return g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(m,_){m.__proto__=_}||function(m,_){for(var x in _)Object.prototype.hasOwnProperty.call(_,x)&&(m[x]=_[x])},g(E,y)};return function(E,y){if(typeof y!="function"&&y!==null)throw new TypeError("Class extends value "+String(y)+" is not a constructor or null");g(E,y);function m(){this.constructor=E}E.prototype=y===null?Object.create(y):(m.prototype=y.prototype,new m)}}(),u=function(){function g(E){this._message=E}return Object.defineProperty(g.prototype,"name",{get:function(){return"RuntimeException"},enumerable:!1,configurable:!0}),Object.defineProperty(g.prototype,"message",{get:function(){return this._message},enumerable:!1,configurable:!0}),g.prototype.toString=function(){return this.name+": "+this.message},g}(),a=function(g){d(E,g);function E(y){return g.call(this,y)||this}return Object.defineProperty(E.prototype,"name",{get:function(){return"IllegalStateException"},enumerable:!1,configurable:!0}),E}(u),l=function(g){d(E,g);function E(y){return g.call(this,y)||this}return Object.defineProperty(E.prototype,"name",{get:function(){return"InvalidArgumentException"},enumerable:!1,configurable:!0}),E}(u),h=function(g){d(E,g);function E(y){return g.call(this,y)||this}return Object.defineProperty(E.prototype,"name",{get:function(){return"NotImplementedException"},enumerable:!1,configurable:!0}),E}(u)},"./src/utils/logger.js":function(s,c,f){f.r(c);var d=f("./node_modules/events/events.js"),u=f.n(d),a=function(){function l(){}return l.e=function(h,g){(!h||l.FORCE_GLOBAL_TAG)&&(h=l.GLOBAL_TAG);var E="["+h+"] > "+g;l.ENABLE_CALLBACK&&l.emitter.emit("log","error",E),l.ENABLE_ERROR&&(console.error?console.error(E):console.warn?console.warn(E):console.log(E))},l.i=function(h,g){(!h||l.FORCE_GLOBAL_TAG)&&(h=l.GLOBAL_TAG);var E="["+h+"] > "+g;l.ENABLE_CALLBACK&&l.emitter.emit("log","info",E),l.ENABLE_INFO&&(console.info?console.info(E):console.log(E))},l.w=function(h,g){(!h||l.FORCE_GLOBAL_TAG)&&(h=l.GLOBAL_TAG);var E="["+h+"] > "+g;l.ENABLE_CALLBACK&&l.emitter.emit("log","warn",E),l.ENABLE_WARN&&(console.warn?console.warn(E):console.log(E))},l.d=function(h,g){(!h||l.FORCE_GLOBAL_TAG)&&(h=l.GLOBAL_TAG);var E="["+h+"] > "+g;l.ENABLE_CALLBACK&&l.emitter.emit("log","debug",E),l.ENABLE_DEBUG&&(console.debug?console.debug(E):console.log(E))},l.v=function(h,g){(!h||l.FORCE_GLOBAL_TAG)&&(h=l.GLOBAL_TAG);var E="["+h+"] > "+g;l.ENABLE_CALLBACK&&l.emitter.emit("log","verbose",E),l.ENABLE_VERBOSE&&console.log(E)},l}();a.GLOBAL_TAG="flv.js",a.FORCE_GLOBAL_TAG=!1,a.ENABLE_ERROR=!0,a.ENABLE_INFO=!0,a.ENABLE_WARN=!0,a.ENABLE_DEBUG=!0,a.ENABLE_VERBOSE=!0,a.ENABLE_CALLBACK=!1,a.emitter=new(u()),c.default=a},"./src/utils/logging-control.js":function(s,c,f){f.r(c);var d=f("./node_modules/events/events.js"),u=f.n(d),a=f("./src/utils/logger.js"),l=function(){function h(){}return Object.defineProperty(h,"forceGlobalTag",{get:function(){return a.default.FORCE_GLOBAL_TAG},set:function(g){a.default.FORCE_GLOBAL_TAG=g,h._notifyChange()},enumerable:!1,configurable:!0}),Object.defineProperty(h,"globalTag",{get:function(){return a.default.GLOBAL_TAG},set:function(g){a.default.GLOBAL_TAG=g,h._notifyChange()},enumerable:!1,configurable:!0}),Object.defineProperty(h,"enableAll",{get:function(){return a.default.ENABLE_VERBOSE&&a.default.ENABLE_DEBUG&&a.default.ENABLE_INFO&&a.default.ENABLE_WARN&&a.default.ENABLE_ERROR},set:function(g){a.default.ENABLE_VERBOSE=g,a.default.ENABLE_DEBUG=g,a.default.ENABLE_INFO=g,a.default.ENABLE_WARN=g,a.default.ENABLE_ERROR=g,h._notifyChange()},enumerable:!1,configurable:!0}),Object.defineProperty(h,"enableDebug",{get:function(){return a.default.ENABLE_DEBUG},set:function(g){a.default.ENABLE_DEBUG=g,h._notifyChange()},enumerable:!1,configurable:!0}),Object.defineProperty(h,"enableVerbose",{get:function(){return a.default.ENABLE_VERBOSE},set:function(g){a.default.ENABLE_VERBOSE=g,h._notifyChange()},enumerable:!1,configurable:!0}),Object.defineProperty(h,"enableInfo",{get:function(){return a.default.ENABLE_INFO},set:function(g){a.default.ENABLE_INFO=g,h._notifyChange()},enumerable:!1,configurable:!0}),Object.defineProperty(h,"enableWarn",{get:function(){return a.default.ENABLE_WARN},set:function(g){a.default.ENABLE_WARN=g,h._notifyChange()},enumerable:!1,configurable:!0}),Object.defineProperty(h,"enableError",{get:function(){return a.default.ENABLE_ERROR},set:function(g){a.default.ENABLE_ERROR=g,h._notifyChange()},enumerable:!1,configurable:!0}),h.getConfig=function(){return{globalTag:a.default.GLOBAL_TAG,forceGlobalTag:a.default.FORCE_GLOBAL_TAG,enableVerbose:a.default.ENABLE_VERBOSE,enableDebug:a.default.ENABLE_DEBUG,enableInfo:a.default.ENABLE_INFO,enableWarn:a.default.ENABLE_WARN,enableError:a.default.ENABLE_ERROR,enableCallback:a.default.ENABLE_CALLBACK}},h.applyConfig=function(g){a.default.GLOBAL_TAG=g.globalTag,a.default.FORCE_GLOBAL_TAG=g.forceGlobalTag,a.default.ENABLE_VERBOSE=g.enableVerbose,a.default.ENABLE_DEBUG=g.enableDebug,a.default.ENABLE_INFO=g.enableInfo,a.default.ENABLE_WARN=g.enableWarn,a.default.ENABLE_ERROR=g.enableError,a.default.ENABLE_CALLBACK=g.enableCallback},h._notifyChange=function(){var g=h.emitter;if(g.listenerCount("change")>0){var E=h.getConfig();g.emit("change",E)}},h.registerListener=function(g){h.emitter.addListener("change",g)},h.removeListener=function(g){h.emitter.removeListener("change",g)},h.addLogListener=function(g){a.default.emitter.addListener("log",g),a.default.emitter.listenerCount("log")>0&&(a.default.ENABLE_CALLBACK=!0,h._notifyChange())},h.removeLogListener=function(g){a.default.emitter.removeListener("log",g),a.default.emitter.listenerCount("log")===0&&(a.default.ENABLE_CALLBACK=!1,h._notifyChange())},h}();l.emitter=new(u()),c.default=l},"./src/utils/polyfill.js":function(s,c,f){f.r(c);var d=function(){function u(){}return u.install=function(){Object.setPrototypeOf=Object.setPrototypeOf||function(a,l){return a.__proto__=l,a},Object.assign=Object.assign||function(a){if(a==null)throw new TypeError("Cannot convert undefined or null to object");for(var l=Object(a),h=1;h<arguments.length;h++){var g=arguments[h];if(g!=null)for(var E in g)g.hasOwnProperty(E)&&(l[E]=g[E])}return l},typeof self.Promise!="function"&&f("./node_modules/es6-promise/dist/es6-promise.js").polyfill()},u}();d.install(),c.default=d},"./src/utils/utf8-conv.js":function(s,c,f){f.r(c);function d(a,l,h){var g=a;if(l+h<g.length){for(;h--;)if((g[++l]&192)!==128)return!1;return!0}else return!1}function u(a){for(var l=[],h=a,g=0,E=a.length;g<E;){if(h[g]<128){l.push(String.fromCharCode(h[g])),++g;continue}else if(!(h[g]<192)){if(h[g]<224){if(d(h,g,1)){var y=(h[g]&31)<<6|h[g+1]&63;if(y>=128){l.push(String.fromCharCode(y&65535)),g+=2;continue}}}else if(h[g]<240){if(d(h,g,2)){var y=(h[g]&15)<<12|(h[g+1]&63)<<6|h[g+2]&63;if(y>=2048&&(y&63488)!==55296){l.push(String.fromCharCode(y&65535)),g+=3;continue}}}else if(h[g]<248&&d(h,g,3)){var y=(h[g]&7)<<18|(h[g+1]&63)<<12|(h[g+2]&63)<<6|h[g+3]&63;if(y>65536&&y<1114112){y-=65536,l.push(String.fromCharCode(y>>>10|55296)),l.push(String.fromCharCode(y&1023|56320)),g+=4;continue}}}l.push(""),++g}return l.join("")}c.default=u}},r={};function i(s){var c=r[s];if(c!==void 0)return c.exports;var f=r[s]={exports:{}};return n[s].call(f.exports,f,f.exports,i),f.exports}i.m=n,function(){i.n=function(s){var c=s&&s.__esModule?function(){return s.default}:function(){return s};return i.d(c,{a:c}),c}}(),function(){i.d=function(s,c){for(var f in c)i.o(c,f)&&!i.o(s,f)&&Object.defineProperty(s,f,{enumerable:!0,get:c[f]})}}(),function(){i.g=function(){if(typeof globalThis=="object")return globalThis;try{return this||new Function("return this")()}catch{if(typeof window=="object")return window}}()}(),function(){i.o=function(s,c){return Object.prototype.hasOwnProperty.call(s,c)}}(),function(){i.r=function(s){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(s,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(s,"__esModule",{value:!0})}}();var o=i("./src/index.js");return o}()})})(zd);var Vb=zd.exports;const dc=Wd(Vb);var Ss={exports:{}},Hb=/^(?:(?![^:@]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,Kb=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"],Gd=function(t){var n=t,r=t.indexOf("["),i=t.indexOf("]");r!=-1&&i!=-1&&(t=t.substring(0,r)+t.substring(r,i).replace(/:/g,";")+t.substring(i,t.length));for(var o=Hb.exec(t||""),s={},c=14;c--;)s[Kb[c]]=o[c]||"";return r!=-1&&i!=-1&&(s.source=n,s.host=s.host.substring(1,s.host.length-1).replace(/;/g,":"),s.authority=s.authority.replace("[","").replace("]","").replace(/;/g,":"),s.ipv6uri=!0),s.pathNames=Wb(s,s.path),s.queryKey=zb(s,s.query),s};function Wb(e,t){var n=/\/{2,9}/g,r=t.replace(n,"/").split("/");return(t.substr(0,1)=="/"||t.length===0)&&r.splice(0,1),t.substr(t.length-1,1)=="/"&&r.splice(r.length-1,1),r}function zb(e,t){var n={};return t.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,function(r,i,o){i&&(n[i]=o)}),n}var ws={exports:{}},As={exports:{}},Hr=1e3,Kr=Hr*60,Wr=Kr*60,zr=Wr*24,Gb=zr*365.25,$b=function(e,t){t=t||{};var n=typeof e;if(n==="string"&&e.length>0)return qb(e);if(n==="number"&&isNaN(e)===!1)return t.long?Yb(e):Xb(e);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(e))};function qb(e){if(e=String(e),!(e.length>100)){var t=/^((?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(e);if(t){var n=parseFloat(t[1]),r=(t[2]||"ms").toLowerCase();switch(r){case"years":case"year":case"yrs":case"yr":case"y":return n*Gb;case"days":case"day":case"d":return n*zr;case"hours":case"hour":case"hrs":case"hr":case"h":return n*Wr;case"minutes":case"minute":case"mins":case"min":case"m":return n*Kr;case"seconds":case"second":case"secs":case"sec":case"s":return n*Hr;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return n;default:return}}}}function Xb(e){return e>=zr?Math.round(e/zr)+"d":e>=Wr?Math.round(e/Wr)+"h":e>=Kr?Math.round(e/Kr)+"m":e>=Hr?Math.round(e/Hr)+"s":e+"ms"}function Yb(e){return Si(e,zr,"day")||Si(e,Wr,"hour")||Si(e,Kr,"minute")||Si(e,Hr,"second")||e+" ms"}function Si(e,t,n){if(!(e<t))return e<t*1.5?Math.floor(e/t)+" "+n:Math.ceil(e/t)+" "+n+"s"}(function(e,t){t=e.exports=r.debug=r.default=r,t.coerce=f,t.disable=s,t.enable=o,t.enabled=c,t.humanize=$b,t.instances=[],t.names=[],t.skips=[],t.formatters={};function n(d){var u=0,a;for(a in d)u=(u<<5)-u+d.charCodeAt(a),u|=0;return t.colors[Math.abs(u)%t.colors.length]}function r(d){var u;function a(){if(a.enabled){var l=a,h=+new Date,g=h-(u||h);l.diff=g,l.prev=u,l.curr=h,u=h;for(var E=new Array(arguments.length),y=0;y<E.length;y++)E[y]=arguments[y];E[0]=t.coerce(E[0]),typeof E[0]!="string"&&E.unshift("%O");var m=0;E[0]=E[0].replace(/%([a-zA-Z%])/g,function(x,p){if(x==="%%")return x;m++;var v=t.formatters[p];if(typeof v=="function"){var b=E[m];x=v.call(l,b),E.splice(m,1),m--}return x}),t.formatArgs.call(l,E);var _=a.log||t.log||console.log.bind(console);_.apply(l,E)}}return a.namespace=d,a.enabled=t.enabled(d),a.useColors=t.useColors(),a.color=n(d),a.destroy=i,typeof t.init=="function"&&t.init(a),t.instances.push(a),a}function i(){var d=t.instances.indexOf(this);return d!==-1?(t.instances.splice(d,1),!0):!1}function o(d){t.save(d),t.names=[],t.skips=[];var u,a=(typeof d=="string"?d:"").split(/[\s,]+/),l=a.length;for(u=0;u<l;u++)a[u]&&(d=a[u].replace(/\*/g,".*?"),d[0]==="-"?t.skips.push(new RegExp("^"+d.substr(1)+"$")):t.names.push(new RegExp("^"+d+"$")));for(u=0;u<t.instances.length;u++){var h=t.instances[u];h.enabled=t.enabled(h.namespace)}}function s(){t.enable("")}function c(d){if(d[d.length-1]==="*")return!0;var u,a;for(u=0,a=t.skips.length;u<a;u++)if(t.skips[u].test(d))return!1;for(u=0,a=t.names.length;u<a;u++)if(t.names[u].test(d))return!0;return!1}function f(d){return d instanceof Error?d.stack||d.message:d}})(As,As.exports);var Jb=As.exports;(function(e,t){var n={};t=e.exports=Jb,t.log=o,t.formatArgs=i,t.save=s,t.load=c,t.useColors=r,t.storage=typeof chrome<"u"&&typeof chrome.storage<"u"?chrome.storage.local:f(),t.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"];function r(){return typeof window<"u"&&window.process&&window.process.type==="renderer"?!0:typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/)?!1:typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}t.formatters.j=function(d){try{return JSON.stringify(d)}catch(u){return"[UnexpectedJSONParseError]: "+u.message}};function i(d){var u=this.useColors;if(d[0]=(u?"%c":"")+this.namespace+(u?" %c":" ")+d[0]+(u?"%c ":" ")+"+"+t.humanize(this.diff),!!u){var a="color: "+this.color;d.splice(1,0,a,"color: inherit");var l=0,h=0;d[0].replace(/%[a-zA-Z%]/g,function(g){g!=="%%"&&(l++,g==="%c"&&(h=l))}),d.splice(h,0,a)}}function o(){return typeof console=="object"&&console.log&&Function.prototype.apply.call(console.log,console,arguments)}function s(d){try{d==null?t.storage.removeItem("debug"):t.storage.debug=d}catch{}}function c(){var d;try{d=t.storage.debug}catch{}return!d&&typeof process<"u"&&"env"in process&&(d=n.DEBUG),d}t.enable(c());function f(){try{return window.localStorage}catch{}}})(ws,ws.exports);var Qt=ws.exports,Zb=Gd,hc=Qt("socket.io-client:url"),Qb=eS;function eS(e,t){var n=e;t=t||typeof location<"u"&&location,e==null&&(e=t.protocol+"//"+t.host),typeof e=="string"&&(e.charAt(0)==="/"&&(e.charAt(1)==="/"?e=t.protocol+e:e=t.host+e),/^(https?|wss?):\/\//.test(e)||(hc("protocol-less url %s",e),typeof t<"u"?e=t.protocol+"//"+e:e="https://"+e),hc("parse %s",e),n=Zb(e)),n.port||(/^(http|ws)$/.test(n.protocol)?n.port="80":/^(http|ws)s$/.test(n.protocol)&&(n.port="443")),n.path=n.path||"/";var r=n.host.indexOf(":")!==-1,i=r?"["+n.host+"]":n.host;return n.id=n.protocol+"://"+i+":"+n.port,n.href=n.protocol+"://"+i+(t&&t.port===n.port?"":":"+n.port),n}var vo={},$d={exports:{}};(function(e){e.exports=t;function t(r){if(r)return n(r)}function n(r){for(var i in t.prototype)r[i]=t.prototype[i];return r}t.prototype.on=t.prototype.addEventListener=function(r,i){return this._callbacks=this._callbacks||{},(this._callbacks["$"+r]=this._callbacks["$"+r]||[]).push(i),this},t.prototype.once=function(r,i){function o(){this.off(r,o),i.apply(this,arguments)}return o.fn=i,this.on(r,o),this},t.prototype.off=t.prototype.removeListener=t.prototype.removeAllListeners=t.prototype.removeEventListener=function(r,i){if(this._callbacks=this._callbacks||{},arguments.length==0)return this._callbacks={},this;var o=this._callbacks["$"+r];if(!o)return this;if(arguments.length==1)return delete this._callbacks["$"+r],this;for(var s,c=0;c<o.length;c++)if(s=o[c],s===i||s.fn===i){o.splice(c,1);break}return o.length===0&&delete this._callbacks["$"+r],this},t.prototype.emit=function(r){this._callbacks=this._callbacks||{};for(var i=new Array(arguments.length-1),o=this._callbacks["$"+r],s=1;s<arguments.length;s++)i[s-1]=arguments[s];if(o){o=o.slice(0);for(var s=0,c=o.length;s<c;++s)o[s].apply(this,i)}return this},t.prototype.listeners=function(r){return this._callbacks=this._callbacks||{},this._callbacks["$"+r]||[]},t.prototype.hasListeners=function(r){return!!this.listeners(r).length}})($d);var ur=$d.exports,yo={},tS={}.toString,va=Array.isArray||function(e){return tS.call(e)=="[object Array]"},qd=oS,nS=typeof Buffer=="function"&&typeof Buffer.isBuffer=="function",rS=typeof ArrayBuffer=="function",iS=function(e){return typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(e):e.buffer instanceof ArrayBuffer};function oS(e){return nS&&Buffer.isBuffer(e)||rS&&(e instanceof ArrayBuffer||iS(e))}var ya=va,Xd=qd,Yd=Object.prototype.toString,sS=typeof Blob=="function"||typeof Blob<"u"&&Yd.call(Blob)==="[object BlobConstructor]",aS=typeof File=="function"||typeof File<"u"&&Yd.call(File)==="[object FileConstructor]";yo.deconstructPacket=function(e){var t=[],n=e.data,r=e;return r.data=Cs(n,t),r.attachments=t.length,{packet:r,buffers:t}};function Cs(e,t){if(!e)return e;if(Xd(e)){var n={_placeholder:!0,num:t.length};return t.push(e),n}else if(ya(e)){for(var r=new Array(e.length),i=0;i<e.length;i++)r[i]=Cs(e[i],t);return r}else if(typeof e=="object"&&!(e instanceof Date)){var r={};for(var o in e)r[o]=Cs(e[o],t);return r}return e}yo.reconstructPacket=function(e,t){return e.data=Ls(e.data,t),e.attachments=void 0,e};function Ls(e,t){if(!e)return e;if(e&&e._placeholder===!0){var n=typeof e.num=="number"&&e.num>=0&&e.num<t.length;if(n)return t[e.num];throw new Error("illegal attachments")}else if(ya(e))for(var r=0;r<e.length;r++)e[r]=Ls(e[r],t);else if(typeof e=="object")for(var i in e)e[i]=Ls(e[i],t);return e}yo.removeBlobs=function(e,t){function n(o,s,c){if(!o)return o;if(sS&&o instanceof Blob||aS&&o instanceof File){r++;var f=new FileReader;f.onload=function(){c?c[s]=this.result:i=this.result,--r||t(i)},f.readAsArrayBuffer(o)}else if(ya(o))for(var d=0;d<o.length;d++)n(o[d],d,o);else if(typeof o=="object"&&!Xd(o))for(var u in o)n(o[u],u,o)}var r=0,i=e;n(i),r||t(i)};(function(e){var t=Qt("socket.io-parser"),n=ur,r=yo,i=va,o=qd;e.protocol=4,e.types=["CONNECT","DISCONNECT","EVENT","ACK","ERROR","BINARY_EVENT","BINARY_ACK"],e.CONNECT=0,e.DISCONNECT=1,e.EVENT=2,e.ACK=3,e.ERROR=4,e.BINARY_EVENT=5,e.BINARY_ACK=6,e.Encoder=s,e.Decoder=a;function s(){}var c=e.ERROR+'"encode error"';s.prototype.encode=function(y,m){if(t("encoding packet %j",y),e.BINARY_EVENT===y.type||e.BINARY_ACK===y.type)u(y,m);else{var _=f(y);m([_])}};function f(y){var m=""+y.type;if((e.BINARY_EVENT===y.type||e.BINARY_ACK===y.type)&&(m+=y.attachments+"-"),y.nsp&&y.nsp!=="/"&&(m+=y.nsp+","),y.id!=null&&(m+=y.id),y.data!=null){var _=d(y.data);if(_!==!1)m+=_;else return c}return t("encoded %j as %s",y,m),m}function d(y){try{return JSON.stringify(y)}catch{return!1}}function u(y,m){function _(x){var p=r.deconstructPacket(x),v=f(p.packet),b=p.buffers;b.unshift(v),m(b)}r.removeBlobs(y,_)}function a(){this.reconstructor=null}n(a.prototype),a.prototype.add=function(y){var m;if(typeof y=="string"){if(this.reconstructor)throw new Error("got plaintext data when reconstructing a packet");m=l(y),e.BINARY_EVENT===m.type||e.BINARY_ACK===m.type?(this.reconstructor=new g(m),this.reconstructor.reconPack.attachments===0&&this.emit("decoded",m)):this.emit("decoded",m)}else if(o(y)||y.base64)if(this.reconstructor)m=this.reconstructor.takeBinaryData(y),m&&(this.reconstructor=null,this.emit("decoded",m));else throw new Error("got binary data when not reconstructing a packet");else throw new Error("Unknown type: "+y)};function l(y){var m=0,_={type:Number(y.charAt(0))};if(e.types[_.type]==null)return E("unknown packet type "+_.type);if(e.BINARY_EVENT===_.type||e.BINARY_ACK===_.type){for(var x=m+1;y.charAt(++m)!=="-"&&m!=y.length;);var p=y.substring(x,m);if(p!=Number(p)||y.charAt(m)!=="-")throw new Error("Illegal attachments");_.attachments=Number(p)}if(y.charAt(m+1)==="/"){for(var x=m+1;++m;){var v=y.charAt(m);if(v===","||m===y.length)break}_.nsp=y.substring(x,m)}else _.nsp="/";var b=y.charAt(m+1);if(b!==""&&Number(b)==b){for(var x=m+1;++m;){var v=y.charAt(m);if(v==null||Number(v)!=v){--m;break}if(m===y.length)break}_.id=Number(y.substring(x,m+1))}if(y.charAt(++m)){var w=h(y.substr(m)),A=w!==!1&&(_.type===e.ERROR||i(w));if(A)_.data=w;else return E("invalid payload")}return t("decoded %s as %j",y,_),_}function h(y){try{return JSON.parse(y)}catch{return!1}}a.prototype.destroy=function(){this.reconstructor&&this.reconstructor.finishedReconstruction()};function g(y){this.reconPack=y,this.buffers=[]}g.prototype.takeBinaryData=function(y){if(this.buffers.push(y),this.buffers.length===this.reconPack.attachments){var m=r.reconstructPacket(this.reconPack,this.buffers);return this.finishedReconstruction(),m}return null},g.prototype.finishedReconstruction=function(){this.reconPack=null,this.buffers=[]};function E(y){return{type:e.ERROR,data:"parser error: "+y}}})(vo);var Ea={exports:{}},Eo={},Rs={exports:{}};try{Rs.exports=typeof XMLHttpRequest<"u"&&"withCredentials"in new XMLHttpRequest}catch{Rs.exports=!1}var lS=Rs.exports,xa=function(){return typeof self<"u"?self:typeof window<"u"?window:Function("return this")()}(),uS=lS,cS=xa,ba=function(e){var t=e.xdomain,n=e.xscheme,r=e.enablesXDR;try{if(typeof XMLHttpRequest<"u"&&(!t||uS))return new XMLHttpRequest}catch{}try{if(typeof XDomainRequest<"u"&&!n&&r)return new XDomainRequest}catch{}if(!t)try{return new cS[["Active"].concat("Object").join("X")]("Microsoft.XMLHTTP")}catch{}},Sa={exports:{}},Dn={},fS=Object.keys||function(t){var n=[],r=Object.prototype.hasOwnProperty;for(var i in t)r.call(t,i)&&n.push(i);return n},dS=va,Jd=Object.prototype.toString,hS=typeof Blob=="function"||typeof Blob<"u"&&Jd.call(Blob)==="[object BlobConstructor]",pS=typeof File=="function"||typeof File<"u"&&Jd.call(File)==="[object FileConstructor]",Zd=Ti;function Ti(e){if(!e||typeof e!="object")return!1;if(dS(e)){for(var t=0,n=e.length;t<n;t++)if(Ti(e[t]))return!0;return!1}if(typeof Buffer=="function"&&Buffer.isBuffer&&Buffer.isBuffer(e)||typeof ArrayBuffer=="function"&&e instanceof ArrayBuffer||hS&&e instanceof Blob||pS&&e instanceof File)return!0;if(e.toJSON&&typeof e.toJSON=="function"&&arguments.length===1)return Ti(e.toJSON(),!0);for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)&&Ti(e[r]))return!0;return!1}var mS=function(e,t,n){var r=e.byteLength;if(t=t||0,n=n||r,e.slice)return e.slice(t,n);if(t<0&&(t+=r),n<0&&(n+=r),n>r&&(n=r),t>=r||t>=n||r===0)return new ArrayBuffer(0);for(var i=new Uint8Array(e),o=new Uint8Array(n-t),s=t,c=0;s<n;s++,c++)o[c]=i[s];return o.buffer},_S=gS;function gS(e,t,n){var r=!1;return n=n||vS,i.count=e,e===0?t():i;function i(o,s){if(i.count<=0)throw new Error("after called too many times");--i.count,o?(r=!0,t(o),t=n):i.count===0&&!r&&t(null,s)}}function vS(){}/*! https://mths.be/utf8js v2.1.2 by @mathias */var hn=String.fromCharCode;function Qd(e){for(var t=[],n=0,r=e.length,i,o;n<r;)i=e.charCodeAt(n++),i>=55296&&i<=56319&&n<r?(o=e.charCodeAt(n++),(o&64512)==56320?t.push(((i&1023)<<10)+(o&1023)+65536):(t.push(i),n--)):t.push(i);return t}function yS(e){for(var t=e.length,n=-1,r,i="";++n<t;)r=e[n],r>65535&&(r-=65536,i+=hn(r>>>10&1023|55296),r=56320|r&1023),i+=hn(r);return i}function eh(e,t){if(e>=55296&&e<=57343){if(t)throw Error("Lone surrogate U+"+e.toString(16).toUpperCase()+" is not a scalar value");return!1}return!0}function Go(e,t){return hn(e>>t&63|128)}function ES(e,t){if(!(e&4294967168))return hn(e);var n="";return e&4294965248?e&4294901760?e&4292870144||(n=hn(e>>18&7|240),n+=Go(e,12),n+=Go(e,6)):(eh(e,t)||(e=65533),n=hn(e>>12&15|224),n+=Go(e,6)):n=hn(e>>6&31|192),n+=hn(e&63|128),n}function xS(e,t){t=t||{};for(var n=t.strict!==!1,r=Qd(e),i=r.length,o=-1,s,c="";++o<i;)s=r[o],c+=ES(s,n);return c}function Un(){if(mn>=Wi)throw Error("Invalid byte index");var e=Ki[mn]&255;if(mn++,(e&192)==128)return e&63;throw Error("Invalid continuation byte")}function bS(e){var t,n,r,i,o;if(mn>Wi)throw Error("Invalid byte index");if(mn==Wi)return!1;if(t=Ki[mn]&255,mn++,!(t&128))return t;if((t&224)==192){if(n=Un(),o=(t&31)<<6|n,o>=128)return o;throw Error("Invalid continuation byte")}if((t&240)==224){if(n=Un(),r=Un(),o=(t&15)<<12|n<<6|r,o>=2048)return eh(o,e)?o:65533;throw Error("Invalid continuation byte")}if((t&248)==240&&(n=Un(),r=Un(),i=Un(),o=(t&7)<<18|n<<12|r<<6|i,o>=65536&&o<=1114111))return o;throw Error("Invalid UTF-8 detected")}var Ki,Wi,mn;function SS(e,t){t=t||{};var n=t.strict!==!1;Ki=Qd(e),Wi=Ki.length,mn=0;for(var r=[],i;(i=bS(n))!==!1;)r.push(i);return yS(r)}var wS={version:"2.1.2",encode:xS,decode:SS},wi={},pc;function AS(){return pc||(pc=1,function(e){wi.encode=function(t){var n=new Uint8Array(t),r,i=n.length,o="";for(r=0;r<i;r+=3)o+=e[n[r]>>2],o+=e[(n[r]&3)<<4|n[r+1]>>4],o+=e[(n[r+1]&15)<<2|n[r+2]>>6],o+=e[n[r+2]&63];return i%3===2?o=o.substring(0,o.length-1)+"=":i%3===1&&(o=o.substring(0,o.length-2)+"=="),o},wi.decode=function(t){var n=t.length*.75,r=t.length,i,o=0,s,c,f,d;t[t.length-1]==="="&&(n--,t[t.length-2]==="="&&n--);var u=new ArrayBuffer(n),a=new Uint8Array(u);for(i=0;i<r;i+=4)s=e.indexOf(t[i]),c=e.indexOf(t[i+1]),f=e.indexOf(t[i+2]),d=e.indexOf(t[i+3]),a[o++]=s<<2|c>>4,a[o++]=(c&15)<<4|f>>2,a[o++]=(f&3)<<6|d&63;return u}}("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/")),wi}var $o,mc;function CS(){if(mc)return $o;mc=1;var e=typeof e<"u"?e:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:typeof MSBlobBuilder<"u"?MSBlobBuilder:typeof MozBlobBuilder<"u"?MozBlobBuilder:!1,t=function(){try{var c=new Blob(["hi"]);return c.size===2}catch{return!1}}(),n=t&&function(){try{var c=new Blob([new Uint8Array([1,2])]);return c.size===2}catch{return!1}}(),r=e&&e.prototype.append&&e.prototype.getBlob;function i(c){return c.map(function(f){if(f.buffer instanceof ArrayBuffer){var d=f.buffer;if(f.byteLength!==d.byteLength){var u=new Uint8Array(f.byteLength);u.set(new Uint8Array(d,f.byteOffset,f.byteLength)),d=u.buffer}return d}return f})}function o(c,f){f=f||{};var d=new e;return i(c).forEach(function(u){d.append(u)}),f.type?d.getBlob(f.type):d.getBlob()}function s(c,f){return new Blob(i(c),f||{})}return typeof Blob<"u"&&(o.prototype=Blob.prototype,s.prototype=Blob.prototype),$o=function(){return t?n?Blob:s:r?o:void 0}(),$o}(function(e){var t=fS,n=Zd,r=mS,i=_S,o=wS,s;typeof ArrayBuffer<"u"&&(s=AS());var c=typeof navigator<"u"&&/Android/i.test(navigator.userAgent),f=typeof navigator<"u"&&/PhantomJS/i.test(navigator.userAgent),d=c||f;e.protocol=3;var u=e.packets={open:0,close:1,ping:2,pong:3,message:4,upgrade:5,noop:6},a=t(u),l={type:"error",data:"parser error"},h=CS();e.encodePacket=function(p,v,b,w){typeof v=="function"&&(w=v,v=!1),typeof b=="function"&&(w=b,b=null);var A=p.data===void 0?void 0:p.data.buffer||p.data;if(typeof ArrayBuffer<"u"&&A instanceof ArrayBuffer)return E(p,v,w);if(typeof h<"u"&&A instanceof h)return m(p,v,w);if(A&&A.base64)return g(p,w);var T=u[p.type];return p.data!==void 0&&(T+=b?o.encode(String(p.data),{strict:!1}):String(p.data)),w(""+T)};function g(p,v){var b="b"+e.packets[p.type]+p.data.data;return v(b)}function E(p,v,b){if(!v)return e.encodeBase64Packet(p,b);var w=p.data,A=new Uint8Array(w),T=new Uint8Array(1+w.byteLength);T[0]=u[p.type];for(var P=0;P<A.length;P++)T[P+1]=A[P];return b(T.buffer)}function y(p,v,b){if(!v)return e.encodeBase64Packet(p,b);var w=new FileReader;return w.onload=function(){e.encodePacket({type:p.type,data:w.result},v,!0,b)},w.readAsArrayBuffer(p.data)}function m(p,v,b){if(!v)return e.encodeBase64Packet(p,b);if(d)return y(p,v,b);var w=new Uint8Array(1);w[0]=u[p.type];var A=new h([w.buffer,p.data]);return b(A)}e.encodeBase64Packet=function(p,v){var b="b"+e.packets[p.type];if(typeof h<"u"&&p.data instanceof h){var w=new FileReader;return w.onload=function(){var C=w.result.split(",")[1];v(b+C)},w.readAsDataURL(p.data)}var A;try{A=String.fromCharCode.apply(null,new Uint8Array(p.data))}catch{for(var T=new Uint8Array(p.data),P=new Array(T.length),R=0;R<T.length;R++)P[R]=T[R];A=String.fromCharCode.apply(null,P)}return b+=btoa(A),v(b)},e.decodePacket=function(p,v,b){if(p===void 0)return l;if(typeof p=="string"){if(p.charAt(0)==="b")return e.decodeBase64Packet(p.substr(1),v);if(b&&(p=_(p),p===!1))return l;var A=p.charAt(0);return Number(A)!=A||!a[A]?l:p.length>1?{type:a[A],data:p.substring(1)}:{type:a[A]}}var w=new Uint8Array(p),A=w[0],T=r(p,1);return h&&v==="blob"&&(T=new h([T])),{type:a[A],data:T}};function _(p){try{p=o.decode(p,{strict:!1})}catch{return!1}return p}e.decodeBase64Packet=function(p,v){var b=a[p.charAt(0)];if(!s)return{type:b,data:{base64:!0,data:p.substr(1)}};var w=s.decode(p.substr(1));return v==="blob"&&h&&(w=new h([w])),{type:b,data:w}},e.encodePayload=function(p,v,b){typeof v=="function"&&(b=v,v=null);var w=n(p);if(v&&w)return h&&!d?e.encodePayloadAsBlob(p,b):e.encodePayloadAsArrayBuffer(p,b);if(!p.length)return b("0:");function A(P){return P.length+":"+P}function T(P,R){e.encodePacket(P,w?v:!1,!1,function(C){R(null,A(C))})}x(p,T,function(P,R){return b(R.join(""))})};function x(p,v,b){for(var w=new Array(p.length),A=i(p.length,b),T=function(R,C,O){v(C,function(D,N){w[R]=N,O(D,w)})},P=0;P<p.length;P++)T(P,p[P],A)}e.decodePayload=function(p,v,b){if(typeof p!="string")return e.decodePayloadAsBinary(p,v,b);typeof v=="function"&&(b=v,v=null);var w;if(p==="")return b(l,0,1);for(var A="",T,P,R=0,C=p.length;R<C;R++){var O=p.charAt(R);if(O!==":"){A+=O;continue}if(A===""||A!=(T=Number(A))||(P=p.substr(R+1,T),A!=P.length))return b(l,0,1);if(P.length){if(w=e.decodePacket(P,v,!1),l.type===w.type&&l.data===w.data)return b(l,0,1);var D=b(w,R+T,C);if(D===!1)return}R+=T,A=""}if(A!=="")return b(l,0,1)},e.encodePayloadAsArrayBuffer=function(p,v){if(!p.length)return v(new ArrayBuffer(0));function b(w,A){e.encodePacket(w,!0,!0,function(T){return A(null,T)})}x(p,b,function(w,A){var T=A.reduce(function(C,O){var D;return typeof O=="string"?D=O.length:D=O.byteLength,C+D.toString().length+D+2},0),P=new Uint8Array(T),R=0;return A.forEach(function(C){var O=typeof C=="string",D=C;if(O){for(var U=new Uint8Array(C.length),N=0;N<C.length;N++)U[N]=C.charCodeAt(N);D=U.buffer}O?P[R++]=0:P[R++]=1;for(var M=D.byteLength.toString(),N=0;N<M.length;N++)P[R++]=parseInt(M[N]);P[R++]=255;for(var U=new Uint8Array(D),N=0;N<U.length;N++)P[R++]=U[N]}),v(P.buffer)})},e.encodePayloadAsBlob=function(p,v){function b(w,A){e.encodePacket(w,!0,!0,function(T){var P=new Uint8Array(1);if(P[0]=1,typeof T=="string"){for(var R=new Uint8Array(T.length),C=0;C<T.length;C++)R[C]=T.charCodeAt(C);T=R.buffer,P[0]=0}for(var O=T instanceof ArrayBuffer?T.byteLength:T.size,D=O.toString(),N=new Uint8Array(D.length+1),C=0;C<D.length;C++)N[C]=parseInt(D[C]);if(N[D.length]=255,h){var M=new h([P.buffer,N.buffer,T]);A(null,M)}})}x(p,b,function(w,A){return v(new h(A))})},e.decodePayloadAsBinary=function(p,v,b){typeof v=="function"&&(b=v,v=null);for(var w=p,A=[];w.byteLength>0;){for(var T=new Uint8Array(w),P=T[0]===0,R="",C=1;T[C]!==255;C++){if(R.length>310)return b(l,0,1);R+=T[C]}w=r(w,2+R.length),R=parseInt(R);var O=r(w,0,R);if(P)try{O=String.fromCharCode.apply(null,new Uint8Array(O))}catch{var D=new Uint8Array(O);O="";for(var C=0;C<D.length;C++)O+=String.fromCharCode(D[C])}A.push(O),w=r(w,R)}var N=A.length;A.forEach(function(M,U){b(e.decodePacket(M,v,!0),U,N)})}})(Dn);var qo,_c;function wa(){if(_c)return qo;_c=1;var e=Dn,t=ur;qo=n;function n(r){this.path=r.path,this.hostname=r.hostname,this.port=r.port,this.secure=r.secure,this.query=r.query,this.timestampParam=r.timestampParam,this.timestampRequests=r.timestampRequests,this.readyState="",this.agent=r.agent||!1,this.socket=r.socket,this.enablesXDR=r.enablesXDR,this.withCredentials=r.withCredentials,this.pfx=r.pfx,this.key=r.key,this.passphrase=r.passphrase,this.cert=r.cert,this.ca=r.ca,this.ciphers=r.ciphers,this.rejectUnauthorized=r.rejectUnauthorized,this.forceNode=r.forceNode,this.isReactNative=r.isReactNative,this.extraHeaders=r.extraHeaders,this.localAddress=r.localAddress}return t(n.prototype),n.prototype.onError=function(r,i){var o=new Error(r);return o.type="TransportError",o.description=i,this.emit("error",o),this},n.prototype.open=function(){return(this.readyState==="closed"||this.readyState==="")&&(this.readyState="opening",this.doOpen()),this},n.prototype.close=function(){return(this.readyState==="opening"||this.readyState==="open")&&(this.doClose(),this.onClose()),this},n.prototype.send=function(r){if(this.readyState==="open")this.write(r);else throw new Error("Transport not open")},n.prototype.onOpen=function(){this.readyState="open",this.writable=!0,this.emit("open")},n.prototype.onData=function(r){var i=e.decodePacket(r,this.socket.binaryType);this.onPacket(i)},n.prototype.onPacket=function(r){this.emit("packet",r)},n.prototype.onClose=function(){this.readyState="closed",this.emit("close")},qo}var cr={};cr.encode=function(e){var t="";for(var n in e)e.hasOwnProperty(n)&&(t.length&&(t+="&"),t+=encodeURIComponent(n)+"="+encodeURIComponent(e[n]));return t};cr.decode=function(e){for(var t={},n=e.split("&"),r=0,i=n.length;r<i;r++){var o=n[r].split("=");t[decodeURIComponent(o[0])]=decodeURIComponent(o[1])}return t};var xo=function(e,t){var n=function(){};n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e},th="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-_".split(""),zi=64,nh={},gc=0,_n=0,vc;function Ts(e){var t="";do t=th[e%zi]+t,e=Math.floor(e/zi);while(e>0);return t}function LS(e){var t=0;for(_n=0;_n<e.length;_n++)t=t*zi+nh[e.charAt(_n)];return t}function Aa(){var e=Ts(+new Date);return e!==vc?(gc=0,vc=e):e+"."+Ts(gc++)}for(;_n<zi;_n++)nh[th[_n]]=_n;Aa.encode=Ts;Aa.decode=LS;var rh=Aa,ih=wa(),RS=cr,oh=Dn,TS=xo,OS=rh,Pt=Qt("engine.io-client:polling"),sh=Wt,PS=function(){var e=ba,t=new e({xdomain:!1});return t.responseType!=null}();function Wt(e){var t=e&&e.forceBase64;(!PS||t)&&(this.supportsBinary=!1),ih.call(this,e)}TS(Wt,ih);Wt.prototype.name="polling";Wt.prototype.doOpen=function(){this.poll()};Wt.prototype.pause=function(e){var t=this;this.readyState="pausing";function n(){Pt("paused"),t.readyState="paused",e()}if(this.polling||!this.writable){var r=0;this.polling&&(Pt("we are currently polling - waiting to pause"),r++,this.once("pollComplete",function(){Pt("pre-pause polling complete"),--r||n()})),this.writable||(Pt("we are currently writing - waiting to pause"),r++,this.once("drain",function(){Pt("pre-pause writing complete"),--r||n()}))}else n()};Wt.prototype.poll=function(){Pt("polling"),this.polling=!0,this.doPoll(),this.emit("poll")};Wt.prototype.onData=function(e){var t=this;Pt("polling got data %s",e);var n=function(r,i,o){if(t.readyState==="opening"&&t.onOpen(),r.type==="close")return t.onClose(),!1;t.onPacket(r)};oh.decodePayload(e,this.socket.binaryType,n),this.readyState!=="closed"&&(this.polling=!1,this.emit("pollComplete"),this.readyState==="open"?this.poll():Pt('ignoring poll - transport state "%s"',this.readyState))};Wt.prototype.doClose=function(){var e=this;function t(){Pt("writing close packet"),e.write([{type:"close"}])}this.readyState==="open"?(Pt("transport open - closing"),t()):(Pt("transport not open - deferring close"),this.once("open",t))};Wt.prototype.write=function(e){var t=this;this.writable=!1;var n=function(){t.writable=!0,t.emit("drain")};oh.encodePayload(e,this.supportsBinary,function(r){t.doWrite(r,n)})};Wt.prototype.uri=function(){var e=this.query||{},t=this.secure?"https":"http",n="";this.timestampRequests!==!1&&(e[this.timestampParam]=OS()),!this.supportsBinary&&!e.sid&&(e.b64=1),e=RS.encode(e),this.port&&(t==="https"&&Number(this.port)!==443||t==="http"&&Number(this.port)!==80)&&(n=":"+this.port),e.length&&(e="?"+e);var r=this.hostname.indexOf(":")!==-1;return t+"://"+(r?"["+this.hostname+"]":this.hostname)+n+this.path+e};var IS=ba,ah=sh,FS=ur,BS=xo,Os=Qt("engine.io-client:polling-xhr"),DS=xa;Sa.exports=fr;Sa.exports.Request=Je;function yc(){}function fr(e){if(ah.call(this,e),this.requestTimeout=e.requestTimeout,this.extraHeaders=e.extraHeaders,typeof location<"u"){var t=location.protocol==="https:",n=location.port;n||(n=t?443:80),this.xd=typeof location<"u"&&e.hostname!==location.hostname||n!==e.port,this.xs=e.secure!==t}}BS(fr,ah);fr.prototype.supportsBinary=!0;fr.prototype.request=function(e){return e=e||{},e.uri=this.uri(),e.xd=this.xd,e.xs=this.xs,e.agent=this.agent||!1,e.supportsBinary=this.supportsBinary,e.enablesXDR=this.enablesXDR,e.withCredentials=this.withCredentials,e.pfx=this.pfx,e.key=this.key,e.passphrase=this.passphrase,e.cert=this.cert,e.ca=this.ca,e.ciphers=this.ciphers,e.rejectUnauthorized=this.rejectUnauthorized,e.requestTimeout=this.requestTimeout,e.extraHeaders=this.extraHeaders,new Je(e)};fr.prototype.doWrite=function(e,t){var n=typeof e!="string"&&e!==void 0,r=this.request({method:"POST",data:e,isBinary:n}),i=this;r.on("success",t),r.on("error",function(o){i.onError("xhr post error",o)}),this.sendXhr=r};fr.prototype.doPoll=function(){Os("xhr poll");var e=this.request(),t=this;e.on("data",function(n){t.onData(n)}),e.on("error",function(n){t.onError("xhr poll error",n)}),this.pollXhr=e};function Je(e){this.method=e.method||"GET",this.uri=e.uri,this.xd=!!e.xd,this.xs=!!e.xs,this.async=e.async!==!1,this.data=e.data!==void 0?e.data:null,this.agent=e.agent,this.isBinary=e.isBinary,this.supportsBinary=e.supportsBinary,this.enablesXDR=e.enablesXDR,this.withCredentials=e.withCredentials,this.requestTimeout=e.requestTimeout,this.pfx=e.pfx,this.key=e.key,this.passphrase=e.passphrase,this.cert=e.cert,this.ca=e.ca,this.ciphers=e.ciphers,this.rejectUnauthorized=e.rejectUnauthorized,this.extraHeaders=e.extraHeaders,this.create()}FS(Je.prototype);Je.prototype.create=function(){var e={agent:this.agent,xdomain:this.xd,xscheme:this.xs,enablesXDR:this.enablesXDR};e.pfx=this.pfx,e.key=this.key,e.passphrase=this.passphrase,e.cert=this.cert,e.ca=this.ca,e.ciphers=this.ciphers,e.rejectUnauthorized=this.rejectUnauthorized;var t=this.xhr=new IS(e),n=this;try{Os("xhr open %s: %s",this.method,this.uri),t.open(this.method,this.uri,this.async);try{if(this.extraHeaders){t.setDisableHeaderCheck&&t.setDisableHeaderCheck(!0);for(var r in this.extraHeaders)this.extraHeaders.hasOwnProperty(r)&&t.setRequestHeader(r,this.extraHeaders[r])}}catch{}if(this.method==="POST")try{this.isBinary?t.setRequestHeader("Content-type","application/octet-stream"):t.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch{}try{t.setRequestHeader("Accept","*/*")}catch{}"withCredentials"in t&&(t.withCredentials=this.withCredentials),this.requestTimeout&&(t.timeout=this.requestTimeout),this.hasXDR()?(t.onload=function(){n.onLoad()},t.onerror=function(){n.onError(t.responseText)}):t.onreadystatechange=function(){if(t.readyState===2)try{var i=t.getResponseHeader("Content-Type");(n.supportsBinary&&i==="application/octet-stream"||i==="application/octet-stream; charset=UTF-8")&&(t.responseType="arraybuffer")}catch{}t.readyState===4&&(t.status===200||t.status===1223?n.onLoad():setTimeout(function(){n.onError(typeof t.status=="number"?t.status:0)},0))},Os("xhr data %s",this.data),t.send(this.data)}catch(i){setTimeout(function(){n.onError(i)},0);return}typeof document<"u"&&(this.index=Je.requestsCount++,Je.requests[this.index]=this)};Je.prototype.onSuccess=function(){this.emit("success"),this.cleanup()};Je.prototype.onData=function(e){this.emit("data",e),this.onSuccess()};Je.prototype.onError=function(e){this.emit("error",e),this.cleanup(!0)};Je.prototype.cleanup=function(e){if(!(typeof this.xhr>"u"||this.xhr===null)){if(this.hasXDR()?this.xhr.onload=this.xhr.onerror=yc:this.xhr.onreadystatechange=yc,e)try{this.xhr.abort()}catch{}typeof document<"u"&&delete Je.requests[this.index],this.xhr=null}};Je.prototype.onLoad=function(){var e;try{var t;try{t=this.xhr.getResponseHeader("Content-Type")}catch{}t==="application/octet-stream"||t==="application/octet-stream; charset=UTF-8"?e=this.xhr.response||this.xhr.responseText:e=this.xhr.responseText}catch(n){this.onError(n)}e!=null&&this.onData(e)};Je.prototype.hasXDR=function(){return typeof XDomainRequest<"u"&&!this.xs&&this.enablesXDR};Je.prototype.abort=function(){this.cleanup()};Je.requestsCount=0;Je.requests={};if(typeof document<"u"){if(typeof attachEvent=="function")attachEvent("onunload",Ec);else if(typeof addEventListener=="function"){var MS="onpagehide"in DS?"pagehide":"unload";addEventListener(MS,Ec,!1)}}function Ec(){for(var e in Je.requests)Je.requests.hasOwnProperty(e)&&Je.requests[e].abort()}var kS=Sa.exports,Ca=sh,NS=xo,xc=xa,jS=dr,US=/\n/g,VS=/\\n/g,Ai;function HS(){}function dr(e){Ca.call(this,e),this.query=this.query||{},Ai||(Ai=xc.___eio=xc.___eio||[]),this.index=Ai.length;var t=this;Ai.push(function(n){t.onData(n)}),this.query.j=this.index,typeof addEventListener=="function"&&addEventListener("beforeunload",function(){t.script&&(t.script.onerror=HS)},!1)}NS(dr,Ca);dr.prototype.supportsBinary=!1;dr.prototype.doClose=function(){this.script&&(this.script.parentNode.removeChild(this.script),this.script=null),this.form&&(this.form.parentNode.removeChild(this.form),this.form=null,this.iframe=null),Ca.prototype.doClose.call(this)};dr.prototype.doPoll=function(){var e=this,t=document.createElement("script");this.script&&(this.script.parentNode.removeChild(this.script),this.script=null),t.async=!0,t.src=this.uri(),t.onerror=function(i){e.onError("jsonp poll error",i)};var n=document.getElementsByTagName("script")[0];n?n.parentNode.insertBefore(t,n):(document.head||document.body).appendChild(t),this.script=t;var r=typeof navigator<"u"&&/gecko/i.test(navigator.userAgent);r&&setTimeout(function(){var i=document.createElement("iframe");document.body.appendChild(i),document.body.removeChild(i)},100)};dr.prototype.doWrite=function(e,t){var n=this;if(!this.form){var r=document.createElement("form"),i=document.createElement("textarea"),o=this.iframeId="eio_iframe_"+this.index,s;r.className="socketio",r.style.position="absolute",r.style.top="-1000px",r.style.left="-1000px",r.target=o,r.method="POST",r.setAttribute("accept-charset","utf-8"),i.name="d",r.appendChild(i),document.body.appendChild(r),this.form=r,this.area=i}this.form.action=this.uri();function c(){f(),t()}function f(){if(n.iframe)try{n.form.removeChild(n.iframe)}catch(u){n.onError("jsonp polling iframe removal error",u)}try{var d='<iframe src="javascript:0" name="'+n.iframeId+'">';s=document.createElement(d)}catch{s=document.createElement("iframe"),s.name=n.iframeId,s.src="javascript:0"}s.id=n.iframeId,n.form.appendChild(s),n.iframe=s}f(),e=e.replace(VS,`\\
`),this.area.value=e.replace(US,"\\n");try{this.form.submit()}catch{}this.iframe.attachEvent?this.iframe.onreadystatechange=function(){n.iframe.readyState==="complete"&&c()}:this.iframe.onload=c};const KS={},WS=Object.freeze(Object.defineProperty({__proto__:null,default:KS},Symbol.toStringTag,{value:"Module"})),zS=Ub(WS);var La=wa(),GS=Dn,$S=cr,qS=xo,XS=rh,YS=Qt("engine.io-client:websocket"),Gi,Ra;typeof WebSocket<"u"?Gi=WebSocket:typeof self<"u"&&(Gi=self.WebSocket||self.MozWebSocket);if(typeof window>"u")try{Ra=zS}catch{}var Jn=Gi||Ra,JS=Ot;function Ot(e){var t=e&&e.forceBase64;t&&(this.supportsBinary=!1),this.perMessageDeflate=e.perMessageDeflate,this.usingBrowserWebSocket=Gi&&!e.forceNode,this.protocols=e.protocols,this.usingBrowserWebSocket||(Jn=Ra),La.call(this,e)}qS(Ot,La);Ot.prototype.name="websocket";Ot.prototype.supportsBinary=!0;Ot.prototype.doOpen=function(){if(this.check()){var e=this.uri(),t=this.protocols,n={};this.isReactNative||(n.agent=this.agent,n.perMessageDeflate=this.perMessageDeflate,n.pfx=this.pfx,n.key=this.key,n.passphrase=this.passphrase,n.cert=this.cert,n.ca=this.ca,n.ciphers=this.ciphers,n.rejectUnauthorized=this.rejectUnauthorized),this.extraHeaders&&(n.headers=this.extraHeaders),this.localAddress&&(n.localAddress=this.localAddress);try{this.ws=this.usingBrowserWebSocket&&!this.isReactNative?t?new Jn(e,t):new Jn(e):new Jn(e,t,n)}catch(r){return this.emit("error",r)}this.ws.binaryType===void 0&&(this.supportsBinary=!1),this.ws.supports&&this.ws.supports.binary?(this.supportsBinary=!0,this.ws.binaryType="nodebuffer"):this.ws.binaryType="arraybuffer",this.addEventListeners()}};Ot.prototype.addEventListeners=function(){var e=this;this.ws.onopen=function(){e.onOpen()},this.ws.onclose=function(){e.onClose()},this.ws.onmessage=function(t){e.onData(t.data)},this.ws.onerror=function(t){e.onError("websocket error",t)}};Ot.prototype.write=function(e){var t=this;this.writable=!1;for(var n=e.length,r=0,i=n;r<i;r++)(function(s){GS.encodePacket(s,t.supportsBinary,function(c){if(!t.usingBrowserWebSocket){var f={};if(s.options&&(f.compress=s.options.compress),t.perMessageDeflate){var d=typeof c=="string"?Buffer.byteLength(c):c.length;d<t.perMessageDeflate.threshold&&(f.compress=!1)}}try{t.usingBrowserWebSocket?t.ws.send(c):t.ws.send(c,f)}catch{YS("websocket closed before onclose event")}--n||o()})})(e[r]);function o(){t.emit("flush"),setTimeout(function(){t.writable=!0,t.emit("drain")},0)}};Ot.prototype.onClose=function(){La.prototype.onClose.call(this)};Ot.prototype.doClose=function(){typeof this.ws<"u"&&this.ws.close()};Ot.prototype.uri=function(){var e=this.query||{},t=this.secure?"wss":"ws",n="";this.port&&(t==="wss"&&Number(this.port)!==443||t==="ws"&&Number(this.port)!==80)&&(n=":"+this.port),this.timestampRequests&&(e[this.timestampParam]=XS()),this.supportsBinary||(e.b64=1),e=$S.encode(e),e.length&&(e="?"+e);var r=this.hostname.indexOf(":")!==-1;return t+"://"+(r?"["+this.hostname+"]":this.hostname)+n+this.path+e};Ot.prototype.check=function(){return!!Jn&&!("__initialize"in Jn&&this.name===Ot.prototype.name)};var ZS=ba,QS=kS,ew=jS,tw=JS;Eo.polling=nw;Eo.websocket=tw;function nw(e){var t,n=!1,r=!1,i=e.jsonp!==!1;if(typeof location<"u"){var o=location.protocol==="https:",s=location.port;s||(s=o?443:80),n=e.hostname!==location.hostname||s!==e.port,r=e.secure!==o}if(e.xdomain=n,e.xscheme=r,t=new ZS(e),"open"in t&&!e.forceJSONP)return new QS(e);if(!i)throw new Error("JSONP disabled");return new ew(e)}var rw=[].indexOf,lh=function(e,t){if(rw)return e.indexOf(t);for(var n=0;n<e.length;++n)if(e[n]===t)return n;return-1},iw=Eo,ow=ur,Xe=Qt("engine.io-client:socket"),sw=lh,uh=Dn,bc=Gd,aw=cr,lw=Te;function Te(e,t){if(!(this instanceof Te))return new Te(e,t);t=t||{},e&&typeof e=="object"&&(t=e,e=null),e?(e=bc(e),t.hostname=e.host,t.secure=e.protocol==="https"||e.protocol==="wss",t.port=e.port,e.query&&(t.query=e.query)):t.host&&(t.hostname=bc(t.host).host),this.secure=t.secure!=null?t.secure:typeof location<"u"&&location.protocol==="https:",t.hostname&&!t.port&&(t.port=this.secure?"443":"80"),this.agent=t.agent||!1,this.hostname=t.hostname||(typeof location<"u"?location.hostname:"localhost"),this.port=t.port||(typeof location<"u"&&location.port?location.port:this.secure?443:80),this.query=t.query||{},typeof this.query=="string"&&(this.query=aw.decode(this.query)),this.upgrade=t.upgrade!==!1,this.path=(t.path||"/engine.io").replace(/\/$/,"")+"/",this.forceJSONP=!!t.forceJSONP,this.jsonp=t.jsonp!==!1,this.forceBase64=!!t.forceBase64,this.enablesXDR=!!t.enablesXDR,this.withCredentials=t.withCredentials!==!1,this.timestampParam=t.timestampParam||"t",this.timestampRequests=t.timestampRequests,this.transports=t.transports||["polling","websocket"],this.transportOptions=t.transportOptions||{},this.readyState="",this.writeBuffer=[],this.prevBufferLen=0,this.policyPort=t.policyPort||843,this.rememberUpgrade=t.rememberUpgrade||!1,this.binaryType=null,this.onlyBinaryUpgrades=t.onlyBinaryUpgrades,this.perMessageDeflate=t.perMessageDeflate!==!1?t.perMessageDeflate||{}:!1,this.perMessageDeflate===!0&&(this.perMessageDeflate={}),this.perMessageDeflate&&this.perMessageDeflate.threshold==null&&(this.perMessageDeflate.threshold=1024),this.pfx=t.pfx||null,this.key=t.key||null,this.passphrase=t.passphrase||null,this.cert=t.cert||null,this.ca=t.ca||null,this.ciphers=t.ciphers||null,this.rejectUnauthorized=t.rejectUnauthorized===void 0?!0:t.rejectUnauthorized,this.forceNode=!!t.forceNode,this.isReactNative=typeof navigator<"u"&&typeof navigator.product=="string"&&navigator.product.toLowerCase()==="reactnative",(typeof self>"u"||this.isReactNative)&&(t.extraHeaders&&Object.keys(t.extraHeaders).length>0&&(this.extraHeaders=t.extraHeaders),t.localAddress&&(this.localAddress=t.localAddress)),this.id=null,this.upgrades=null,this.pingInterval=null,this.pingTimeout=null,this.pingIntervalTimer=null,this.pingTimeoutTimer=null,this.open()}Te.priorWebsocketSuccess=!1;ow(Te.prototype);Te.protocol=uh.protocol;Te.Socket=Te;Te.Transport=wa();Te.transports=Eo;Te.parser=Dn;Te.prototype.createTransport=function(e){Xe('creating transport "%s"',e);var t=uw(this.query);t.EIO=uh.protocol,t.transport=e;var n=this.transportOptions[e]||{};this.id&&(t.sid=this.id);var r=new iw[e]({query:t,socket:this,agent:n.agent||this.agent,hostname:n.hostname||this.hostname,port:n.port||this.port,secure:n.secure||this.secure,path:n.path||this.path,forceJSONP:n.forceJSONP||this.forceJSONP,jsonp:n.jsonp||this.jsonp,forceBase64:n.forceBase64||this.forceBase64,enablesXDR:n.enablesXDR||this.enablesXDR,withCredentials:n.withCredentials||this.withCredentials,timestampRequests:n.timestampRequests||this.timestampRequests,timestampParam:n.timestampParam||this.timestampParam,policyPort:n.policyPort||this.policyPort,pfx:n.pfx||this.pfx,key:n.key||this.key,passphrase:n.passphrase||this.passphrase,cert:n.cert||this.cert,ca:n.ca||this.ca,ciphers:n.ciphers||this.ciphers,rejectUnauthorized:n.rejectUnauthorized||this.rejectUnauthorized,perMessageDeflate:n.perMessageDeflate||this.perMessageDeflate,extraHeaders:n.extraHeaders||this.extraHeaders,forceNode:n.forceNode||this.forceNode,localAddress:n.localAddress||this.localAddress,requestTimeout:n.requestTimeout||this.requestTimeout,protocols:n.protocols||void 0,isReactNative:this.isReactNative});return r};function uw(e){var t={};for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t}Te.prototype.open=function(){var e;if(this.rememberUpgrade&&Te.priorWebsocketSuccess&&this.transports.indexOf("websocket")!==-1)e="websocket";else if(this.transports.length===0){var t=this;setTimeout(function(){t.emit("error","No transports available")},0);return}else e=this.transports[0];this.readyState="opening";try{e=this.createTransport(e)}catch{this.transports.shift(),this.open();return}e.open(),this.setTransport(e)};Te.prototype.setTransport=function(e){Xe("setting transport %s",e.name);var t=this;this.transport&&(Xe("clearing existing transport %s",this.transport.name),this.transport.removeAllListeners()),this.transport=e,e.on("drain",function(){t.onDrain()}).on("packet",function(n){t.onPacket(n)}).on("error",function(n){t.onError(n)}).on("close",function(){t.onClose("transport close")})};Te.prototype.probe=function(e){Xe('probing transport "%s"',e);var t=this.createTransport(e,{probe:1}),n=!1,r=this;Te.priorWebsocketSuccess=!1;function i(){if(r.onlyBinaryUpgrades){var a=!this.supportsBinary&&r.transport.supportsBinary;n=n||a}n||(Xe('probe transport "%s" opened',e),t.send([{type:"ping",data:"probe"}]),t.once("packet",function(l){if(!n)if(l.type==="pong"&&l.data==="probe"){if(Xe('probe transport "%s" pong',e),r.upgrading=!0,r.emit("upgrading",t),!t)return;Te.priorWebsocketSuccess=t.name==="websocket",Xe('pausing current transport "%s"',r.transport.name),r.transport.pause(function(){n||r.readyState!=="closed"&&(Xe("changing transport and sending upgrade packet"),u(),r.setTransport(t),t.send([{type:"upgrade"}]),r.emit("upgrade",t),t=null,r.upgrading=!1,r.flush())})}else{Xe('probe transport "%s" failed',e);var h=new Error("probe error");h.transport=t.name,r.emit("upgradeError",h)}}))}function o(){n||(n=!0,u(),t.close(),t=null)}function s(a){var l=new Error("probe error: "+a);l.transport=t.name,o(),Xe('probe transport "%s" failed because of error: %s',e,a),r.emit("upgradeError",l)}function c(){s("transport closed")}function f(){s("socket closed")}function d(a){t&&a.name!==t.name&&(Xe('"%s" works - aborting "%s"',a.name,t.name),o())}function u(){t.removeListener("open",i),t.removeListener("error",s),t.removeListener("close",c),r.removeListener("close",f),r.removeListener("upgrading",d)}t.once("open",i),t.once("error",s),t.once("close",c),this.once("close",f),this.once("upgrading",d),t.open()};Te.prototype.onOpen=function(){if(Xe("socket open"),this.readyState="open",Te.priorWebsocketSuccess=this.transport.name==="websocket",this.emit("open"),this.flush(),this.readyState==="open"&&this.upgrade&&this.transport.pause){Xe("starting upgrade probes");for(var e=0,t=this.upgrades.length;e<t;e++)this.probe(this.upgrades[e])}};Te.prototype.onPacket=function(e){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing")switch(Xe('socket receive: type "%s", data "%s"',e.type,e.data),this.emit("packet",e),this.emit("heartbeat"),e.type){case"open":this.onHandshake(JSON.parse(e.data));break;case"pong":this.setPing(),this.emit("pong");break;case"error":var t=new Error("server error");t.code=e.data,this.onError(t);break;case"message":this.emit("data",e.data),this.emit("message",e.data);break}else Xe('packet received with socket readyState "%s"',this.readyState)};Te.prototype.onHandshake=function(e){this.emit("handshake",e),this.id=e.sid,this.transport.query.sid=e.sid,this.upgrades=this.filterUpgrades(e.upgrades),this.pingInterval=e.pingInterval,this.pingTimeout=e.pingTimeout,this.onOpen(),this.readyState!=="closed"&&(this.setPing(),this.removeListener("heartbeat",this.onHeartbeat),this.on("heartbeat",this.onHeartbeat))};Te.prototype.onHeartbeat=function(e){clearTimeout(this.pingTimeoutTimer);var t=this;t.pingTimeoutTimer=setTimeout(function(){t.readyState!=="closed"&&t.onClose("ping timeout")},e||t.pingInterval+t.pingTimeout)};Te.prototype.setPing=function(){var e=this;clearTimeout(e.pingIntervalTimer),e.pingIntervalTimer=setTimeout(function(){Xe("writing ping packet - expecting pong within %sms",e.pingTimeout),e.ping(),e.onHeartbeat(e.pingTimeout)},e.pingInterval)};Te.prototype.ping=function(){var e=this;this.sendPacket("ping",function(){e.emit("ping")})};Te.prototype.onDrain=function(){this.writeBuffer.splice(0,this.prevBufferLen),this.prevBufferLen=0,this.writeBuffer.length===0?this.emit("drain"):this.flush()};Te.prototype.flush=function(){this.readyState!=="closed"&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length&&(Xe("flushing %d packets in socket",this.writeBuffer.length),this.transport.send(this.writeBuffer),this.prevBufferLen=this.writeBuffer.length,this.emit("flush"))};Te.prototype.write=Te.prototype.send=function(e,t,n){return this.sendPacket("message",e,t,n),this};Te.prototype.sendPacket=function(e,t,n,r){if(typeof t=="function"&&(r=t,t=void 0),typeof n=="function"&&(r=n,n=null),!(this.readyState==="closing"||this.readyState==="closed")){n=n||{},n.compress=n.compress!==!1;var i={type:e,data:t,options:n};this.emit("packetCreate",i),this.writeBuffer.push(i),r&&this.once("flush",r),this.flush()}};Te.prototype.close=function(){if(this.readyState==="opening"||this.readyState==="open"){this.readyState="closing";var e=this;this.writeBuffer.length?this.once("drain",function(){this.upgrading?r():t()}):this.upgrading?r():t()}function t(){e.onClose("forced close"),Xe("socket closing - telling transport to close"),e.transport.close()}function n(){e.removeListener("upgrade",n),e.removeListener("upgradeError",n),t()}function r(){e.once("upgrade",n),e.once("upgradeError",n)}return this};Te.prototype.onError=function(e){Xe("socket error %j",e),Te.priorWebsocketSuccess=!1,this.emit("error",e),this.onClose("transport error",e)};Te.prototype.onClose=function(e,t){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing"){Xe('socket close with reason: "%s"',e);var n=this;clearTimeout(this.pingIntervalTimer),clearTimeout(this.pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),this.readyState="closed",this.id=null,this.emit("close",e,t),n.writeBuffer=[],n.prevBufferLen=0}};Te.prototype.filterUpgrades=function(e){for(var t=[],n=0,r=e.length;n<r;n++)~sw(this.transports,e[n])&&t.push(e[n]);return t};Ea.exports=lw;Ea.exports.parser=Dn;var cw=Ea.exports,ch={exports:{}},fw=dw;function dw(e,t){var n=[];t=t||0;for(var r=t||0;r<e.length;r++)n[r-t]=e[r];return n}var fh=hw;function hw(e,t,n){return e.on(t,n),{destroy:function(){e.removeListener(t,n)}}}var Sc=[].slice,dh=function(e,t){if(typeof t=="string"&&(t=e[t]),typeof t!="function")throw new Error("bind() requires a function");var n=Sc.call(arguments,2);return function(){return t.apply(e,n.concat(Sc.call(arguments)))}};(function(e,t){var n=vo,r=ur,i=fw,o=fh,s=dh,c=Qt("socket.io-client:socket"),f=cr,d=Zd;e.exports=l;var u={connect:1,connect_error:1,connect_timeout:1,connecting:1,disconnect:1,error:1,reconnect:1,reconnect_attempt:1,reconnect_failed:1,reconnect_error:1,reconnecting:1,ping:1,pong:1},a=r.prototype.emit;function l(h,g,E){this.io=h,this.nsp=g,this.json=this,this.ids=0,this.acks={},this.receiveBuffer=[],this.sendBuffer=[],this.connected=!1,this.disconnected=!0,this.flags={},E&&E.query&&(this.query=E.query),this.io.autoConnect&&this.open()}r(l.prototype),l.prototype.subEvents=function(){if(!this.subs){var h=this.io;this.subs=[o(h,"open",s(this,"onopen")),o(h,"packet",s(this,"onpacket")),o(h,"close",s(this,"onclose"))]}},l.prototype.open=l.prototype.connect=function(){return this.connected?this:(this.subEvents(),this.io.reconnecting||this.io.open(),this.io.readyState==="open"&&this.onopen(),this.emit("connecting"),this)},l.prototype.send=function(){var h=i(arguments);return h.unshift("message"),this.emit.apply(this,h),this},l.prototype.emit=function(h){if(u.hasOwnProperty(h))return a.apply(this,arguments),this;var g=i(arguments),E={type:(this.flags.binary!==void 0?this.flags.binary:d(g))?n.BINARY_EVENT:n.EVENT,data:g};return E.options={},E.options.compress=!this.flags||this.flags.compress!==!1,typeof g[g.length-1]=="function"&&(c("emitting packet with ack id %d",this.ids),this.acks[this.ids]=g.pop(),E.id=this.ids++),this.connected?this.packet(E):this.sendBuffer.push(E),this.flags={},this},l.prototype.packet=function(h){h.nsp=this.nsp,this.io.packet(h)},l.prototype.onopen=function(){if(c("transport is open - connecting"),this.nsp!=="/")if(this.query){var h=typeof this.query=="object"?f.encode(this.query):this.query;c("sending connect packet with query %s",h),this.packet({type:n.CONNECT,query:h})}else this.packet({type:n.CONNECT})},l.prototype.onclose=function(h){c("close (%s)",h),this.connected=!1,this.disconnected=!0,delete this.id,this.emit("disconnect",h)},l.prototype.onpacket=function(h){var g=h.nsp===this.nsp,E=h.type===n.ERROR&&h.nsp==="/";if(!(!g&&!E))switch(h.type){case n.CONNECT:this.onconnect();break;case n.EVENT:this.onevent(h);break;case n.BINARY_EVENT:this.onevent(h);break;case n.ACK:this.onack(h);break;case n.BINARY_ACK:this.onack(h);break;case n.DISCONNECT:this.ondisconnect();break;case n.ERROR:this.emit("error",h.data);break}},l.prototype.onevent=function(h){var g=h.data||[];c("emitting event %j",g),h.id!=null&&(c("attaching ack callback to event"),g.push(this.ack(h.id))),this.connected?a.apply(this,g):this.receiveBuffer.push(g)},l.prototype.ack=function(h){var g=this,E=!1;return function(){if(!E){E=!0;var y=i(arguments);c("sending ack %j",y),g.packet({type:d(y)?n.BINARY_ACK:n.ACK,id:h,data:y})}}},l.prototype.onack=function(h){var g=this.acks[h.id];typeof g=="function"?(c("calling ack %s with %j",h.id,h.data),g.apply(this,h.data),delete this.acks[h.id]):c("bad ack %s",h.id)},l.prototype.onconnect=function(){this.connected=!0,this.disconnected=!1,this.emit("connect"),this.emitBuffered()},l.prototype.emitBuffered=function(){var h;for(h=0;h<this.receiveBuffer.length;h++)a.apply(this,this.receiveBuffer[h]);for(this.receiveBuffer=[],h=0;h<this.sendBuffer.length;h++)this.packet(this.sendBuffer[h]);this.sendBuffer=[]},l.prototype.ondisconnect=function(){c("server disconnect (%s)",this.nsp),this.destroy(),this.onclose("io server disconnect")},l.prototype.destroy=function(){if(this.subs){for(var h=0;h<this.subs.length;h++)this.subs[h].destroy();this.subs=null}this.io.destroy(this)},l.prototype.close=l.prototype.disconnect=function(){return this.connected&&(c("performing disconnect (%s)",this.nsp),this.packet({type:n.DISCONNECT})),this.destroy(),this.connected&&this.onclose("io client disconnect"),this},l.prototype.compress=function(h){return this.flags.compress=h,this},l.prototype.binary=function(h){return this.flags.binary=h,this}})(ch);var hh=ch.exports,pw=hr;function hr(e){e=e||{},this.ms=e.min||100,this.max=e.max||1e4,this.factor=e.factor||2,this.jitter=e.jitter>0&&e.jitter<=1?e.jitter:0,this.attempts=0}hr.prototype.duration=function(){var e=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var t=Math.random(),n=Math.floor(t*this.jitter*e);e=Math.floor(t*10)&1?e+n:e-n}return Math.min(e,this.max)|0};hr.prototype.reset=function(){this.attempts=0};hr.prototype.setMin=function(e){this.ms=e};hr.prototype.setMax=function(e){this.max=e};hr.prototype.setJitter=function(e){this.jitter=e};var mw=cw,_w=hh,gw=ur,vw=vo,cn=fh,Vn=dh,ct=Qt("socket.io-client:manager"),ph=lh,yw=pw,mh=Object.prototype.hasOwnProperty,wc=Be;function Be(e,t){if(!(this instanceof Be))return new Be(e,t);e&&typeof e=="object"&&(t=e,e=void 0),t=t||{},t.path=t.path||"/socket.io",this.nsps={},this.subs=[],this.opts=t,this.reconnection(t.reconnection!==!1),this.reconnectionAttempts(t.reconnectionAttempts||1/0),this.reconnectionDelay(t.reconnectionDelay||1e3),this.reconnectionDelayMax(t.reconnectionDelayMax||5e3),this.randomizationFactor(t.randomizationFactor||.5),this.backoff=new yw({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(t.timeout==null?2e4:t.timeout),this.readyState="closed",this.uri=e,this.connecting=[],this.lastPing=null,this.encoding=!1,this.packetBuffer=[];var n=t.parser||vw;this.encoder=new n.Encoder,this.decoder=new n.Decoder,this.autoConnect=t.autoConnect!==!1,this.autoConnect&&this.open()}Be.prototype.emitAll=function(){this.emit.apply(this,arguments);for(var e in this.nsps)mh.call(this.nsps,e)&&this.nsps[e].emit.apply(this.nsps[e],arguments)};Be.prototype.updateSocketIds=function(){for(var e in this.nsps)mh.call(this.nsps,e)&&(this.nsps[e].id=this.generateId(e))};Be.prototype.generateId=function(e){return(e==="/"?"":e+"#")+this.engine.id};gw(Be.prototype);Be.prototype.reconnection=function(e){return arguments.length?(this._reconnection=!!e,this):this._reconnection};Be.prototype.reconnectionAttempts=function(e){return arguments.length?(this._reconnectionAttempts=e,this):this._reconnectionAttempts};Be.prototype.reconnectionDelay=function(e){return arguments.length?(this._reconnectionDelay=e,this.backoff&&this.backoff.setMin(e),this):this._reconnectionDelay};Be.prototype.randomizationFactor=function(e){return arguments.length?(this._randomizationFactor=e,this.backoff&&this.backoff.setJitter(e),this):this._randomizationFactor};Be.prototype.reconnectionDelayMax=function(e){return arguments.length?(this._reconnectionDelayMax=e,this.backoff&&this.backoff.setMax(e),this):this._reconnectionDelayMax};Be.prototype.timeout=function(e){return arguments.length?(this._timeout=e,this):this._timeout};Be.prototype.maybeReconnectOnOpen=function(){!this.reconnecting&&this._reconnection&&this.backoff.attempts===0&&this.reconnect()};Be.prototype.open=Be.prototype.connect=function(e,t){if(ct("readyState %s",this.readyState),~this.readyState.indexOf("open"))return this;ct("opening %s",this.uri),this.engine=mw(this.uri,this.opts);var n=this.engine,r=this;this.readyState="opening",this.skipReconnect=!1;var i=cn(n,"open",function(){r.onopen(),e&&e()}),o=cn(n,"error",function(f){if(ct("connect_error"),r.cleanup(),r.readyState="closed",r.emitAll("connect_error",f),e){var d=new Error("Connection error");d.data=f,e(d)}else r.maybeReconnectOnOpen()});if(this._timeout!==!1){var s=this._timeout;ct("connect attempt will timeout after %d",s),s===0&&i.destroy();var c=setTimeout(function(){ct("connect attempt timed out after %d",s),i.destroy(),n.close(),n.emit("error","timeout"),r.emitAll("connect_timeout",s)},s);this.subs.push({destroy:function(){clearTimeout(c)}})}return this.subs.push(i),this.subs.push(o),this};Be.prototype.onopen=function(){ct("open"),this.cleanup(),this.readyState="open",this.emit("open");var e=this.engine;this.subs.push(cn(e,"data",Vn(this,"ondata"))),this.subs.push(cn(e,"ping",Vn(this,"onping"))),this.subs.push(cn(e,"pong",Vn(this,"onpong"))),this.subs.push(cn(e,"error",Vn(this,"onerror"))),this.subs.push(cn(e,"close",Vn(this,"onclose"))),this.subs.push(cn(this.decoder,"decoded",Vn(this,"ondecoded")))};Be.prototype.onping=function(){this.lastPing=new Date,this.emitAll("ping")};Be.prototype.onpong=function(){this.emitAll("pong",new Date-this.lastPing)};Be.prototype.ondata=function(e){this.decoder.add(e)};Be.prototype.ondecoded=function(e){this.emit("packet",e)};Be.prototype.onerror=function(e){ct("error",e),this.emitAll("error",e)};Be.prototype.socket=function(e,t){var n=this.nsps[e];if(!n){n=new _w(this,e,t),this.nsps[e]=n;var r=this;n.on("connecting",i),n.on("connect",function(){n.id=r.generateId(e)}),this.autoConnect&&i()}function i(){~ph(r.connecting,n)||r.connecting.push(n)}return n};Be.prototype.destroy=function(e){var t=ph(this.connecting,e);~t&&this.connecting.splice(t,1),!this.connecting.length&&this.close()};Be.prototype.packet=function(e){ct("writing packet %j",e);var t=this;e.query&&e.type===0&&(e.nsp+="?"+e.query),t.encoding?t.packetBuffer.push(e):(t.encoding=!0,this.encoder.encode(e,function(n){for(var r=0;r<n.length;r++)t.engine.write(n[r],e.options);t.encoding=!1,t.processPacketQueue()}))};Be.prototype.processPacketQueue=function(){if(this.packetBuffer.length>0&&!this.encoding){var e=this.packetBuffer.shift();this.packet(e)}};Be.prototype.cleanup=function(){ct("cleanup");for(var e=this.subs.length,t=0;t<e;t++){var n=this.subs.shift();n.destroy()}this.packetBuffer=[],this.encoding=!1,this.lastPing=null,this.decoder.destroy()};Be.prototype.close=Be.prototype.disconnect=function(){ct("disconnect"),this.skipReconnect=!0,this.reconnecting=!1,this.readyState==="opening"&&this.cleanup(),this.backoff.reset(),this.readyState="closed",this.engine&&this.engine.close()};Be.prototype.onclose=function(e){ct("onclose"),this.cleanup(),this.backoff.reset(),this.readyState="closed",this.emit("close",e),this._reconnection&&!this.skipReconnect&&this.reconnect()};Be.prototype.reconnect=function(){if(this.reconnecting||this.skipReconnect)return this;var e=this;if(this.backoff.attempts>=this._reconnectionAttempts)ct("reconnect failed"),this.backoff.reset(),this.emitAll("reconnect_failed"),this.reconnecting=!1;else{var t=this.backoff.duration();ct("will wait %dms before reconnect attempt",t),this.reconnecting=!0;var n=setTimeout(function(){e.skipReconnect||(ct("attempting reconnect"),e.emitAll("reconnect_attempt",e.backoff.attempts),e.emitAll("reconnecting",e.backoff.attempts),!e.skipReconnect&&e.open(function(r){r?(ct("reconnect attempt error"),e.reconnecting=!1,e.reconnect(),e.emitAll("reconnect_error",r.data)):(ct("reconnect success"),e.onreconnect())}))},t);this.subs.push({destroy:function(){clearTimeout(n)}})}};Be.prototype.onreconnect=function(){var e=this.backoff.attempts;this.reconnecting=!1,this.backoff.reset(),this.updateSocketIds(),this.emitAll("reconnect",e)};(function(e,t){var n=Qb,r=vo,i=wc,o=Qt("socket.io-client");e.exports=t=c;var s=t.managers={};function c(f,d){typeof f=="object"&&(d=f,f=void 0),d=d||{};var u=n(f),a=u.source,l=u.id,h=u.path,g=s[l]&&h in s[l].nsps,E=d.forceNew||d["force new connection"]||d.multiplex===!1||g,y;return E?(o("ignoring socket cache for %s",a),y=i(a,d)):(s[l]||(o("new io instance for %s",a),s[l]=i(a,d)),y=s[l]),u.query&&!d.query&&(d.query=u.query),y.socket(u.path,d)}t.protocol=r.protocol,t.connect=c,t.Manager=wc,t.Socket=hh})(Ss,Ss.exports);var Ew=Ss.exports;const xw=Wd(Ew);class bw{constructor(){}init(t){this.client=xw(t),this.client.on("connect",()=>{console.info("socket connected")})}}const _h=new bw;class Sw{constructor(t,n,r){this.sourceId=t,this.canvasId=n,this.width=r,this.rate=r/640,this.height=Math.round(360*this.rate)}init(){this.source=document.getElementById(this.sourceId),this.canvas=document.getElementById(this.canvasId),this.canvasContext=this.canvas.getContext("2d"),this.canvas.setAttribute("width",this.width.toString()),this.canvas.setAttribute("height",this.height.toString())}destroyPlayer(){this.player&&(this.player.pause(),this.player.unload(),this.player.detachMediaElement(),this.player.destroy())}connect(t){this.player&&this.destroyPlayer(),dc.isSupported()&&(this.player=dc.createPlayer({type:"flv",isLive:!0,url:t},{enableStashBuffer:!1,stashInitialSize:128}),this.player.attachMediaElement(this.source),this.player.load(),this.player.play())}pointTrans(t){return Math.round(t*this.rate)}play(){_h.client.on("camera:data",({hands:t,fingers:n,isLock:r})=>{this.canvasContext.drawImage(this.source,0,0,this.width,this.height);for(const i in t){this.canvasContext.strokeStyle=r?"red":"green",this.canvasContext.lineWidth=3;let{x0:o,x1:s,y0:c,y1:f}=t[i];o=Math.round(o*this.rate),s=Math.round(s*this.rate),c=Math.round(c*this.rate),f=Math.round(f*this.rate);const d=f-c,u=s-o;this.canvasContext.strokeRect(o,c,u,d),this.canvasContext.lineWidth=1,this.canvasContext.strokeText(r?`hand[${i}] locked`:`hand[${i}]`,o,c)}})}pause(){this.player.pause(),clearInterval(this.timer)}callback(){this.canvasContext.drawImage(this.source,0,0,640,360)}}const ww=Ce("canvas",{id:"canvas"},null,-1),Aw=Ce("video",{id:"source","h-0":""},null,-1),Cw=[ww,Aw],Lw=Le({__name:"CameraMonitor",setup(e){const t=ie(""),n=`wss://${document.domain}:${window.location.port}/stream?${Pb.value}`,r=new Sw("source","canvas",300),i=ie(),{width:o,height:s}=pv(i);return Et(()=>{r.init(),r.play()}),(c,f)=>{const d=fd;return Ke(),xn("div",null,[Ce("div",null,[Ce("div",{ref_key:"container",ref:i,"bg-gray-200":""},Cw,512),Ut(" "+tt(xe(o))+" "+tt(xe(s)),1)]),Ce("div",null,tt(xe(t)),1),B(d,{type:"primary",onClick:f[0]||(f[0]=u=>xe(r).connect(n))},{default:me(()=>[Ut("  ")]),_:1})])}}}),Rw={"w-100vw":""},Tw=Ce("span",{"i-fluent:camera-dome-24-filled":"","m-auto":"","mr-0.5em":"","text-lg":""},null,-1),Ow={class:"custom-title"},Pw={style:{margin:"16px"}},Iw=Le({__name:"camera",setup(e){const{isFetching:t,data:n,error:r,execute:i}=Vr("/api/camera/list").json(),o=ie(!1),s=ie("admin"),c=ie("123456"),f=ie("");function d(h){o.value=!0,f.value=h}async function u(){const h={username:s.value,password:c.value,urn:f.value};await Vr("/api/camera/login").post(h).json(),o.value=!1,a.value=!0}const a=ie(!1);function l(){i()}return(h,g)=>{const E=gd,y=lr,m=Lw,_=ri,x=M_,p=fd,v=dd,b=Sd;return Ke(),lt(b,{modelValue:xe(t),"onUpdate:modelValue":g[4]||(g[4]=w=>ke(t)?t.value=w:null),onRefresh:l},{default:me(()=>[Ce("div",Rw,[B(_,{inset:"",title:""},{default:me(()=>{var w;return[(Ke(!0),xn(Qe,null,Of(((w=xe(n))==null?void 0:w.list)??[],(A,T)=>(Ke(),lt(_,{key:T},{default:me(()=>[B(y,{"is-link":"",onClick:P=>d(A.urn)},{icon:me(()=>[Tw]),title:me(()=>[Ce("span",Ow,tt(A.hostname),1),B(E,{type:"primary",plain:""},{default:me(()=>[Ut("  ")]),_:1})]),_:2},1032,["onClick"]),xe(a)?(Ke(),lt(y,{key:0},{default:me(()=>[B(m)]),_:1})):cs("",!0)]),_:2},1024))),128)),xe(n)===null||xe(n).list.length===0?(Ke(),lt(y,{key:0,title:""})):cs("",!0)]}),_:1}),Ut(" "+tt(h.width)+" "+tt(h.height)+" ",1),B(v,{show:xe(o),"onUpdate:show":g[3]||(g[3]=w=>ke(o)?o.value=w:null),round:"","p-1em":""},{default:me(()=>[B(_,{inset:""},{default:me(()=>[B(x,{modelValue:xe(s),"onUpdate:modelValue":g[0]||(g[0]=w=>ke(s)?s.value=w:null),name:"",label:"",placeholder:""},null,8,["modelValue"]),B(x,{modelValue:xe(c),"onUpdate:modelValue":g[1]||(g[1]=w=>ke(c)?c.value=w:null),type:"password",name:"",label:"",placeholder:""},null,8,["modelValue"])]),_:1}),Ce("div",Pw,[B(p,{round:"",block:"",type:"primary",onClick:g[2]||(g[2]=w=>u())},{default:me(()=>[Ut("  ")]),_:1})])]),_:1},8,["show"])])]),_:1},8,["modelValue"])}}}),Fw=(e,t)=>{const n=e.__vccOpts||e;for(const[r,i]of t)n[r]=i;return n},Bw={},Dw={"w-100vw":""},Mw=Ce("span",{"i-clarity:cursor-hand-open-line":"","m-auto":"","mr-0.5em":""},null,-1),kw=Ce("span",{"i-ph:hand-fist":"","m-auto":"","mr-0.5em":""},null,-1);function Nw(e,t){const n=lr,r=ri;return Ke(),xn("div",Dw,[B(r,{title:""},{default:me(()=>[B(n,{title:""},{icon:me(()=>[Mw]),_:1}),B(n,{title:""},{icon:me(()=>[kw]),_:1})]),_:1}),B(r,{title:""},{default:me(()=>[B(n,{title:"1",label:"",value:""}),B(n,{title:"",label:"",value:""})]),_:1})])}const jw=Fw(Bw,[["render",Nw]]);function Uw(){const e=ie(),t=n=>{e.value=n.orientation};return Mt.orientation.state().then(t),Mt.onAction("orientation",t),e}function Vw(){const e=ie(),t=n=>{e.value=n.safeAreaInsets};return Mt.layout.safeArea().then(t),Mt.onAction("orientation",t),e}function Hw(){const e=ie();return Mt.env().then(t=>{e.value=t}),e}function Kw(){const e=ie(),t=n=>{e.value=n.theme};return Mt.theme().then(t),Mt.onAction("theme",t),e}const Ww=Uw(),Sr=Vw(),zw=Hw(),Gw=Kw(),$w=Le({__name:"debug",setup(e){async function t(i){return(await Mt.orientation.lock(i)).success}async function n(){return(await Mt.orientation.unlock()).success}function r(){X_("")}return(i,o)=>{const s=Cg,c=bg;return Ke(),xn("div",null,[Ce("div",null,"orientation: "+tt("edgerOrientation"in i?i.edgerOrientation:xe(Ww)),1),Ce("div",null,"safeAreaInsets: "+tt("edgerSafeAreaInsets"in i?i.edgerSafeAreaInsets:xe(Sr)),1),Ce("div",null,"env: "+tt("edgerEnvInfo"in i?i.edgerEnvInfo:xe(zw)),1),Ce("div",null,"theme: "+tt("edgerTheme"in i?i.edgerTheme:xe(Gw)),1),Ce("div",null,"token: "+tt("authTokenHeader"in i?i.authTokenHeader:xe(go)),1),B(c,{square:""},{default:me(()=>[B(s,{text:"",to:"/other-page"}),B(s,{text:"WebRTC",to:"/test/webrtc"}),B(s,{text:"",onClick:o[0]||(o[0]=f=>t("landscape"))}),B(s,{text:"",onClick:o[1]||(o[1]=f=>t("portrait"))}),B(s,{text:"",onClick:o[2]||(o[2]=f=>n())}),B(s,{text:"Toast",onClick:o[3]||(o[3]=f=>r("hello"))})]),_:1})])}}}),qw=Ce("div",null,"WebRTC ",-1),Xw=Ce("div",null,[Ce("video",{id:"video",controls:"",autoplay:"","h-30vh":"","w-80vw":""})],-1),Yw=Le({__name:"webrtc",setup(e){const t=ie("");return Et(()=>{navigator.mediaDevices.getUserMedia({audio:!0,video:!0}).then(n=>{const r=document.getElementById("video");r.srcObject=n,t.value="ok"}).catch(n=>{t.value=n})}),(n,r)=>(Ke(),xn(Qe,null,[qw,Xw,Ce("div",null,""+tt(xe(t)),1)],64))}}),Ac=[{path:"/:all(.*)",name:"/[...all]",component:Qg},{path:"/action",name:"/action",component:jb},{path:"/camera",name:"/camera",component:Iw},{path:"/recognition",name:"/recognition",component:jw},{path:"/test",children:[{path:"debug",name:"/test/debug",component:$w},{path:"webrtc",name:"/test/webrtc",component:Yw}]}];/*!
  * vue-router v4.3.0
  * (c) 2024 Eduardo San Martin Morote
  * @license MIT
  */const Kn=typeof document<"u";function Jw(e){return e.__esModule||e[Symbol.toStringTag]==="Module"}const Me=Object.assign;function Xo(e,t){const n={};for(const r in t){const i=t[r];n[r]=kt(i)?i.map(e):e(i)}return n}const Br=()=>{},kt=Array.isArray,gh=/#/g,Zw=/&/g,Qw=/\//g,eA=/=/g,tA=/\?/g,vh=/\+/g,nA=/%5B/g,rA=/%5D/g,yh=/%5E/g,iA=/%60/g,Eh=/%7B/g,oA=/%7C/g,xh=/%7D/g,sA=/%20/g;function Ta(e){return encodeURI(""+e).replace(oA,"|").replace(nA,"[").replace(rA,"]")}function aA(e){return Ta(e).replace(Eh,"{").replace(xh,"}").replace(yh,"^")}function Ps(e){return Ta(e).replace(vh,"%2B").replace(sA,"+").replace(gh,"%23").replace(Zw,"%26").replace(iA,"`").replace(Eh,"{").replace(xh,"}").replace(yh,"^")}function lA(e){return Ps(e).replace(eA,"%3D")}function uA(e){return Ta(e).replace(gh,"%23").replace(tA,"%3F")}function cA(e){return e==null?"":uA(e).replace(Qw,"%2F")}function Gr(e){try{return decodeURIComponent(""+e)}catch{}return""+e}const fA=/\/$/,dA=e=>e.replace(fA,"");function Yo(e,t,n="/"){let r,i={},o="",s="";const c=t.indexOf("#");let f=t.indexOf("?");return c<f&&c>=0&&(f=-1),f>-1&&(r=t.slice(0,f),o=t.slice(f+1,c>-1?c:t.length),i=e(o)),c>-1&&(r=r||t.slice(0,c),s=t.slice(c,t.length)),r=_A(r??t,n),{fullPath:r+(o&&"?")+o+s,path:r,query:i,hash:Gr(s)}}function hA(e,t){const n=t.query?e(t.query):"";return t.path+(n&&"?")+n+(t.hash||"")}function Cc(e,t){return!t||!e.toLowerCase().startsWith(t.toLowerCase())?e:e.slice(t.length)||"/"}function pA(e,t,n){const r=t.matched.length-1,i=n.matched.length-1;return r>-1&&r===i&&nr(t.matched[r],n.matched[i])&&bh(t.params,n.params)&&e(t.query)===e(n.query)&&t.hash===n.hash}function nr(e,t){return(e.aliasOf||e)===(t.aliasOf||t)}function bh(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const n in e)if(!mA(e[n],t[n]))return!1;return!0}function mA(e,t){return kt(e)?Lc(e,t):kt(t)?Lc(t,e):e===t}function Lc(e,t){return kt(t)?e.length===t.length&&e.every((n,r)=>n===t[r]):e.length===1&&e[0]===t}function _A(e,t){if(e.startsWith("/"))return e;if(!e)return t;const n=t.split("/"),r=e.split("/"),i=r[r.length-1];(i===".."||i===".")&&r.push("");let o=n.length-1,s,c;for(s=0;s<r.length;s++)if(c=r[s],c!==".")if(c==="..")o>1&&o--;else break;return n.slice(0,o).join("/")+"/"+r.slice(s).join("/")}var $r;(function(e){e.pop="pop",e.push="push"})($r||($r={}));var Dr;(function(e){e.back="back",e.forward="forward",e.unknown=""})(Dr||(Dr={}));function gA(e){if(!e)if(Kn){const t=document.querySelector("base");e=t&&t.getAttribute("href")||"/",e=e.replace(/^\w+:\/\/[^\/]+/,"")}else e="/";return e[0]!=="/"&&e[0]!=="#"&&(e="/"+e),dA(e)}const vA=/^[^#]+#/;function yA(e,t){return e.replace(vA,"#")+t}function EA(e,t){const n=document.documentElement.getBoundingClientRect(),r=e.getBoundingClientRect();return{behavior:t.behavior,left:r.left-n.left-(t.left||0),top:r.top-n.top-(t.top||0)}}const bo=()=>({left:window.scrollX,top:window.scrollY});function xA(e){let t;if("el"in e){const n=e.el,r=typeof n=="string"&&n.startsWith("#"),i=typeof n=="string"?r?document.getElementById(n.slice(1)):document.querySelector(n):n;if(!i)return;t=EA(i,e)}else t=e;"scrollBehavior"in document.documentElement.style?window.scrollTo(t):window.scrollTo(t.left!=null?t.left:window.scrollX,t.top!=null?t.top:window.scrollY)}function Rc(e,t){return(history.state?history.state.position-t:-1)+e}const Is=new Map;function bA(e,t){Is.set(e,t)}function SA(e){const t=Is.get(e);return Is.delete(e),t}let wA=()=>location.protocol+"//"+location.host;function Sh(e,t){const{pathname:n,search:r,hash:i}=t,o=e.indexOf("#");if(o>-1){let c=i.includes(e.slice(o))?e.slice(o).length:1,f=i.slice(c);return f[0]!=="/"&&(f="/"+f),Cc(f,"")}return Cc(n,e)+r+i}function AA(e,t,n,r){let i=[],o=[],s=null;const c=({state:l})=>{const h=Sh(e,location),g=n.value,E=t.value;let y=0;if(l){if(n.value=h,t.value=l,s&&s===g){s=null;return}y=E?l.position-E.position:0}else r(h);i.forEach(m=>{m(n.value,g,{delta:y,type:$r.pop,direction:y?y>0?Dr.forward:Dr.back:Dr.unknown})})};function f(){s=n.value}function d(l){i.push(l);const h=()=>{const g=i.indexOf(l);g>-1&&i.splice(g,1)};return o.push(h),h}function u(){const{history:l}=window;l.state&&l.replaceState(Me({},l.state,{scroll:bo()}),"")}function a(){for(const l of o)l();o=[],window.removeEventListener("popstate",c),window.removeEventListener("beforeunload",u)}return window.addEventListener("popstate",c),window.addEventListener("beforeunload",u,{passive:!0}),{pauseListeners:f,listen:d,destroy:a}}function Tc(e,t,n,r=!1,i=!1){return{back:e,current:t,forward:n,replaced:r,position:window.history.length,scroll:i?bo():null}}function CA(e){const{history:t,location:n}=window,r={value:Sh(e,n)},i={value:t.state};i.value||o(r.value,{back:null,current:r.value,forward:null,position:t.length-1,replaced:!0,scroll:null},!0);function o(f,d,u){const a=e.indexOf("#"),l=a>-1?(n.host&&document.querySelector("base")?e:e.slice(a))+f:wA()+e+f;try{t[u?"replaceState":"pushState"](d,"",l),i.value=d}catch(h){console.error(h),n[u?"replace":"assign"](l)}}function s(f,d){const u=Me({},t.state,Tc(i.value.back,f,i.value.forward,!0),d,{position:i.value.position});o(f,u,!0),r.value=f}function c(f,d){const u=Me({},i.value,t.state,{forward:f,scroll:bo()});o(u.current,u,!0);const a=Me({},Tc(r.value,f,null),{position:u.position+1},d);o(f,a,!1),r.value=f}return{location:r,state:i,push:c,replace:s}}function LA(e){e=gA(e);const t=CA(e),n=AA(e,t.state,t.location,t.replace);function r(o,s=!0){s||n.pauseListeners(),history.go(o)}const i=Me({location:"",base:e,go:r,createHref:yA.bind(null,e)},t,n);return Object.defineProperty(i,"location",{enumerable:!0,get:()=>t.location.value}),Object.defineProperty(i,"state",{enumerable:!0,get:()=>t.state.value}),i}function RA(e){return e=location.host?e||location.pathname+location.search:"",e.includes("#")||(e+="#"),LA(e)}function TA(e){return typeof e=="string"||e&&typeof e=="object"}function wh(e){return typeof e=="string"||typeof e=="symbol"}const on={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0},Ah=Symbol("");var Oc;(function(e){e[e.aborted=4]="aborted",e[e.cancelled=8]="cancelled",e[e.duplicated=16]="duplicated"})(Oc||(Oc={}));function rr(e,t){return Me(new Error,{type:e,[Ah]:!0},t)}function Gt(e,t){return e instanceof Error&&Ah in e&&(t==null||!!(e.type&t))}const Pc="[^/]+?",OA={sensitive:!1,strict:!1,start:!0,end:!0},PA=/[.+*?^${}()[\]/\\]/g;function IA(e,t){const n=Me({},OA,t),r=[];let i=n.start?"^":"";const o=[];for(const d of e){const u=d.length?[]:[90];n.strict&&!d.length&&(i+="/");for(let a=0;a<d.length;a++){const l=d[a];let h=40+(n.sensitive?.25:0);if(l.type===0)a||(i+="/"),i+=l.value.replace(PA,"\\$&"),h+=40;else if(l.type===1){const{value:g,repeatable:E,optional:y,regexp:m}=l;o.push({name:g,repeatable:E,optional:y});const _=m||Pc;if(_!==Pc){h+=10;try{new RegExp(`(${_})`)}catch(p){throw new Error(`Invalid custom RegExp for param "${g}" (${_}): `+p.message)}}let x=E?`((?:${_})(?:/(?:${_}))*)`:`(${_})`;a||(x=y&&d.length<2?`(?:/${x})`:"/"+x),y&&(x+="?"),i+=x,h+=20,y&&(h+=-8),E&&(h+=-20),_===".*"&&(h+=-50)}u.push(h)}r.push(u)}if(n.strict&&n.end){const d=r.length-1;r[d][r[d].length-1]+=.7000000000000001}n.strict||(i+="/?"),n.end?i+="$":n.strict&&(i+="(?:/|$)");const s=new RegExp(i,n.sensitive?"":"i");function c(d){const u=d.match(s),a={};if(!u)return null;for(let l=1;l<u.length;l++){const h=u[l]||"",g=o[l-1];a[g.name]=h&&g.repeatable?h.split("/"):h}return a}function f(d){let u="",a=!1;for(const l of e){(!a||!u.endsWith("/"))&&(u+="/"),a=!1;for(const h of l)if(h.type===0)u+=h.value;else if(h.type===1){const{value:g,repeatable:E,optional:y}=h,m=g in d?d[g]:"";if(kt(m)&&!E)throw new Error(`Provided param "${g}" is an array but it is not repeatable (* or + modifiers)`);const _=kt(m)?m.join("/"):m;if(!_)if(y)l.length<2&&(u.endsWith("/")?u=u.slice(0,-1):a=!0);else throw new Error(`Missing required param "${g}"`);u+=_}}return u||"/"}return{re:s,score:r,keys:o,parse:c,stringify:f}}function FA(e,t){let n=0;for(;n<e.length&&n<t.length;){const r=t[n]-e[n];if(r)return r;n++}return e.length<t.length?e.length===1&&e[0]===80?-1:1:e.length>t.length?t.length===1&&t[0]===80?1:-1:0}function BA(e,t){let n=0;const r=e.score,i=t.score;for(;n<r.length&&n<i.length;){const o=FA(r[n],i[n]);if(o)return o;n++}if(Math.abs(i.length-r.length)===1){if(Ic(r))return 1;if(Ic(i))return-1}return i.length-r.length}function Ic(e){const t=e[e.length-1];return e.length>0&&t[t.length-1]<0}const DA={type:0,value:""},MA=/[a-zA-Z0-9_]/;function kA(e){if(!e)return[[]];if(e==="/")return[[DA]];if(!e.startsWith("/"))throw new Error(`Invalid path "${e}"`);function t(h){throw new Error(`ERR (${n})/"${d}": ${h}`)}let n=0,r=n;const i=[];let o;function s(){o&&i.push(o),o=[]}let c=0,f,d="",u="";function a(){d&&(n===0?o.push({type:0,value:d}):n===1||n===2||n===3?(o.length>1&&(f==="*"||f==="+")&&t(`A repeatable param (${d}) must be alone in its segment. eg: '/:ids+.`),o.push({type:1,value:d,regexp:u,repeatable:f==="*"||f==="+",optional:f==="*"||f==="?"})):t("Invalid state to consume buffer"),d="")}function l(){d+=f}for(;c<e.length;){if(f=e[c++],f==="\\"&&n!==2){r=n,n=4;continue}switch(n){case 0:f==="/"?(d&&a(),s()):f===":"?(a(),n=1):l();break;case 4:l(),n=r;break;case 1:f==="("?n=2:MA.test(f)?l():(a(),n=0,f!=="*"&&f!=="?"&&f!=="+"&&c--);break;case 2:f===")"?u[u.length-1]=="\\"?u=u.slice(0,-1)+f:n=3:u+=f;break;case 3:a(),n=0,f!=="*"&&f!=="?"&&f!=="+"&&c--,u="";break;default:t("Unknown state");break}}return n===2&&t(`Unfinished custom RegExp for param "${d}"`),a(),s(),i}function NA(e,t,n){const r=IA(kA(e.path),n),i=Me(r,{record:e,parent:t,children:[],alias:[]});return t&&!i.record.aliasOf==!t.record.aliasOf&&t.children.push(i),i}function jA(e,t){const n=[],r=new Map;t=Dc({strict:!1,end:!0,sensitive:!1},t);function i(u){return r.get(u)}function o(u,a,l){const h=!l,g=UA(u);g.aliasOf=l&&l.record;const E=Dc(t,u),y=[g];if("alias"in u){const x=typeof u.alias=="string"?[u.alias]:u.alias;for(const p of x)y.push(Me({},g,{components:l?l.record.components:g.components,path:p,aliasOf:l?l.record:g}))}let m,_;for(const x of y){const{path:p}=x;if(a&&p[0]!=="/"){const v=a.record.path,b=v[v.length-1]==="/"?"":"/";x.path=a.record.path+(p&&b+p)}if(m=NA(x,a,E),l?l.alias.push(m):(_=_||m,_!==m&&_.alias.push(m),h&&u.name&&!Bc(m)&&s(u.name)),g.children){const v=g.children;for(let b=0;b<v.length;b++)o(v[b],m,l&&l.children[b])}l=l||m,(m.record.components&&Object.keys(m.record.components).length||m.record.name||m.record.redirect)&&f(m)}return _?()=>{s(_)}:Br}function s(u){if(wh(u)){const a=r.get(u);a&&(r.delete(u),n.splice(n.indexOf(a),1),a.children.forEach(s),a.alias.forEach(s))}else{const a=n.indexOf(u);a>-1&&(n.splice(a,1),u.record.name&&r.delete(u.record.name),u.children.forEach(s),u.alias.forEach(s))}}function c(){return n}function f(u){let a=0;for(;a<n.length&&BA(u,n[a])>=0&&(u.record.path!==n[a].record.path||!Ch(u,n[a]));)a++;n.splice(a,0,u),u.record.name&&!Bc(u)&&r.set(u.record.name,u)}function d(u,a){let l,h={},g,E;if("name"in u&&u.name){if(l=r.get(u.name),!l)throw rr(1,{location:u});E=l.record.name,h=Me(Fc(a.params,l.keys.filter(_=>!_.optional).concat(l.parent?l.parent.keys.filter(_=>_.optional):[]).map(_=>_.name)),u.params&&Fc(u.params,l.keys.map(_=>_.name))),g=l.stringify(h)}else if(u.path!=null)g=u.path,l=n.find(_=>_.re.test(g)),l&&(h=l.parse(g),E=l.record.name);else{if(l=a.name?r.get(a.name):n.find(_=>_.re.test(a.path)),!l)throw rr(1,{location:u,currentLocation:a});E=l.record.name,h=Me({},a.params,u.params),g=l.stringify(h)}const y=[];let m=l;for(;m;)y.unshift(m.record),m=m.parent;return{name:E,path:g,params:h,matched:y,meta:HA(y)}}return e.forEach(u=>o(u)),{addRoute:o,resolve:d,removeRoute:s,getRoutes:c,getRecordMatcher:i}}function Fc(e,t){const n={};for(const r of t)r in e&&(n[r]=e[r]);return n}function UA(e){return{path:e.path,redirect:e.redirect,name:e.name,meta:e.meta||{},aliasOf:void 0,beforeEnter:e.beforeEnter,props:VA(e),children:e.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in e?e.components||null:e.component&&{default:e.component}}}function VA(e){const t={},n=e.props||!1;if("component"in e)t.default=n;else for(const r in e.components)t[r]=typeof n=="object"?n[r]:n;return t}function Bc(e){for(;e;){if(e.record.aliasOf)return!0;e=e.parent}return!1}function HA(e){return e.reduce((t,n)=>Me(t,n.meta),{})}function Dc(e,t){const n={};for(const r in e)n[r]=r in t?t[r]:e[r];return n}function Ch(e,t){return t.children.some(n=>n===e||Ch(e,n))}function KA(e){const t={};if(e===""||e==="?")return t;const r=(e[0]==="?"?e.slice(1):e).split("&");for(let i=0;i<r.length;++i){const o=r[i].replace(vh," "),s=o.indexOf("="),c=Gr(s<0?o:o.slice(0,s)),f=s<0?null:Gr(o.slice(s+1));if(c in t){let d=t[c];kt(d)||(d=t[c]=[d]),d.push(f)}else t[c]=f}return t}function Mc(e){let t="";for(let n in e){const r=e[n];if(n=lA(n),r==null){r!==void 0&&(t+=(t.length?"&":"")+n);continue}(kt(r)?r.map(o=>o&&Ps(o)):[r&&Ps(r)]).forEach(o=>{o!==void 0&&(t+=(t.length?"&":"")+n,o!=null&&(t+="="+o))})}return t}function WA(e){const t={};for(const n in e){const r=e[n];r!==void 0&&(t[n]=kt(r)?r.map(i=>i==null?null:""+i):r==null?r:""+r)}return t}const zA=Symbol(""),kc=Symbol(""),So=Symbol(""),Lh=Symbol(""),Fs=Symbol("");function Er(){let e=[];function t(r){return e.push(r),()=>{const i=e.indexOf(r);i>-1&&e.splice(i,1)}}function n(){e=[]}return{add:t,list:()=>e.slice(),reset:n}}function fn(e,t,n,r,i,o=s=>s()){const s=r&&(r.enterCallbacks[i]=r.enterCallbacks[i]||[]);return()=>new Promise((c,f)=>{const d=l=>{l===!1?f(rr(4,{from:n,to:t})):l instanceof Error?f(l):TA(l)?f(rr(2,{from:t,to:l})):(s&&r.enterCallbacks[i]===s&&typeof l=="function"&&s.push(l),c())},u=o(()=>e.call(r&&r.instances[i],t,n,d));let a=Promise.resolve(u);e.length<3&&(a=a.then(d)),a.catch(l=>f(l))})}function Jo(e,t,n,r,i=o=>o()){const o=[];for(const s of e)for(const c in s.components){let f=s.components[c];if(!(t!=="beforeRouteEnter"&&!s.instances[c]))if(GA(f)){const u=(f.__vccOpts||f)[t];u&&o.push(fn(u,n,r,s,c,i))}else{let d=f();o.push(()=>d.then(u=>{if(!u)return Promise.reject(new Error(`Couldn't resolve component "${c}" at "${s.path}"`));const a=Jw(u)?u.default:u;s.components[c]=a;const h=(a.__vccOpts||a)[t];return h&&fn(h,n,r,s,c,i)()}))}}return o}function GA(e){return typeof e=="object"||"displayName"in e||"props"in e||"__vccOpts"in e}function Nc(e){const t=ht(So),n=ht(Lh),r=ye(()=>t.resolve(xe(e.to))),i=ye(()=>{const{matched:f}=r.value,{length:d}=f,u=f[d-1],a=n.matched;if(!u||!a.length)return-1;const l=a.findIndex(nr.bind(null,u));if(l>-1)return l;const h=jc(f[d-2]);return d>1&&jc(u)===h&&a[a.length-1].path!==h?a.findIndex(nr.bind(null,f[d-2])):l}),o=ye(()=>i.value>-1&&YA(n.params,r.value.params)),s=ye(()=>i.value>-1&&i.value===n.matched.length-1&&bh(n.params,r.value.params));function c(f={}){return XA(f)?t[xe(e.replace)?"replace":"push"](xe(e.to)).catch(Br):Promise.resolve()}return{route:r,href:ye(()=>r.value.href),isActive:o,isExactActive:s,navigate:c}}const $A=Le({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"}},useLink:Nc,setup(e,{slots:t}){const n=Kt(Nc(e)),{options:r}=ht(So),i=ye(()=>({[Uc(e.activeClass,r.linkActiveClass,"router-link-active")]:n.isActive,[Uc(e.exactActiveClass,r.linkExactActiveClass,"router-link-exact-active")]:n.isExactActive}));return()=>{const o=t.default&&t.default(n);return e.custom?o:ta("a",{"aria-current":n.isExactActive?e.ariaCurrentValue:null,href:n.href,onClick:n.navigate,class:i.value},o)}}}),qA=$A;function XA(e){if(!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)&&!e.defaultPrevented&&!(e.button!==void 0&&e.button!==0)){if(e.currentTarget&&e.currentTarget.getAttribute){const t=e.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(t))return}return e.preventDefault&&e.preventDefault(),!0}}function YA(e,t){for(const n in t){const r=t[n],i=e[n];if(typeof r=="string"){if(r!==i)return!1}else if(!kt(i)||i.length!==r.length||r.some((o,s)=>o!==i[s]))return!1}return!0}function jc(e){return e?e.aliasOf?e.aliasOf.path:e.path:""}const Uc=(e,t,n)=>e??t??n,JA=Le({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(e,{attrs:t,slots:n}){const r=ht(Fs),i=ye(()=>e.route||r.value),o=ht(kc,0),s=ye(()=>{let d=xe(o);const{matched:u}=i.value;let a;for(;(a=u[d])&&!a.components;)d++;return d}),c=ye(()=>i.value.matched[s.value]);yn(kc,ye(()=>s.value+1)),yn(zA,c),yn(Fs,i);const f=ie();return De(()=>[f.value,c.value,e.name],([d,u,a],[l,h,g])=>{u&&(u.instances[a]=d,h&&h!==u&&d&&d===l&&(u.leaveGuards.size||(u.leaveGuards=h.leaveGuards),u.updateGuards.size||(u.updateGuards=h.updateGuards))),d&&u&&(!h||!nr(u,h)||!l)&&(u.enterCallbacks[a]||[]).forEach(E=>E(d))},{flush:"post"}),()=>{const d=i.value,u=e.name,a=c.value,l=a&&a.components[u];if(!l)return Vc(n.default,{Component:l,route:d});const h=a.props[u],g=h?h===!0?d.params:typeof h=="function"?h(d):h:null,y=ta(l,Me({},g,t,{onVnodeUnmounted:m=>{m.component.isUnmounted&&(a.instances[u]=null)},ref:f}));return Vc(n.default,{Component:y,route:d})||y}}});function Vc(e,t){if(!e)return null;const n=e(t);return n.length===1?n[0]:n}const ZA=JA;function QA(e){const t=jA(e.routes,e),n=e.parseQuery||KA,r=e.stringifyQuery||Mc,i=e.history,o=Er(),s=Er(),c=Er(),f=Ci(on);let d=on;Kn&&e.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const u=Xo.bind(null,F=>""+F),a=Xo.bind(null,cA),l=Xo.bind(null,Gr);function h(F,W){let V,G;return wh(F)?(V=t.getRecordMatcher(F),G=W):G=F,t.addRoute(G,V)}function g(F){const W=t.getRecordMatcher(F);W&&t.removeRoute(W)}function E(){return t.getRoutes().map(F=>F.record)}function y(F){return!!t.getRecordMatcher(F)}function m(F,W){if(W=Me({},W||f.value),typeof F=="string"){const I=Yo(n,F,W.path),k=t.resolve({path:I.path},W),K=i.createHref(I.fullPath);return Me(I,k,{params:l(k.params),hash:Gr(I.hash),redirectedFrom:void 0,href:K})}let V;if(F.path!=null)V=Me({},F,{path:Yo(n,F.path,W.path).path});else{const I=Me({},F.params);for(const k in I)I[k]==null&&delete I[k];V=Me({},F,{params:a(I)}),W.params=a(W.params)}const G=t.resolve(V,W),le=F.hash||"";G.params=u(l(G.params));const re=hA(r,Me({},F,{hash:aA(le),path:G.path})),L=i.createHref(re);return Me({fullPath:re,hash:le,query:r===Mc?WA(F.query):F.query||{}},G,{redirectedFrom:void 0,href:L})}function _(F){return typeof F=="string"?Yo(n,F,f.value.path):Me({},F)}function x(F,W){if(d!==F)return rr(8,{from:W,to:F})}function p(F){return w(F)}function v(F){return p(Me(_(F),{replace:!0}))}function b(F){const W=F.matched[F.matched.length-1];if(W&&W.redirect){const{redirect:V}=W;let G=typeof V=="function"?V(F):V;return typeof G=="string"&&(G=G.includes("?")||G.includes("#")?G=_(G):{path:G},G.params={}),Me({query:F.query,hash:F.hash,params:G.path!=null?{}:F.params},G)}}function w(F,W){const V=d=m(F),G=f.value,le=F.state,re=F.force,L=F.replace===!0,I=b(V);if(I)return w(Me(_(I),{state:typeof I=="object"?Me({},le,I.state):le,force:re,replace:L}),W||V);const k=V;k.redirectedFrom=W;let K;return!re&&pA(r,G,V)&&(K=rr(16,{to:k,from:G}),de(G,G,!0,!1)),(K?Promise.resolve(K):P(k,G)).catch(H=>Gt(H)?Gt(H,2)?H:ne(H):Q(H,k,G)).then(H=>{if(H){if(Gt(H,2))return w(Me({replace:L},_(H.to),{state:typeof H.to=="object"?Me({},le,H.to.state):le,force:re}),W||k)}else H=C(k,G,!0,L,le);return R(k,G,H),H})}function A(F,W){const V=x(F,W);return V?Promise.reject(V):Promise.resolve()}function T(F){const W=ae.values().next().value;return W&&typeof W.runWithContext=="function"?W.runWithContext(F):F()}function P(F,W){let V;const[G,le,re]=eC(F,W);V=Jo(G.reverse(),"beforeRouteLeave",F,W);for(const I of G)I.leaveGuards.forEach(k=>{V.push(fn(k,F,W))});const L=A.bind(null,F,W);return V.push(L),ve(V).then(()=>{V=[];for(const I of o.list())V.push(fn(I,F,W));return V.push(L),ve(V)}).then(()=>{V=Jo(le,"beforeRouteUpdate",F,W);for(const I of le)I.updateGuards.forEach(k=>{V.push(fn(k,F,W))});return V.push(L),ve(V)}).then(()=>{V=[];for(const I of re)if(I.beforeEnter)if(kt(I.beforeEnter))for(const k of I.beforeEnter)V.push(fn(k,F,W));else V.push(fn(I.beforeEnter,F,W));return V.push(L),ve(V)}).then(()=>(F.matched.forEach(I=>I.enterCallbacks={}),V=Jo(re,"beforeRouteEnter",F,W,T),V.push(L),ve(V))).then(()=>{V=[];for(const I of s.list())V.push(fn(I,F,W));return V.push(L),ve(V)}).catch(I=>Gt(I,8)?I:Promise.reject(I))}function R(F,W,V){c.list().forEach(G=>T(()=>G(F,W,V)))}function C(F,W,V,G,le){const re=x(F,W);if(re)return re;const L=W===on,I=Kn?history.state:{};V&&(G||L?i.replace(F.fullPath,Me({scroll:L&&I&&I.scroll},le)):i.push(F.fullPath,le)),f.value=F,de(F,W,V,L),ne()}let O;function D(){O||(O=i.listen((F,W,V)=>{if(!je.listening)return;const G=m(F),le=b(G);if(le){w(Me(le,{replace:!0}),G).catch(Br);return}d=G;const re=f.value;Kn&&bA(Rc(re.fullPath,V.delta),bo()),P(G,re).catch(L=>Gt(L,12)?L:Gt(L,2)?(w(L.to,G).then(I=>{Gt(I,20)&&!V.delta&&V.type===$r.pop&&i.go(-1,!1)}).catch(Br),Promise.reject()):(V.delta&&i.go(-V.delta,!1),Q(L,G,re))).then(L=>{L=L||C(G,re,!1),L&&(V.delta&&!Gt(L,8)?i.go(-V.delta,!1):V.type===$r.pop&&Gt(L,20)&&i.go(-1,!1)),R(G,re,L)}).catch(Br)}))}let N=Er(),M=Er(),U;function Q(F,W,V){ne(F);const G=M.list();return G.length?G.forEach(le=>le(F,W,V)):console.error(F),Promise.reject(F)}function oe(){return U&&f.value!==on?Promise.resolve():new Promise((F,W)=>{N.add([F,W])})}function ne(F){return U||(U=!F,D(),N.list().forEach(([W,V])=>F?V(F):W()),N.reset()),F}function de(F,W,V,G){const{scrollBehavior:le}=e;if(!Kn||!le)return Promise.resolve();const re=!V&&SA(Rc(F.fullPath,0))||(G||!V)&&history.state&&history.state.scroll||null;return dt().then(()=>le(F,W,re)).then(L=>L&&xA(L)).catch(L=>Q(L,F,W))}const he=F=>i.go(F);let se;const ae=new Set,je={currentRoute:f,listening:!0,addRoute:h,removeRoute:g,hasRoute:y,getRoutes:E,resolve:m,options:e,push:p,replace:v,go:he,back:()=>he(-1),forward:()=>he(1),beforeEach:o.add,beforeResolve:s.add,afterEach:c.add,onError:M.add,isReady:oe,install(F){const W=this;F.component("RouterLink",qA),F.component("RouterView",ZA),F.config.globalProperties.$router=W,Object.defineProperty(F.config.globalProperties,"$route",{enumerable:!0,get:()=>xe(f)}),Kn&&!se&&f.value===on&&(se=!0,p(i.location).catch(le=>{}));const V={};for(const le in on)Object.defineProperty(V,le,{get:()=>f.value[le],enumerable:!0});F.provide(So,W),F.provide(Lh,uf(V)),F.provide(Fs,f);const G=F.unmount;ae.add(F),F.unmount=function(){ae.delete(F),ae.size<1&&(d=on,O&&O(),O=null,f.value=on,se=!1,U=!1),G()}}};function ve(F){return F.reduce((W,V)=>W.then(()=>T(V)),Promise.resolve())}return je}function eC(e,t){const n=[],r=[],i=[],o=Math.max(t.matched.length,e.matched.length);for(let s=0;s<o;s++){const c=t.matched[s];c&&(e.matched.find(d=>nr(d,c))?r.push(c):n.push(c));const f=e.matched[s];f&&(t.matched.find(d=>nr(d,f))||i.push(f))}return[n,r,i]}function tC(){return ht(So)}function nC(e){const{extendRoutes:t}=e;return QA(Object.assign(e,{routes:typeof t=="function"?t(Ac):Ac}))}const rC=Le({__name:"EdgerSafeArea",setup(e){const t=ye(()=>{var n,r,i,o;return{padding:`${((n=Sr.value)==null?void 0:n.top)??0}px ${((r=Sr.value)==null?void 0:r.right)??0}px ${((i=Sr.value)==null?void 0:i.bottom)??0}px ${((o=Sr.value)==null?void 0:o.left)??0}px`}});return(n,r)=>(Ke(),xn("div",{style:Yi(xe(t))},[Yp(n.$slots,"default")],4))}}),iC=Ce("span",null,"",-1),oC=Ce("div",{"i-ri:home-gear-line":""},null,-1),sC=Ce("span",null,"",-1),aC=Ce("div",{"i-icon-park-outline:camera-one":""},null,-1),lC=Ce("span",null,"",-1),uC=Ce("div",{"i-mdi:face-recognition":""},null,-1),cC=Ce("span",null,"",-1),fC=Ce("div",{"i-carbon:debug":""},null,-1),dC=Le({__name:"TabbarWrap",props:{showDebugPage:{type:Boolean}},setup(e){const t=tC(),n=["/action","/camera","/recognition","/test/debug"];return t.afterEach((r,i)=>{if(i.name===void 0)r.meta.transition="scale";else{const o=n.indexOf(r.name),s=n.indexOf(i.name);r.meta.transition=o<s?"slide-right":"slide-left"}}),(r,i)=>{const o=Yg,s=Gg;return Ke(),lt(s,{route:"","safe-area-inset-bottom":"",placeholder:""},{default:me(()=>[B(o,{name:"actions",replace:"",to:"/action"},{icon:me(()=>[oC]),default:me(()=>[iC]),_:1}),B(o,{name:"cameras",replace:"",to:"/camera"},{icon:me(()=>[aC]),default:me(()=>[sC]),_:1}),B(o,{name:"recognition",replace:"",to:"/recognition"},{icon:me(()=>[uC]),default:me(()=>[lC]),_:1}),e.showDebugPage?(Ke(),lt(o,{key:0,name:"debug",replace:"",to:"/test/debug"},{icon:me(()=>[fC]),default:me(()=>[cC]),_:1})):cs("",!0)]),_:1})}}}),hC=Le({__name:"App",setup(e){return _h.init({path:"/socket/device-push",query:go.value,transports:["websocket"]}),(t,n)=>{const r=Ip("router-view"),i=dC,o=Bg,s=pg,c=rC;return Ke(),lt(c,null,{default:me(()=>[B(s,{theme:"light"},{default:me(()=>[B(r,null,{default:me(({Component:f,route:d})=>[B(Bn,{name:d.meta.transition},{default:me(()=>[(Ke(),lt(Hp,null,[(Ke(),lt(Fp(f)))],1024))]),_:2},1032,["name"])]),_:1}),B(i),B(o,{"safe-area-inset-bottom":""})]),_:1})]),_:1})}}}),pC=a0(),Rh=nC({history:RA("./")});Rh.addRoute({path:"/",redirect:"/camera"});const Oa=qf(hC);Oa.use(pC);Oa.use(Rh);Ib().then(()=>{Oa.mount("#app")});
